!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var n,i,s=function(t){return t&&t.Math==Math&&t},o=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},h=function(t){try{return!!t()}catch(t){return!0}},u={}.toString,c=function(t){return u.call(t).slice(8,-1)},l="".split,f=h((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==c(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},y=function(t){return f(p(t))},d=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=o.document,m=b(g)&&b(g.createElement),v=function(t){return m?g.createElement(t):{}},w=!d&&!h((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),x=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},S=function(t,e){if(!b(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!b(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},k=Object.defineProperty,A={f:d?k:function(t,e,r){if(x(t),e=S(e,!0),x(r),w)try{return k(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},T=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=d?function(t,e,r){return A.f(t,e,T(1,r))}:function(t,e,r){return t[e]=r,t},E=function(t,e){try{O(o,t,e)}catch(r){o[t]=e}return e},j="__core-js_shared__",M=o[j]||E(j,{}),I=r((function(t){(t.exports=function(t,e){return M[t]||(M[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),G={}.hasOwnProperty,P=function(t,e){return G.call(t,e)},L=0,_=Math.random(),F=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++L+_).toString(36)},z="process"==c(o.process),q=o,N=function(t){return"function"==typeof t?t:void 0},C=function(t,e){return arguments.length<2?N(q[t])||N(o[t]):q[t]&&q[t][e]||o[t]&&o[t][e]},R=C("navigator","userAgent")||"",D=o.process,V=D&&D.versions,H=V&&V.v8;H?i=(n=H.split("."))[0]+n[1]:R&&(!(n=R.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=R.match(/Chrome\/(\d+)/))&&(i=n[1]);var K,W=i&&+i,B=!!Object.getOwnPropertySymbols&&!h((function(){return!Symbol.sham&&(z?38===W:W>37&&W<41)})),U=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=I("wks"),$=o.Symbol,X=U?$:$&&$.withoutSetter||F,J=function(t){return P(Y,t)&&(B||"string"==typeof Y[t])||(B&&P($,t)?Y[t]=$[t]:Y[t]=X("Symbol."+t)),Y[t]},Q=Math.ceil,Z=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?Z:Q)(t)},et=Math.min,rt=Math.max,nt=Math.min,it=function(t){return function(e,r,n){var i,s,o=y(e),a=(i=o.length)>0?et(tt(i),9007199254740991):0,h=function(t,e){var r=tt(t);return r<0?rt(r+e,0):nt(r,e)}(n,a);if(t&&r!=r){for(;a>h;)if((s=o[h++])!=s)return!0}else for(;a>h;h++)if((t||h in o)&&o[h]===r)return t||h||0;return!t&&-1}},st={includes:it(!0),indexOf:it(!1)},ot={},at=st.indexOf,ht=function(t,e){var r,n=y(t),i=0,s=[];for(r in n)!P(ot,r)&&P(n,r)&&s.push(r);for(;e.length>i;)P(n,r=e[i++])&&(~at(s,r)||s.push(r));return s},ut=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ct=Object.keys||function(t){return ht(t,ut)},lt=d?Object.defineProperties:function(t,e){x(t);for(var r,n=ct(e),i=n.length,s=0;i>s;)A.f(t,r=n[s++],e[r]);return t},ft=C("document","documentElement"),pt=I("keys"),yt=function(t){return pt[t]||(pt[t]=F(t))},dt=yt("IE_PROTO"),bt=function(){},gt=function(t){return"<script>"+t+"</"+"script>"},mt=function(){try{K=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;mt=K?function(t){t.write(gt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(K):((e=v("iframe")).style.display="none",ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(gt("document.F=Object")),t.close(),t.F);for(var r=ut.length;r--;)delete mt.prototype[ut[r]];return mt()};ot[dt]=!0;var vt=Object.create||function(t,e){var r;return null!==t?(bt.prototype=x(t),r=new bt,bt.prototype=null,r[dt]=t):r=mt(),void 0===e?r:lt(r,e)},wt=J("unscopables"),xt=Array.prototype;null==xt[wt]&&A.f(xt,wt,{configurable:!0,value:vt(null)});var St=function(t){xt[wt][t]=!0},kt=Function.toString;"function"!=typeof M.inspectSource&&(M.inspectSource=function(t){return kt.call(t)});var At,Tt,Ot,Et=M.inspectSource,jt=o.WeakMap,Mt="function"==typeof jt&&/native code/.test(Et(jt)),It=o.WeakMap;if(Mt){var Gt=M.state||(M.state=new It),Pt=Gt.get,Lt=Gt.has,_t=Gt.set;At=function(t,e){return e.facade=t,_t.call(Gt,t,e),e},Tt=function(t){return Pt.call(Gt,t)||{}},Ot=function(t){return Lt.call(Gt,t)}}else{var Ft=yt("state");ot[Ft]=!0,At=function(t,e){return e.facade=t,O(t,Ft,e),e},Tt=function(t){return P(t,Ft)?t[Ft]:{}},Ot=function(t){return P(t,Ft)}}var zt,qt,Nt,Ct={set:At,get:Tt,has:Ot,enforce:function(t){return Ot(t)?Tt(t):At(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=Tt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},Rt={}.propertyIsEnumerable,Dt=Object.getOwnPropertyDescriptor,Vt={f:Dt&&!Rt.call({1:2},1)?function(t){var e=Dt(this,t);return!!e&&e.enumerable}:Rt},Ht=Object.getOwnPropertyDescriptor,Kt={f:d?Ht:function(t,e){if(t=y(t),e=S(e,!0),w)try{return Ht(t,e)}catch(t){}if(P(t,e))return T(!Vt.f.call(t,e),t[e])}},Wt=r((function(t){var e=Ct.get,r=Ct.enforce,n=String(String).split("String");(t.exports=function(t,e,i,s){var a,h=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,c=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof e||P(i,"name")||O(i,"name",e),(a=r(i)).source||(a.source=n.join("string"==typeof e?e:""))),t!==o?(h?!c&&t[e]&&(u=!0):delete t[e],u?t[e]=i:O(t,e,i)):u?t[e]=i:E(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Et(this)}))})),Bt=ut.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return ht(t,Bt)}},Yt={f:Object.getOwnPropertySymbols},$t=C("Reflect","ownKeys")||function(t){var e=Ut.f(x(t)),r=Yt.f;return r?e.concat(r(t)):e},Xt=function(t,e){for(var r=$t(e),n=A.f,i=Kt.f,s=0;s<r.length;s++){var o=r[s];P(t,o)||n(t,o,i(e,o))}},Jt=/#|\.prototype\./,Qt=function(t,e){var r=te[Zt(t)];return r==re||r!=ee&&("function"==typeof e?h(e):!!e)},Zt=Qt.normalize=function(t){return String(t).replace(Jt,".").toLowerCase()},te=Qt.data={},ee=Qt.NATIVE="N",re=Qt.POLYFILL="P",ne=Qt,ie=Kt.f,se=function(t,e){var r,n,i,s,a,h=t.target,u=t.global,c=t.stat;if(r=u?o:c?o[h]||E(h,{}):(o[h]||{}).prototype)for(n in e){if(s=e[n],i=t.noTargetGet?(a=ie(r,n))&&a.value:r[n],!ne(u?n:h+(c?".":"#")+n,t.forced)&&void 0!==i){if(typeof s==typeof i)continue;Xt(s,i)}(t.sham||i&&i.sham)&&O(s,"sham",!0),Wt(r,n,s,t)}},oe=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ae=yt("IE_PROTO"),he=Object.prototype,ue=oe?Object.getPrototypeOf:function(t){return t=Object(p(t)),P(t,ae)?t[ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?he:null},ce=J("iterator"),le=!1;[].keys&&("next"in(Nt=[].keys())?(qt=ue(ue(Nt)))!==Object.prototype&&(zt=qt):le=!0),(null==zt||h((function(){var t={};return zt[ce].call(t)!==t})))&&(zt={}),P(zt,ce)||O(zt,ce,(function(){return this}));var fe={IteratorPrototype:zt,BUGGY_SAFARI_ITERATORS:le},pe=A.f,ye=J("toStringTag"),de=function(t,e,r){t&&!P(t=r?t:t.prototype,ye)&&pe(t,ye,{configurable:!0,value:e})},be=fe.IteratorPrototype,ge=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return x(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),me=fe.IteratorPrototype,ve=fe.BUGGY_SAFARI_ITERATORS,we=J("iterator"),xe="keys",Se="values",ke="entries",Ae=function(){return this},Te="Array Iterator",Oe=Ct.set,Ee=Ct.getterFor(Te),je=function(t,e,r,n,i,s,o){!function(t,e,r){var n=e+" Iterator";t.prototype=vt(be,{next:T(1,r)}),de(t,n,!1)}(r,e,n);var a,h,u,c=function(t){if(t===i&&d)return d;if(!ve&&t in p)return p[t];switch(t){case xe:case Se:case ke:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",f=!1,p=t.prototype,y=p[we]||p["@@iterator"]||i&&p[i],d=!ve&&y||c(i),b="Array"==e&&p.entries||y;if(b&&(a=ue(b.call(new t)),me!==Object.prototype&&a.next&&(ue(a)!==me&&(ge?ge(a,me):"function"!=typeof a[we]&&O(a,we,Ae)),de(a,l,!0))),i==Se&&y&&y.name!==Se&&(f=!0,d=function(){return y.call(this)}),p[we]!==d&&O(p,we,d),i)if(h={values:c(Se),keys:s?d:c(xe),entries:c(ke)},o)for(u in h)(ve||f||!(u in p))&&Wt(p,u,h[u]);else se({target:e,proto:!0,forced:ve||f},h);return h}(Array,"Array",(function(t,e){Oe(this,{type:Te,target:y(t),index:0,kind:e})}),(function(){var t=Ee(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");St("keys"),St("values"),St("entries");var Me=J("iterator"),Ie=J("toStringTag"),Ge=je.values;for(var Pe in a){var Le=o[Pe],_e=Le&&Le.prototype;if(_e){if(_e[Me]!==Ge)try{O(_e,Me,Ge)}catch(t){_e[Me]=Ge}if(_e[Ie]||O(_e,Ie,Pe),a[Pe])for(var Fe in je)if(_e[Fe]!==je[Fe])try{O(_e,Fe,je[Fe])}catch(t){_e[Fe]=je[Fe]}}}var ze=A.f,qe=o.Symbol;if(d&&"function"==typeof qe&&(!("description"in qe.prototype)||void 0!==qe().description)){var Ne={},Ce=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Ce?new qe(t):void 0===t?qe():qe(t);return""===t&&(Ne[e]=!0),e};Xt(Ce,qe);var Re=Ce.prototype=qe.prototype;Re.constructor=Ce;var De=Re.toString,Ve="Symbol(test)"==String(qe("test")),He=/^Symbol\((.*)\)[^)]+$/;ze(Re,"description",{configurable:!0,get:function(){var t=b(this)?this.valueOf():this,e=De.call(t);if(P(Ne,t))return"";var r=Ve?e.slice(7,-1):e.replace(He,"$1");return""===r?void 0:r}}),se({global:!0,forced:!0},{Symbol:Ce})}function Ke(t,e=0,r=0){const n=1&(r=r&&r>0?Math.min(r,t.length):t.length),i=r-n;let s=e|=0,o=0,a=0;for(;a<i;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353*o|0,o=o<<15|o>>>17,o*=461845907,s^=o,s=s<<13|s>>>19,s=5*s+3864292196;return n&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,s^=o),s^=r,s^=s>>>16,s*=2246822507,s^=s>>>13,s*=3266489909,s^=s>>>16,0|s}function We(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Be(t){return!(!t||!We(t[Symbol.iterator]))}function Ue(t,e){return t===e}function Ye(t,e,r=-1){return 0!==r&&Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>Ye(t,e[n],r-1))):t===e}function $e(t){switch(typeof t){case"boolean":return{equalTo:Ue,hash:t?0:1};case"number":return Number.isNaN(t)?{equalTo:function(t,e){return Number.isNaN(e)},hash:0}:Number.isFinite(t)?Number.isInteger(t)?{equalTo:Ue,hash:t}:{equalTo:Ue,hash:Ke(t.toString())}:{equalTo:Ue,hash:0};case"string":return{equalTo:Ue,hash:Ke(t)};case"undefined":return{equalTo:Ue,hash:0};default:if(!t)return{equalTo:Ue,hash:0};if(t instanceof RegExp)return{equalTo:function(t,e){return!!(e&&e instanceof RegExp)&&t.toString()===e.toString()},hash:Ke(t.toString())};if(t instanceof Date)return{equalTo:function(t,e){return e instanceof Date&&t.getTime()===e.getTime()},hash:0|t.getTime()};if(t instanceof Array){let e=[],r=t.length;for(let n=0;n<t.length;n++){const i=$e(t[n]);e.push(i.equalTo),r+=31*i.hash}return Object.freeze(e),{equalTo:function(t,r){if(r instanceof Array&&t.length===r.length){for(let n=0;n<t.length;n++)if(!e[n](t[n],r[n]))return!1;return!0}return!1},hash:0|r}}return t.hasOwnProperty("_hmuid_")||(t._hmuid_=++er.uid),$e(t._hmuid_)}}class Xe{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof Xe?t:new hr(t)}filter(t=(()=>!0),e=this){return new ur(this,t,e)}forEach(t=(()=>{}),e=this){for(const[r,n]of this)t.call(e,n,r,this);return this}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(We(t.set))for(const[e,r]of this)t.set(e,r);else if(We(t.add))for(const e of this)t.add(e);else for(const[e,r]of this)t[e]=r;return t}every(t=(()=>!0),e=this){for(const[r,n]of this)if(!t.call(e,n,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return!0;return!1}find(t=(()=>!0),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return n}findIndex(t=((t,e)=>e),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return r}indexOf(t,e=-1){if(Array.isArray(t)){for(const[r,n]of this)if(Ye(t,n,e))return r}else for(const[e,r]of this)if(Ue(t,r))return e}has(t){const e=$e(t).equalTo;return this.some(((r,n)=>e(n,t)))}get(t){const e=$e(t).equalTo;return this.find(((r,n)=>e(t,n)))}optionalGet(t){const e=$e(t).equalTo;let r=!1;const n=this.find(((n,i)=>!!e(t,i)&&(r=!0,!0)));return r?Qe.of(n):Qe.none()}reduce(t=((t,e)=>e),e,r=this){let n=e;for(const[e,i]of this)n=t.call(r,n,i,e,this);return n}mapKeys(t=((t,e)=>e),e=this){return new cr(this,t,e)}mapValues(t=(t=>t),e=this){return new lr(this,t,e)}mapEntries(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t)){if(1===t.length&&We(t[0]))return this.mapKeys(t[0],e);if(t.length>1){if(We(t[0])){if(We(t[1])){return new fr(this,((r,n,i)=>[t[0].call(e,r,n,i),t[1].call(e,r,n,i)]),this)}return this.mapKeys(t[0],e)}if(We(t[1]))return this.mapValues(t[1],e)}}else if(We(t))return new fr(this,t,e);throw new TypeError("MapIterable.mapEntries expects a function or an array of functions")}map(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t))return this.mapEntries(t,e);if(We(t))return new dr(this,t,e);throw new TypeError("MapIterable.map expects a function or an array of functions")}concat(t){return t?t instanceof Xe||t instanceof Map?this.concatMap(t):new yr(this,Je.from(t)):this}concatMap(t){return t?new pr(this,Xe.from(t)):this}keys(){return new dr(this,((t,e)=>e),this)}values(){return new dr(this,(t=>t),this)}entries(){return this}}class Je{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof Je?t:new ar(t)}filter(t=(()=>!0),e=this){return new gr(this,t,e)}forEach(t=(()=>{}),e=this){for(const r of this)t.call(e,r,r,this)}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(We(t.add))for(const e of this)t.add(e);else if(We(t.set))for(const e of this)t.set(e);return t}reduce(t=((t,e)=>e),e,r=this){let n=e;for(const e of this)n=t.call(r,n,e,e,this);return n}every(t=(()=>!0),e=this){for(const r of this)if(!t.call(e,r,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,this))return!0;return!1}has(t,e=-1){return Array.isArray(t)?this.some((r=>Ye(r,t,e))):this.some((e=>Ue(e,t)))}find(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,r,this))return r}map(t=(t=>t),e=this){return new br(this,t,e)}concat(t=[]){return new yr(this,Je.from(t))}values(){return this}keys(){return this}entries(){return Xe.from(this.map((t=>[t,t])))}}class Qe{constructor(t,e){this.has=t,this.value=e}static of(t){return new Qe(!0,t)}static none(){return new Qe(!1,void 0)}}class Ze{constructor(t,e){this.key=t,this.value=e}overwrite(t){t.value=this.value}delete(){}}class tr extends Ze{constructor(t,e){super(t,e),this.previous=void 0,this.next=void 0}overwrite(t){t.value=this.value,this.deleted=!0}delete(){this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous),this.deleted=!0}}class er extends Xe{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6}){super();let{depth:e,widthAs2sExponent:r,copy:n}=t;r=Math.max(1,Math.min(16,r));const i=(32/r>>0)-1;e=Math.max(0,Math.min(e&&e>0?e-1:i,i));const s=1<<r,o=s-1;this.options=Object.freeze({widthAs2sExponent:r,width:s,mask:o,depth:e}),this.clear(),(t.forEach||n&&n.forEach)&&this.copy(t.forEach?t:n)}get size(){return this.length}has(t){if(this.buckets){const e=$e(t);return this.buckets.has(t,e.equalTo,e.hash)}return!1}get(t){if(this.buckets){const e=$e(t);return this.buckets.get(t,e.equalTo,e.hash)}}optionalGet(t){if(this.buckets){const e=$e(t);return this.buckets.optionalGet(t,e.equalTo,e.hash)}return Qe.none()}set(t,e){return this.addEntry(new Ze(t,e)),this}addEntry(t){const e=$e(t.key);return this.buckets?(this.buckets=this.buckets.set(t,e.equalTo,e.hash),this.length=this.buckets.length):(this.buckets=new sr(t,e.hash,Object.assign({},this.options),this.options.depth),this.length=1),t}copy(t){const e=this;if(Be(t)){for(const[r,n]of t)e.set(r,n);return this}if(We(t.entries)){for(const[r,n]of t.entries())e.set(r,n);return this}if(We(t.forEach))return t.forEach((function(t,r){e.set(r,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable or has a forEach function on it")}clone(){return new er({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}delete(t){if(this.buckets){const e=$e(t);this.buckets=this.buckets.delete(t,e.equalTo,e.hash),this.buckets?this.length=this.buckets.length:this.length=0}return this}clear(){return this.buckets=void 0,this.length=0,this}*[Symbol.iterator](){if(this.buckets)for(const t of this.buckets)yield t}}er.uid=0;class rr extends er{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6}){super(t),this.start=void 0,this.end=void 0}set(t,e){const r=this.addEntry(new tr(t,e));return this.end?r.deleted||(this.end.next=r,r.previous=this.end,this.end=r):this.end=this.start=r,this}delete(t){return super.delete(t),this.start&&this.start.deleted&&(this.start=this.start.next),this.end&&this.end.deleted&&(this.end=this.end.previous),this}clone(){return new rr({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}*[Symbol.iterator](){let t=this.start;for(;t;)yield[t.key,t.value],t=t.next}}class nr{constructor(t){this.entry=t,this.length=1}get key(){return this.entry.key}get value(){return this.entry.value}get(t,e){if(e(t,this.key))return this.entry.value}optionalGet(t,e){return e(t,this.key)?Qe.of(this.entry.value):Qe.none()}set(t,e){return e(t.key,this.key)?(t.overwrite(this.entry),this):new ir(t,this)}has(t,e){return e(t,this.key)}delete(t,e){if(!e(t,this.key))return this;this.entry.delete()}forEach(t,e){return t.call(e,this.value,this.key),this}*[Symbol.iterator](){0!==this.length&&(yield[this.key,this.value])}}class ir extends nr{constructor(t,e){super(t),this.next=e,this.length=e.length+1}get(t,e){let r=this;do{if(e(t,r.key))return r.value;r=r.next}while(r)}optionalGet(t,e){let r=this;do{if(e(t,r.key))return Qe.of(r.value);r=r.next}while(r);return Qe.none()}set(t,e){let r=this;for(;r;){if(e(t.key,r.key))return t.overwrite(this.entry),this;r=r.next}return new ir(t,this)}has(t,e){let r=this;do{if(e(t,r.key))return!0;r=r.next}while(r);return!1}delete(t,e){if(e(t,this.key))return this.entry.delete(),this.next&&(this.next.length=this.length-1),this.next;let r=this.next,n=this;for(;r;){if(e(t,r.key)){r.entry.delete();const t=r.next;return t?(r.entry=t.entry,r.next=t.next):n.next=void 0,this.length--,this}n=r,r=r.next}return this}*[Symbol.iterator](){let t=this;for(;t;)yield[t.key,t.value],t=t.next}}class sr extends nr{constructor(t,e,r,n){super(t),this.hash=e,this.options=r,this.depth=n}set(t,e,r){if(r===this.hash&&e(t.key,this.key))return t.overwrite(this.entry),this;const n=new or(this.options,this.depth);return n.set(this.entry,(()=>!1),this.hash),n.set(t,(()=>!1),r),n}get(t,e,r){if(r===this.hash&&e(t,this.key))return this.value}optionalGet(t,e,r){return r===this.hash&&e(t,this.key)?Qe.of(this.value):Qe.none()}has(t,e,r){return r===this.hash&&e(t,this.key)}delete(t,e,r){if(r!==this.hash||!e(t,this.key))return this;this.entry.delete()}}class or{constructor(t,e){this.options=t,this.length=0,this.depth=e,this.buckets=new Array(this.options.width)}get(t,e,r){const n=this.buckets[r&this.options.mask];if(n)return n.get(t,e,r>>>this.options.widthAs2sExponent)}optionalGet(t,e,r){const n=this.buckets[r&this.options.mask];return n?n.optionalGet(t,e,r>>>this.options.widthAs2sExponent):Qe.none()}set(t,e,r){const n=r&this.options.mask;let i=this.buckets[n];if(i){const s=i.length;this.buckets[n]=i.set(t,e,r>>>this.options.widthAs2sExponent),this.buckets[n].length!==s&&this.length++}else this.depth?(this.buckets[n]=new sr(t,r>>>this.options.widthAs2sExponent,this.options,this.depth-1),this.length++):(this.buckets[n]=new nr(t),this.length++);return this}has(t,e,r){const n=this.buckets[r&this.options.mask];return!!n&&n.has(t,e,r>>>this.options.widthAs2sExponent)}delete(t,e,r){const n=r&this.options.mask;let i=this.buckets[n];return i&&(i=i.delete(t,e,r>>>this.options.widthAs2sExponent),i&&0!==i.length||(this.buckets[n]=void 0,this.length--)),this}*[Symbol.iterator](){for(const t of this.buckets)if(t)for(const e of t)yield e}}class ar extends Je{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}has(t,e){return this.iterable instanceof Set||this.iterable instanceof Je?this.iterable.has(t,e):super.has(t,e)}*[Symbol.iterator](){yield*this.iterable}}class hr extends Xe{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}*[Symbol.iterator](){yield*this.iterable}has(t){return We(this.iterable.optionalGet)?this.iterable.optionalGet(t).has:We(this.iterable.has)?this.iterable.has(t):super.has(t)}optionalGet(t){return We(this.iterable.optionalGet)?this.iterable.optionalGet(t):We(this.iterable.has)?this.iterable.has(t)?(We(this.iterable.get)&&Qe.of(this.iterable.get(t)),Qe.of(super.get(t))):Qe.none():super.optionalGet(t)}get(t){return We(this.iterable.optionalGet)?this.iterable.optionalGet(t).value:We(this.iterable.get)?this.iterable.get(t):super.get(t)}}class ur extends hr{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let[t,e]of this.iterable)this.filterPredicate.call(this.ctx,e,t,this)&&(yield[t,e])}optionalGet(t){const e=super.optionalGet(t);return e.has&&!this.filterPredicate.call(this.ctx,e.value,t,this)?Qe.none():e}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class cr extends hr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[this.mapFunction.call(this.ctx,e,t,this),e]}}class lr extends hr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[t,this.mapFunction.call(this.ctx,e,t,this)]}optionalGet(t){const e=super.optionalGet(t);return e.has?Qe.of(this.mapFunction.call(this.ctx,e.value,t,this)):e}}class fr extends hr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable){const[r,n]=this.mapFunction.call(this.ctx,e,t,this);yield[r,n]}}get(t){if(this.iterable.has(t)){const e=this.iterable.get(t);return this.mapFunction.call(this.ctx,e,t,this)[1]}}}class pr extends Xe{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}optionalGet(t){const e=this.iterable.optionalGet(t);return e.has?e:this.otherIterable.optionalGet(t)}has(t){return this.iterable.has(t)||this.otherIterable.has(t)}get(t){return this.iterable.get(t)||this.otherIterable.get(t)}}class yr extends Je{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}has(t,e=-1){return super.has(t,e)||this.otherIterable.has(t,e)}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}}class dr extends ar{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield this.mapFunction.call(this.ctx,e,t,this)}has(t){return!!Array.isArray(t)&&this.iterable.some((e=>Ye(t,e)))}}class br extends ar{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let t of this.iterable)yield this.mapFunction.call(this.ctx,t,t,this)}has(t,e=-1){return Array.isArray(t)?this.some((r=>Ye(t,r,e))):this.some((e=>Ue(t,e)))}}class gr extends ar{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let t of this.iterable)this.filterPredicate.call(this.ctx,t,t,this)&&(yield t)}has(t,e=-1){return!!this.iterable.has(t,e)&&this.filterPredicate.call(this.ctx,t,t,this)}}const mr={...{HashMap:er,LinkedHashMap:rr,MapIterable:Xe,SetIterable:Je},Utils:{hashCode:Ke,isFunction:We,isIterable:Be,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},isNumber:function(t){return!!(t&&("number"==typeof t||t instanceof Number)&&isFinite(t))}}};t.HashMap=er,t.LinkedHashMap=rr,t.MapIterable=Xe,t.Mootable=mr,t.SetIterable=Je,t.default=er,t.hashCode=Ke,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
