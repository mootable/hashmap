!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var i,n,s=function(t){return t&&t.Math==Math&&t},o=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},h=function(t){try{return!!t()}catch(t){return!0}},u={}.toString,c=function(t){return u.call(t).slice(8,-1)},l="".split,f=h((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==c(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},y=function(t){return f(p(t))},d=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=o.document,m=b(g)&&b(g.createElement),v=function(t){return m?g.createElement(t):{}},w=!d&&!h((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),x=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},S=function(t,e){if(!b(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!b(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!b(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!b(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")},k=Object.defineProperty,A={f:d?k:function(t,e,r){if(x(t),e=S(e,!0),x(r),w)try{return k(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},T=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=d?function(t,e,r){return A.f(t,e,T(1,r))}:function(t,e,r){return t[e]=r,t},E=function(t,e){try{O(o,t,e)}catch(r){o[t]=e}return e},j="__core-js_shared__",M=o[j]||E(j,{}),G=r((function(t){(t.exports=function(t,e){return M[t]||(M[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),P={}.hasOwnProperty,I=function(t,e){return P.call(t,e)},L=0,_=Math.random(),F=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++L+_).toString(36)},z="process"==c(o.process),q=o,N=function(t){return"function"==typeof t?t:void 0},C=function(t,e){return arguments.length<2?N(q[t])||N(o[t]):q[t]&&q[t][e]||o[t]&&o[t][e]},R=C("navigator","userAgent")||"",D=o.process,V=D&&D.versions,H=V&&V.v8;H?n=(i=H.split("."))[0]+i[1]:R&&(!(i=R.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=R.match(/Chrome\/(\d+)/))&&(n=i[1]);var K,W=n&&+n,B=!!Object.getOwnPropertySymbols&&!h((function(){return!Symbol.sham&&(z?38===W:W>37&&W<41)})),U=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=G("wks"),$=o.Symbol,X=U?$:$&&$.withoutSetter||F,J=function(t){return I(Y,t)&&(B||"string"==typeof Y[t])||(B&&I($,t)?Y[t]=$[t]:Y[t]=X("Symbol."+t)),Y[t]},Q=Math.ceil,Z=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?Z:Q)(t)},et=Math.min,rt=Math.max,it=Math.min,nt=function(t){return function(e,r,i){var n,s,o=y(e),a=(n=o.length)>0?et(tt(n),9007199254740991):0,h=function(t,e){var r=tt(t);return r<0?rt(r+e,0):it(r,e)}(i,a);if(t&&r!=r){for(;a>h;)if((s=o[h++])!=s)return!0}else for(;a>h;h++)if((t||h in o)&&o[h]===r)return t||h||0;return!t&&-1}},st={includes:nt(!0),indexOf:nt(!1)},ot={},at=st.indexOf,ht=function(t,e){var r,i=y(t),n=0,s=[];for(r in i)!I(ot,r)&&I(i,r)&&s.push(r);for(;e.length>n;)I(i,r=e[n++])&&(~at(s,r)||s.push(r));return s},ut=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ct=Object.keys||function(t){return ht(t,ut)},lt=d?Object.defineProperties:function(t,e){x(t);for(var r,i=ct(e),n=i.length,s=0;n>s;)A.f(t,r=i[s++],e[r]);return t},ft=C("document","documentElement"),pt=G("keys"),yt=function(t){return pt[t]||(pt[t]=F(t))},dt=yt("IE_PROTO"),bt=function(){},gt=function(t){return"<script>"+t+"</"+"script>"},mt=function(){try{K=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;mt=K?function(t){t.write(gt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(K):((e=v("iframe")).style.display="none",ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(gt("document.F=Object")),t.close(),t.F);for(var r=ut.length;r--;)delete mt.prototype[ut[r]];return mt()};ot[dt]=!0;var vt=Object.create||function(t,e){var r;return null!==t?(bt.prototype=x(t),r=new bt,bt.prototype=null,r[dt]=t):r=mt(),void 0===e?r:lt(r,e)},wt=J("unscopables"),xt=Array.prototype;null==xt[wt]&&A.f(xt,wt,{configurable:!0,value:vt(null)});var St=function(t){xt[wt][t]=!0},kt=Function.toString;"function"!=typeof M.inspectSource&&(M.inspectSource=function(t){return kt.call(t)});var At,Tt,Ot,Et=M.inspectSource,jt=o.WeakMap,Mt="function"==typeof jt&&/native code/.test(Et(jt)),Gt=o.WeakMap;if(Mt){var Pt=M.state||(M.state=new Gt),It=Pt.get,Lt=Pt.has,_t=Pt.set;At=function(t,e){return e.facade=t,_t.call(Pt,t,e),e},Tt=function(t){return It.call(Pt,t)||{}},Ot=function(t){return Lt.call(Pt,t)}}else{var Ft=yt("state");ot[Ft]=!0,At=function(t,e){return e.facade=t,O(t,Ft,e),e},Tt=function(t){return I(t,Ft)?t[Ft]:{}},Ot=function(t){return I(t,Ft)}}var zt,qt,Nt,Ct={set:At,get:Tt,has:Ot,enforce:function(t){return Ot(t)?Tt(t):At(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=Tt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},Rt={}.propertyIsEnumerable,Dt=Object.getOwnPropertyDescriptor,Vt={f:Dt&&!Rt.call({1:2},1)?function(t){var e=Dt(this,t);return!!e&&e.enumerable}:Rt},Ht=Object.getOwnPropertyDescriptor,Kt={f:d?Ht:function(t,e){if(t=y(t),e=S(e,!0),w)try{return Ht(t,e)}catch(t){}if(I(t,e))return T(!Vt.f.call(t,e),t[e])}},Wt=r((function(t){var e=Ct.get,r=Ct.enforce,i=String(String).split("String");(t.exports=function(t,e,n,s){var a,h=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,c=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||I(n,"name")||O(n,"name",e),(a=r(n)).source||(a.source=i.join("string"==typeof e?e:""))),t!==o?(h?!c&&t[e]&&(u=!0):delete t[e],u?t[e]=n:O(t,e,n)):u?t[e]=n:E(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Et(this)}))})),Bt=ut.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return ht(t,Bt)}},Yt={f:Object.getOwnPropertySymbols},$t=C("Reflect","ownKeys")||function(t){var e=Ut.f(x(t)),r=Yt.f;return r?e.concat(r(t)):e},Xt=function(t,e){for(var r=$t(e),i=A.f,n=Kt.f,s=0;s<r.length;s++){var o=r[s];I(t,o)||i(t,o,n(e,o))}},Jt=/#|\.prototype\./,Qt=function(t,e){var r=te[Zt(t)];return r==re||r!=ee&&("function"==typeof e?h(e):!!e)},Zt=Qt.normalize=function(t){return String(t).replace(Jt,".").toLowerCase()},te=Qt.data={},ee=Qt.NATIVE="N",re=Qt.POLYFILL="P",ie=Qt,ne=Kt.f,se=function(t,e){var r,i,n,s,a,h=t.target,u=t.global,c=t.stat;if(r=u?o:c?o[h]||E(h,{}):(o[h]||{}).prototype)for(i in e){if(s=e[i],n=t.noTargetGet?(a=ne(r,i))&&a.value:r[i],!ie(u?i:h+(c?".":"#")+i,t.forced)&&void 0!==n){if(typeof s==typeof n)continue;Xt(s,n)}(t.sham||n&&n.sham)&&O(s,"sham",!0),Wt(r,i,s,t)}},oe=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ae=yt("IE_PROTO"),he=Object.prototype,ue=oe?Object.getPrototypeOf:function(t){return t=Object(p(t)),I(t,ae)?t[ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?he:null},ce=J("iterator"),le=!1;[].keys&&("next"in(Nt=[].keys())?(qt=ue(ue(Nt)))!==Object.prototype&&(zt=qt):le=!0),(null==zt||h((function(){var t={};return zt[ce].call(t)!==t})))&&(zt={}),I(zt,ce)||O(zt,ce,(function(){return this}));var fe={IteratorPrototype:zt,BUGGY_SAFARI_ITERATORS:le},pe=A.f,ye=J("toStringTag"),de=function(t,e,r){t&&!I(t=r?t:t.prototype,ye)&&pe(t,ye,{configurable:!0,value:e})},be=fe.IteratorPrototype,ge=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return x(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(i),e?t.call(r,i):r.__proto__=i,r}}():void 0),me=fe.IteratorPrototype,ve=fe.BUGGY_SAFARI_ITERATORS,we=J("iterator"),xe="keys",Se="values",ke="entries",Ae=function(){return this},Te="Array Iterator",Oe=Ct.set,Ee=Ct.getterFor(Te),je=function(t,e,r,i,n,s,o){!function(t,e,r){var i=e+" Iterator";t.prototype=vt(be,{next:T(1,r)}),de(t,i,!1)}(r,e,i);var a,h,u,c=function(t){if(t===n&&d)return d;if(!ve&&t in p)return p[t];switch(t){case xe:case Se:case ke:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",f=!1,p=t.prototype,y=p[we]||p["@@iterator"]||n&&p[n],d=!ve&&y||c(n),b="Array"==e&&p.entries||y;if(b&&(a=ue(b.call(new t)),me!==Object.prototype&&a.next&&(ue(a)!==me&&(ge?ge(a,me):"function"!=typeof a[we]&&O(a,we,Ae)),de(a,l,!0))),n==Se&&y&&y.name!==Se&&(f=!0,d=function(){return y.call(this)}),p[we]!==d&&O(p,we,d),n)if(h={values:c(Se),keys:s?d:c(xe),entries:c(ke)},o)for(u in h)(ve||f||!(u in p))&&Wt(p,u,h[u]);else se({target:e,proto:!0,forced:ve||f},h);return h}(Array,"Array",(function(t,e){Oe(this,{type:Te,target:y(t),index:0,kind:e})}),(function(){var t=Ee(this),e=t.target,r=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:i,done:!1}:"values"==r?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");St("keys"),St("values"),St("entries");var Me=J("iterator"),Ge=J("toStringTag"),Pe=je.values;for(var Ie in a){var Le=o[Ie],_e=Le&&Le.prototype;if(_e){if(_e[Me]!==Pe)try{O(_e,Me,Pe)}catch(t){_e[Me]=Pe}if(_e[Ge]||O(_e,Ge,Ie),a[Ie])for(var Fe in je)if(_e[Fe]!==je[Fe])try{O(_e,Fe,je[Fe])}catch(t){_e[Fe]=je[Fe]}}}var ze=A.f,qe=o.Symbol;if(d&&"function"==typeof qe&&(!("description"in qe.prototype)||void 0!==qe().description)){var Ne={},Ce=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Ce?new qe(t):void 0===t?qe():qe(t);return""===t&&(Ne[e]=!0),e};Xt(Ce,qe);var Re=Ce.prototype=qe.prototype;Re.constructor=Ce;var De=Re.toString,Ve="Symbol(test)"==String(qe("test")),He=/^Symbol\((.*)\)[^)]+$/;ze(Re,"description",{configurable:!0,get:function(){var t=b(this)?this.valueOf():this,e=De.call(t);if(I(Ne,t))return"";var r=Ve?e.slice(7,-1):e.replace(He,"$1");return""===r?void 0:r}}),se({global:!0,forced:!0},{Symbol:Ce})}let Ke=0;function We(t,e=0,r=0){const i=1&(e=e&&e>0?Math.min(e,t.length):t.length),n=e-i;let s=r|=0,o=0,a=0;for(;a<n;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353*o|0,o=o<<15|o>>>17,o*=461845907,s^=o,s=s<<13|s>>>19,s=5*s+3864292196;return i&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,s^=o),s^=e,s^=s>>>16,s*=2246822507,s^=s>>>13,s*=3266489909,s^=s>>>16,0|s}function Be(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Ue(t){return!(!t||!Be(t[Symbol.iterator]))}function Ye(t,e){return t===e}function $e(t,e,r=-1){return 0!==r&&Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(((t,i)=>$e(t,e[i],r-1))):t===e}function Xe(t){switch(typeof t){case"boolean":return{equalTo:Ye,hash:t?0:1};case"number":return Number.isNaN(t)?{equalTo:function(t,e){return Number.isNaN(e)},hash:0}:Number.isFinite(t)?Number.isInteger(t)?{equalTo:Ye,hash:t}:{equalTo:Ye,hash:We(t.toString())}:{equalTo:Ye,hash:0};case"string":return{equalTo:Ye,hash:We(t)};case"undefined":return{equalTo:Ye,hash:0};default:if(!t)return{equalTo:Ye,hash:0};if(t instanceof RegExp)return{equalTo:function(t,e){return!!(e&&e instanceof RegExp)&&t.toString()===e.toString()},hash:We(t.toString())};if(t instanceof Date)return{equalTo:function(t,e){return e instanceof Date&&t.getTime()===e.getTime()},hash:0|t.getTime()};if(t instanceof Array){let e=[],r=t.length;for(let i=0;i<t.length;i++){const n=Xe(t[i]);e.push(n.equalTo),r+=31*n.hash}return Object.freeze(e),{equalTo:function(t,r){if(r instanceof Array&&t.length===r.length){for(let i=0;i<t.length;i++)if(!e[i](t[i],r[i]))return!1;return!0}return!1},hash:0|r}}return t.hasOwnProperty("_hmuid_")||(t._hmuid_=++Ke),Xe(t._hmuid_)}}class Je{constructor(t,e){this.has=t,this.value=e}static some(t){return new Je(!0,t)}static get none(){return Ze}}const Qe=Je.some,Ze=new Je(!1,void 0);class tr{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof tr?t:new ir(t)}filter(t=(()=>!0),e=this){return new nr(this,t,e)}forEach(t=(()=>{}),e=this){for(const[r,i]of this)t.call(e,i,r,this);return this}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Be(t.set))for(const[e,r]of this)t.set(e,r);else if(Be(t.add))for(const e of this)t.add(e);else for(const[e,r]of this)t[e]=r;return t}every(t=(()=>!0),e=this){for(const[r,i]of this)if(!t.call(e,i,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const[r,i]of this)if(t.call(e,i,r,this))return!0;return!1}find(t=(()=>!0),e=this){for(const[r,i]of this)if(t.call(e,i,r,this))return i}findIndex(t=((t,e)=>e),e=this){for(const[r,i]of this)if(t.call(e,i,r,this))return r}indexOf(t,e=-1){if(Array.isArray(t)){for(const[r,i]of this)if($e(t,i,e))return r}else for(const[e,r]of this)if(Ye(t,r))return e}has(t){const e=Xe(t).equalTo;return this.some(((r,i)=>e(i,t)))}get(t){const e=Xe(t).equalTo;return this.find(((r,i)=>e(t,i)))}optionalGet(t){const e=Xe(t).equalTo;let r=!1;const i=this.find(((i,n)=>!!e(t,n)&&(r=!0,!0)));return r?Qe(i):Ze}reduce(t=((t,e)=>e),e,r=this){let i=e;for(const[e,n]of this)i=t.call(r,i,n,e,this);return i}mapKeys(t=((t,e)=>e),e=this){return new sr(this,t,e)}mapValues(t=(t=>t),e=this){return new or(this,t,e)}mapEntries(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t)){if(1===t.length&&Be(t[0]))return this.mapKeys(t[0],e);if(t.length>1){if(Be(t[0])){if(Be(t[1])){return new ar(this,((r,i,n)=>[t[0].call(e,r,i,n),t[1].call(e,r,i,n)]),this)}return this.mapKeys(t[0],e)}if(Be(t[1]))return this.mapValues(t[1],e)}}else if(Be(t))return new ar(this,t,e);throw new TypeError("MapIterable.mapEntries expects a function or an array of functions")}map(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t))return this.mapEntries(t,e);if(Be(t))return new fr(this,t,e);throw new TypeError("MapIterable.map expects a function or an array of functions")}concat(t){return t?t instanceof tr||t instanceof Map?this.concatMap(t):new ur(this,er.from(t)):this}concatMap(t){return t?new hr(this,tr.from(t)):this}keys(){return new lr(this)}values(){return new cr(this)}entries(){return this}}class er{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof er?t:new rr(t)}filter(t=(()=>!0),e=this){return new yr(this,t,e)}forEach(t=(()=>{}),e=this){for(const r of this)t.call(e,r,r,this)}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Be(t.add))for(const e of this)t.add(e);else if(Be(t.set))for(const e of this)t.set(e);return t}reduce(t=((t,e)=>e),e,r=this){let i=e;for(const e of this)i=t.call(r,i,e,e,this);return i}every(t=(()=>!0),e=this){for(const r of this)if(!t.call(e,r,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,this))return!0;return!1}has(t,e=-1){return Array.isArray(t)?this.some((r=>$e(r,t,e))):this.some((e=>Ye(e,t)))}find(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,r,this))return r}map(t=(t=>t),e=this){return new pr(this,t,e)}concat(t=[]){return new ur(this,er.from(t))}values(){return this}keys(){return this}entries(){return tr.from(this.map((t=>[t,t])))}}class rr extends er{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}has(t,e){return this.iterable instanceof Set||this.iterable instanceof er?this.iterable.has(t,e):super.has(t,e)}*[Symbol.iterator](){yield*this.iterable}}class ir extends tr{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}*[Symbol.iterator](){yield*this.iterable}has(t){return this.optionalGet(t).has}optionalGet(t){return Be(this.iterable.optionalGet)?this.iterable.optionalGet(t):Be(this.iterable.has)?this.iterable.has(t)?(Be(this.iterable.get)&&Qe(this.iterable.get(t)),Qe(super.get(t))):Ze:super.optionalGet(t)}get(t){return this.optionalGet(t).value}}class nr extends ir{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let[t,e]of this.iterable)this.filterPredicate.call(this.ctx,e,t,this)&&(yield[t,e])}optionalGet(t){const e=super.optionalGet(t);return e.has&&!this.filterPredicate.call(this.ctx,e.value,t,this)?Ze:e}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class sr extends ir{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[this.mapFunction.call(this.ctx,e,t,this),e]}}class or extends ir{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[t,this.mapFunction.call(this.ctx,e,t,this)]}optionalGet(t){const e=super.optionalGet(t);return e.has?Qe(this.mapFunction.call(this.ctx,e.value,t,this)):e}}class ar extends ir{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable){const[r,i]=this.mapFunction.call(this.ctx,e,t,this);yield[r,i]}}get(t){if(this.iterable.has(t)){const e=this.iterable.get(t);return this.mapFunction.call(this.ctx,e,t,this)[1]}}}class hr extends tr{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}optionalGet(t){const e=this.iterable.optionalGet(t);return e.has?e:this.otherIterable.optionalGet(t)}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class ur extends er{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}has(t,e=-1){return this.iterable.has(t,e)||this.otherIterable.has(t,e)}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}}class cr extends rr{constructor(t){super(t)}*[Symbol.iterator](){for(let[,t]of this.iterable)yield t}has(t,e=-1){return Array.isArray(t)?this.iterable.some((r=>$e(t,r,e))):this.iterable.some((e=>Ye(t,e)))}}class lr extends rr{constructor(t){super(t)}*[Symbol.iterator](){for(let[t]of this.iterable)yield t}has(t){return this.iterable.optionalGet(t).has}}class fr extends rr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield this.mapFunction.call(this.ctx,e,t,this)}has(t,e=-1){return Array.isArray(t)?this.some((r=>$e(t,r,e))):this.some((e=>Ye(t,e)))}}class pr extends rr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let t of this.iterable)yield this.mapFunction.call(this.ctx,t,t,this)}has(t,e=-1){return Array.isArray(t)?this.some((r=>$e(t,r,e))):this.some((e=>Ye(t,e)))}}class yr extends rr{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let t of this.iterable)this.filterPredicate.call(this.ctx,t,t,this)&&(yield t)}has(t,e=-1){return!!this.iterable.has(t,e)&&this.filterPredicate.call(this.ctx,t,t,this)}}class dr{constructor(t,e){this.key=t,this.value=e}overwrite(t){t.value=this.value}delete(){}}class br extends tr{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6}){super();let{depth:e,widthAs2sExponent:r,copy:i}=t;r=Math.max(1,Math.min(16,r));const n=(32/r>>0)-1;e=Math.max(0,Math.min(e&&e>0?e-1:n,n));const s=1<<r,o=s-1;this.options=Object.freeze({widthAs2sExponent:r,width:s,mask:o,depth:e}),this.clear(),(t.forEach||i&&i.forEach)&&this.copy(t.forEach?t:i)}get size(){return this.length}has(t){if(this.buckets){const e=Xe(t);return this.buckets.has(t,e.equalTo,e.hash)}return!1}get(t){if(this.buckets){const e=Xe(t);return this.buckets.get(t,e.equalTo,e.hash)}}optionalGet(t){if(this.buckets){const e=Xe(t);return this.buckets.optionalGet(t,e.equalTo,e.hash)}return Ze}set(t,e){return this.addEntry(new dr(t,e)),this}addEntry(t){const e=Xe(t.key);return this.buckets?(this.buckets=this.buckets.set(t,e.equalTo,e.hash),this.length=this.buckets.length):(this.buckets=new vr(t,e.hash,Object.assign({},this.options),this.options.depth),this.length=1),t}copy(t){const e=this;if(Ue(t)){for(const[r,i]of t)e.set(r,i);return this}if(Be(t.entries)){for(const[r,i]of t.entries())e.set(r,i);return this}if(Be(t.forEach))return t.forEach((function(t,r){e.set(r,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable or has a forEach function on it")}clone(){return new br({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}delete(t){if(this.buckets){const e=Xe(t);this.buckets=this.buckets.delete(t,e.equalTo,e.hash),this.buckets?this.length=this.buckets.length:this.length=0}return this}clear(){return this.buckets=void 0,this.length=0,this}*[Symbol.iterator](){if(this.buckets)for(const t of this.buckets)yield t}}class gr{constructor(t){this.entry=t,this.length=1}get key(){return this.entry.key}get value(){return this.entry.value}get(t,e){if(e(t,this.key))return this.entry.value}optionalGet(t,e){return e(t,this.key)?Qe(this.entry.value):Ze}set(t,e){return e(t.key,this.key)?(t.overwrite(this.entry),this):new mr(t,this)}has(t,e){return e(t,this.key)}delete(t,e){if(!e(t,this.key))return this;this.entry.delete()}forEach(t,e){return t.call(e,this.value,this.key),this}*[Symbol.iterator](){0!==this.length&&(yield[this.key,this.value])}}class mr extends gr{constructor(t,e){super(t),this.next=e,this.length=e.length+1}get(t,e){let r=this;do{if(e(t,r.key))return r.value;r=r.next}while(r)}optionalGet(t,e){let r=this;do{if(e(t,r.key))return Qe(r.value);r=r.next}while(r);return Ze}set(t,e){let r=this;for(;r;){if(e(t.key,r.key))return t.overwrite(this.entry),this;r=r.next}return new mr(t,this)}has(t,e){let r=this;do{if(e(t,r.key))return!0;r=r.next}while(r);return!1}delete(t,e){if(e(t,this.key))return this.entry.delete(),this.next&&(this.next.length=this.length-1),this.next;let r=this.next,i=this;for(;r;){if(e(t,r.key)){r.entry.delete();const t=r.next;return t?(r.entry=t.entry,r.next=t.next):i.next=void 0,this.length--,this}i=r,r=r.next}return this}*[Symbol.iterator](){let t=this;for(;t;)yield[t.key,t.value],t=t.next}}class vr extends gr{constructor(t,e,r,i){super(t),this.hash=e,this.options=r,this.depth=i}set(t,e,r){if(r===this.hash&&e(t.key,this.key))return t.overwrite(this.entry),this;const i=new wr(this.options,this.depth);return i.set(this.entry,(()=>!1),this.hash),i.set(t,(()=>!1),r),i}get(t,e,r){if(r===this.hash&&e(t,this.key))return this.value}optionalGet(t,e,r){return r===this.hash&&e(t,this.key)?Qe(this.value):Ze}has(t,e,r){return r===this.hash&&e(t,this.key)}delete(t,e,r){if(r!==this.hash||!e(t,this.key))return this;this.entry.delete()}}class wr{constructor(t,e){this.options=t,this.length=0,this.depth=e,this.buckets=new Array(this.options.width)}get(t,e,r){const i=this.buckets[r&this.options.mask];if(i)return i.get(t,e,r>>>this.options.widthAs2sExponent)}optionalGet(t,e,r){const i=this.buckets[r&this.options.mask];return i?i.optionalGet(t,e,r>>>this.options.widthAs2sExponent):Ze}set(t,e,r){const i=r&this.options.mask;let n=this.buckets[i];if(n){const s=n.length;this.buckets[i]=n.set(t,e,r>>>this.options.widthAs2sExponent),this.buckets[i].length!==s&&this.length++}else this.depth?(this.buckets[i]=new vr(t,r>>>this.options.widthAs2sExponent,this.options,this.depth-1),this.length++):(this.buckets[i]=new gr(t),this.length++);return this}has(t,e,r){const i=this.buckets[r&this.options.mask];return!!i&&i.has(t,e,r>>>this.options.widthAs2sExponent)}delete(t,e,r){const i=r&this.options.mask;let n=this.buckets[i];return n&&(n=n.delete(t,e,r>>>this.options.widthAs2sExponent),n&&0!==n.length||(this.buckets[i]=void 0,this.length--)),this}*[Symbol.iterator](){for(const t of this.buckets)if(t)for(const e of t)yield e}}class xr extends dr{constructor(t,e){super(t,e),this.previous=void 0,this.next=void 0}overwrite(t){t.value=this.value,this.deleted=!0}delete(){this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous),this.deleted=!0}}class Sr extends br{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6}){super(t),this.start=void 0,this.end=void 0}set(t,e){const r=this.addEntry(new xr(t,e));return this.end?r.deleted||(this.end.next=r,r.previous=this.end,this.end=r):this.end=this.start=r,this}delete(t){return super.delete(t),this.start&&this.start.deleted&&(this.start=this.start.next),this.end&&this.end.deleted&&(this.end=this.end.previous),this}clone(){return new Sr({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}*[Symbol.iterator](){let t=this.start;for(;t;)yield[t.key,t.value],t=t.next}}const kr={HashMap:br,LinkedHashMap:Sr,MapIterable:tr,SetIterable:er,Utils:{hashCode:We,isFunction:Be,isIterable:Ue,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},isNumber:function(t){return!!(t&&("number"==typeof t||t instanceof Number)&&isFinite(t))}}};t.HashMap=br,t.LinkedHashMap=Sr,t.Mootable=kr,t.default=br,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
