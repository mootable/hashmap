!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var s,i,n=function(t){return t&&t.Math==Math&&t},o=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},h=function(t){try{return!!t()}catch(t){return!0}},c={}.toString,u=function(t){return c.call(t).slice(8,-1)},l="".split,f=h((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==u(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(p(t))},y=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),m=function(t){return"object"==typeof t?null!==t:"function"==typeof t},b=o.document,g=m(b)&&m(b.createElement),v=function(t){return g?b.createElement(t):{}},w=!y&&!h((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),x=function(t){if(!m(t))throw TypeError(String(t)+" is not an object");return t},S=function(t,e){if(!m(t))return t;var r,s;if(e&&"function"==typeof(r=t.toString)&&!m(s=r.call(t)))return s;if("function"==typeof(r=t.valueOf)&&!m(s=r.call(t)))return s;if(!e&&"function"==typeof(r=t.toString)&&!m(s=r.call(t)))return s;throw TypeError("Can't convert object to primitive value")},E=Object.defineProperty,k={f:y?E:function(t,e,r){if(x(t),e=S(e,!0),x(r),w)try{return E(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},A=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=y?function(t,e,r){return k.f(t,e,A(1,r))}:function(t,e,r){return t[e]=r,t},z=function(t,e){try{O(o,t,e)}catch(r){o[t]=e}return e},j="__core-js_shared__",T=o[j]||z(j,{}),F=r((function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),M={}.hasOwnProperty,G=function(t,e){return M.call(t,e)},P=0,I=Math.random(),L=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++P+I).toString(36)},_="process"==u(o.process),C=o,N=function(t){return"function"==typeof t?t:void 0},R=function(t,e){return arguments.length<2?N(C[t])||N(o[t]):C[t]&&C[t][e]||o[t]&&o[t][e]},H=R("navigator","userAgent")||"",D=o.process,q=D&&D.versions,V=q&&q.v8;V?i=(s=V.split("."))[0]+s[1]:H&&(!(s=H.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=H.match(/Chrome\/(\d+)/))&&(i=s[1]);var K,W=i&&+i,B=!!Object.getOwnPropertySymbols&&!h((function(){return!Symbol.sham&&(_?38===W:W>37&&W<41)})),U=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=F("wks"),X=o.Symbol,J=U?X:X&&X.withoutSetter||L,Q=function(t){return G(Y,t)&&(B||"string"==typeof Y[t])||(B&&G(X,t)?Y[t]=X[t]:Y[t]=J("Symbol."+t)),Y[t]},Z=Math.ceil,$=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?$:Z)(t)},et=Math.min,rt=Math.max,st=Math.min,it=function(t){return function(e,r,s){var i,n,o=d(e),a=(i=o.length)>0?et(tt(i),9007199254740991):0,h=function(t,e){var r=tt(t);return r<0?rt(r+e,0):st(r,e)}(s,a);if(t&&r!=r){for(;a>h;)if((n=o[h++])!=n)return!0}else for(;a>h;h++)if((t||h in o)&&o[h]===r)return t||h||0;return!t&&-1}},nt={includes:it(!0),indexOf:it(!1)},ot={},at=nt.indexOf,ht=function(t,e){var r,s=d(t),i=0,n=[];for(r in s)!G(ot,r)&&G(s,r)&&n.push(r);for(;e.length>i;)G(s,r=e[i++])&&(~at(n,r)||n.push(r));return n},ct=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ut=Object.keys||function(t){return ht(t,ct)},lt=y?Object.defineProperties:function(t,e){x(t);for(var r,s=ut(e),i=s.length,n=0;i>n;)k.f(t,r=s[n++],e[r]);return t},ft=R("document","documentElement"),pt=F("keys"),dt=function(t){return pt[t]||(pt[t]=L(t))},yt=dt("IE_PROTO"),mt=function(){},bt=function(t){return"<script>"+t+"</"+"script>"},gt=function(){try{K=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;gt=K?function(t){t.write(bt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(K):((e=v("iframe")).style.display="none",ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(bt("document.F=Object")),t.close(),t.F);for(var r=ct.length;r--;)delete gt.prototype[ct[r]];return gt()};ot[yt]=!0;var vt=Object.create||function(t,e){var r;return null!==t?(mt.prototype=x(t),r=new mt,mt.prototype=null,r[yt]=t):r=gt(),void 0===e?r:lt(r,e)},wt=Q("unscopables"),xt=Array.prototype;null==xt[wt]&&k.f(xt,wt,{configurable:!0,value:vt(null)});var St=function(t){xt[wt][t]=!0},Et=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(t){return Et.call(t)});var kt,At,Ot,zt=T.inspectSource,jt=o.WeakMap,Tt="function"==typeof jt&&/native code/.test(zt(jt)),Ft=o.WeakMap;if(Tt){var Mt=T.state||(T.state=new Ft),Gt=Mt.get,Pt=Mt.has,It=Mt.set;kt=function(t,e){return e.facade=t,It.call(Mt,t,e),e},At=function(t){return Gt.call(Mt,t)||{}},Ot=function(t){return Pt.call(Mt,t)}}else{var Lt=dt("state");ot[Lt]=!0,kt=function(t,e){return e.facade=t,O(t,Lt,e),e},At=function(t){return G(t,Lt)?t[Lt]:{}},Ot=function(t){return G(t,Lt)}}var _t,Ct,Nt,Rt={set:kt,get:At,has:Ot,enforce:function(t){return Ot(t)?At(t):kt(t,{})},getterFor:function(t){return function(e){var r;if(!m(e)||(r=At(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},Ht={}.propertyIsEnumerable,Dt=Object.getOwnPropertyDescriptor,qt={f:Dt&&!Ht.call({1:2},1)?function(t){var e=Dt(this,t);return!!e&&e.enumerable}:Ht},Vt=Object.getOwnPropertyDescriptor,Kt={f:y?Vt:function(t,e){if(t=d(t),e=S(e,!0),w)try{return Vt(t,e)}catch(t){}if(G(t,e))return A(!qt.f.call(t,e),t[e])}},Wt=r((function(t){var e=Rt.get,r=Rt.enforce,s=String(String).split("String");(t.exports=function(t,e,i,n){var a,h=!!n&&!!n.unsafe,c=!!n&&!!n.enumerable,u=!!n&&!!n.noTargetGet;"function"==typeof i&&("string"!=typeof e||G(i,"name")||O(i,"name",e),(a=r(i)).source||(a.source=s.join("string"==typeof e?e:""))),t!==o?(h?!u&&t[e]&&(c=!0):delete t[e],c?t[e]=i:O(t,e,i)):c?t[e]=i:z(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||zt(this)}))})),Bt=ct.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return ht(t,Bt)}},Yt={f:Object.getOwnPropertySymbols},Xt=R("Reflect","ownKeys")||function(t){var e=Ut.f(x(t)),r=Yt.f;return r?e.concat(r(t)):e},Jt=function(t,e){for(var r=Xt(e),s=k.f,i=Kt.f,n=0;n<r.length;n++){var o=r[n];G(t,o)||s(t,o,i(e,o))}},Qt=/#|\.prototype\./,Zt=function(t,e){var r=te[$t(t)];return r==re||r!=ee&&("function"==typeof e?h(e):!!e)},$t=Zt.normalize=function(t){return String(t).replace(Qt,".").toLowerCase()},te=Zt.data={},ee=Zt.NATIVE="N",re=Zt.POLYFILL="P",se=Zt,ie=Kt.f,ne=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),oe=dt("IE_PROTO"),ae=Object.prototype,he=ne?Object.getPrototypeOf:function(t){return t=Object(p(t)),G(t,oe)?t[oe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ae:null},ce=Q("iterator"),ue=!1;[].keys&&("next"in(Nt=[].keys())?(Ct=he(he(Nt)))!==Object.prototype&&(_t=Ct):ue=!0),(null==_t||h((function(){var t={};return _t[ce].call(t)!==t})))&&(_t={}),G(_t,ce)||O(_t,ce,(function(){return this}));var le={IteratorPrototype:_t,BUGGY_SAFARI_ITERATORS:ue},fe=k.f,pe=Q("toStringTag"),de=function(t,e,r){t&&!G(t=r?t:t.prototype,pe)&&fe(t,pe,{configurable:!0,value:e})},ye=le.IteratorPrototype,me=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,s){return x(r),function(t){if(!m(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(s),e?t.call(r,s):r.__proto__=s,r}}():void 0),be=le.IteratorPrototype,ge=le.BUGGY_SAFARI_ITERATORS,ve=Q("iterator"),we="keys",xe="values",Se="entries",Ee=function(){return this},ke="Array Iterator",Ae=Rt.set,Oe=Rt.getterFor(ke),ze=function(t,e,r,s,i,n,a){!function(t,e,r){var s=e+" Iterator";t.prototype=vt(ye,{next:A(1,r)}),de(t,s,!1)}(r,e,s);var h,c,u,l=function(t){if(t===i&&m)return m;if(!ge&&t in d)return d[t];switch(t){case we:case xe:case Se:return function(){return new r(this,t)}}return function(){return new r(this)}},f=e+" Iterator",p=!1,d=t.prototype,y=d[ve]||d["@@iterator"]||i&&d[i],m=!ge&&y||l(i),b="Array"==e&&d.entries||y;if(b&&(h=he(b.call(new t)),be!==Object.prototype&&h.next&&(he(h)!==be&&(me?me(h,be):"function"!=typeof h[ve]&&O(h,ve,Ee)),de(h,f,!0))),i==xe&&y&&y.name!==xe&&(p=!0,m=function(){return y.call(this)}),d[ve]!==m&&O(d,ve,m),i)if(c={values:l(xe),keys:n?m:l(we),entries:l(Se)},a)for(u in c)(ge||p||!(u in d))&&Wt(d,u,c[u]);else!function(t,e){var r,s,i,n,a,h=t.target,c=t.global,u=t.stat;if(r=c?o:u?o[h]||z(h,{}):(o[h]||{}).prototype)for(s in e){if(n=e[s],i=t.noTargetGet?(a=ie(r,s))&&a.value:r[s],!se(c?s:h+(u?".":"#")+s,t.forced)&&void 0!==i){if(typeof n==typeof i)continue;Jt(n,i)}(t.sham||i&&i.sham)&&O(n,"sham",!0),Wt(r,s,n,t)}}({target:e,proto:!0,forced:ge||p},c);return c}(Array,"Array",(function(t,e){Ae(this,{type:ke,target:d(t),index:0,kind:e})}),(function(){var t=Oe(this),e=t.target,r=t.kind,s=t.index++;return!e||s>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:s,done:!1}:"values"==r?{value:e[s],done:!1}:{value:[s,e[s]],done:!1}}),"values");St("keys"),St("values"),St("entries");var je=Q("iterator"),Te=Q("toStringTag"),Fe=ze.values;for(var Me in a){var Ge=o[Me],Pe=Ge&&Ge.prototype;if(Pe){if(Pe[je]!==Fe)try{O(Pe,je,Fe)}catch(t){Pe[je]=Fe}if(Pe[Te]||O(Pe,Te,Me),a[Me])for(var Ie in ze)if(Pe[Ie]!==ze[Ie])try{O(Pe,Ie,ze[Ie])}catch(t){Pe[Ie]=ze[Ie]}}}function Le(t){return!!(t&&t.constructor&&t.call&&t.apply)}function _e(t){return!(!t||!Le(t[Symbol.iterator]))}function Ce(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}class Ne{constructor(t,e){this.has=t,this.value=e,Object.freeze(this)}static get none(){return He}get size(){return this.has?1:0}static some(t){return Re(t)}*[Symbol.iterator](){this.has&&(yield this.value)}}const Re=t=>new Ne(!0,t),He=new Ne(!1,void 0);function De(t,e=0,r=0){const s=1&(e=e>0?Math.min(e,t.length):t.length),i=e-s;let n=r|=0,o=0,a=0;for(;a<i;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353,o=o<<15|o>>>17,o*=461845907,n^=o,n=n<<13|n>>>19,n*=5,n+=3864292196;return s&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,n^=o),n^=e,n^=n>>>16,n*=2246822507,n^=n>>>13,n*=3266489909,n^=n>>>16,0|n}function qe(t){switch(typeof t){case"undefined":return 0;case"boolean":return t?1:0;case"string":return De(t);case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?0|t:De(t.toString()):0;case"bigint":case"symbol":case"function":return De(t.toString());case"object":default:{if(null===t)return 0;if(t.hashCode)return Le(t.hashCode)?qe(t.hashCode(t)):qe(t.hashCode);if(t instanceof Date)return t.getTime();if(t instanceof RegExp)return De(t.toString());if(t instanceof Ne)return t.has?31*qe(t.value):0;if(t.hasOwnProperty("_mootable_hashCode"))return qe(t._mootable_hashCode);const e=Ve++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),e}}}let Ve=0;function Ke(t){if(t&&"object"==typeof t){if(t instanceof RegExp)return(t,e)=>e instanceof RegExp&&t.toString()===e.toString();if(t instanceof Date)return(t,e)=>e instanceof Date&&t.getTime()===e.getTime();if(t instanceof Ne){if(t.has){const e=Ke(t.value);return(t,r)=>!!r.has&&e(r.value,t.value)}return(t,e)=>!e.has}if(Le(t.equals)&&t.equals(t,t))return(t,e)=>t.equals(e,t)}return Ce}function We(t){return 16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24}class Be{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof Be?t:new Xe(t)}filter(t=(()=>!0),e=this){return new Je(this,t,e)}forEach(t=(()=>{}),e=this){for(const[r,s]of this)t.call(e,s,r,this);return this}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Le(t.set))for(const[e,r]of this)t.set(e,r);else if(Le(t.add))for(const e of this)t.add(e);else for(const[e,r]of this)t[e]=r;return t}every(t=(()=>!0),e=this){for(const[r,s]of this)if(!t.call(e,s,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const[r,s]of this)if(t.call(e,s,r,this))return!0;return!1}find(t=(()=>!0),e=this){for(const[r,s]of this)if(t.call(e,s,r,this))return s}findIndex(t=((t,e)=>e),e=this){for(const[r,s]of this)if(t.call(e,s,r,this))return r}indexOf(t,e=Ke(t)){for(const[r,s]of this)if(e(t,s))return r}has(t,e=Ke(t)){return this.some(((r,s)=>e(s,t)))}get(t,e=Ke(t)){return this.find(((r,s)=>e(t,s)))}optionalGet(t,e=Ke(t)){let r=!1;const s=this.find(((s,i)=>!!e(t,i)&&(r=!0,!0)));return r?Re(s):He}reduce(t=((t,e)=>e),e,r=this){let s=e;for(const[e,i]of this)s=t.call(r,s,i,e,this);return s}mapKeys(t=((t,e)=>e),e=this){return new Qe(this,t,e)}mapValues(t=(t=>t),e=this){return new Ze(this,t,e)}mapEntries(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t)){if(1===t.length&&Le(t[0]))return this.mapKeys(t[0],e);if(t.length>1){if(Le(t[0])){if(Le(t[1])){return new $e(this,((r,s,i)=>[t[0].call(e,r,s,i),t[1].call(e,r,s,i)]),this)}return this.mapKeys(t[0],e)}if(Le(t[1]))return this.mapValues(t[1],e)}}else if(Le(t))return new $e(this,t,e);throw new TypeError("MapIterable.mapEntries expects a function or an array of functions")}map(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t))return this.mapEntries(t,e);if(Le(t))return new ir(this,t,e);throw new TypeError("MapIterable.map expects a function or an array of functions")}concat(t){return t?t instanceof Be||t instanceof Map?this.concatMap(t):new er(this,Ue.from(t)):this}concatMap(t){return t?new tr(this,Be.from(t)):this}keys(){return new sr(this)}values(){return new rr(this)}entries(){return this}}class Ue{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof Ue?t:new Ye(t)}filter(t=(()=>!0),e=this){return new or(this,t,e)}forEach(t=(()=>{}),e=this){for(const r of this)t.call(e,r,r,this)}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Le(t.add))for(const e of this)t.add(e);else if(Le(t.set))for(const e of this)t.set(e);return t}reduce(t=((t,e)=>e),e,r=this){let s=e;for(const e of this)s=t.call(r,s,e,e,this);return s}every(t=(()=>!0),e=this){for(const r of this)if(!t.call(e,r,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,this))return!0;return!1}has(t,e=Ke(t)){return this.some((r=>e(r,t)))}find(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,r,this))return r}map(t=(t=>t),e=this){return new nr(this,t,e)}concat(t=[]){return new er(this,Ue.from(t))}values(){return this}keys(){return this}entries(){return Be.from(this.map((t=>[t,t])))}}class Ye extends Ue{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}has(t,e=Ke(t)){return this.iterable instanceof Set||this.iterable instanceof Ue?this.iterable.has(t,e):super.has(t,e)}*[Symbol.iterator](){yield*this.iterable}}class Xe extends Be{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}*[Symbol.iterator](){yield*this.iterable}has(t){return this.optionalGet(t).has}optionalGet(t){return Le(this.iterable.optionalGet)?this.iterable.optionalGet(t):Le(this.iterable.has)?this.iterable.has(t)?(Le(this.iterable.get)&&Re(this.iterable.get(t)),Re(super.get(t))):He:super.optionalGet(t)}get(t){return this.optionalGet(t).value}}class Je extends Xe{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let[t,e]of this.iterable)this.filterPredicate.call(this.ctx,e,t,this)&&(yield[t,e])}optionalGet(t){const e=super.optionalGet(t);return e.has&&!this.filterPredicate.call(this.ctx,e.value,t,this)?He:e}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class Qe extends Xe{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[this.mapFunction.call(this.ctx,e,t,this),e]}}class Ze extends Xe{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[t,this.mapFunction.call(this.ctx,e,t,this)]}optionalGet(t){const e=super.optionalGet(t);return e.has?Re(this.mapFunction.call(this.ctx,e.value,t,this)):e}}class $e extends Xe{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable){const[r,s]=this.mapFunction.call(this.ctx,e,t,this);yield[r,s]}}get(t){if(this.iterable.has(t)){const e=this.iterable.get(t);return this.mapFunction.call(this.ctx,e,t,this)[1]}}}class tr extends Be{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}optionalGet(t){const e=this.iterable.optionalGet(t);return e.has?e:this.otherIterable.optionalGet(t)}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class er extends Ue{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}has(t,e=Ke(t)){return this.iterable.has(t,e)||this.otherIterable.has(t,e)}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}}class rr extends Ye{constructor(t){super(t)}*[Symbol.iterator](){for(let[,t]of this.iterable)yield t}has(t,e=Ke(t)){return Array.isArray(t),this.iterable.some((r=>e(t,r)))}}class sr extends Ye{constructor(t){super(t)}*[Symbol.iterator](){for(let[t]of this.iterable)yield t}has(t){return this.iterable.optionalGet(t).has}}class ir extends Ye{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield this.mapFunction.call(this.ctx,e,t,this)}has(t,e=Ke(t)){return this.some((r=>e(t,r)))}}class nr extends Ye{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let t of this.iterable)yield this.mapFunction.call(this.ctx,t,t,this)}has(t,e=Ke(t)){return this.some((r=>e(t,r)))}}class or extends Ye{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let t of this.iterable)this.filterPredicate.call(this.ctx,t,t,this)&&(yield t)}has(t,e=Ke(t)){return!!this.iterable.has(t,e)&&this.filterPredicate.call(this.ctx,t,t,this)}}class ar{constructor(t,e){this.key=t,this.value=e}}const hr=(t,e)=>r=>e(t,r.key);function cr(t,e){return void 0===e.equals&&(e.equals=Ke(t)),e.equals}class ur{constructor(t){this.size=0,this.contents=[],this.map=t}prefill(t,e){return this.contents[0]=this.map.createEntry(t,e,!0),this.size=1,this}get(t,e){if(0!==this.size){const r=cr(t,e);for(const e of this.contents)if(e&&r(t,e.key))return e.value}}optionalGet(t,e){if(0!==this.size){const r=cr(t,e),s=this.contents.find(hr(t,r));if(s)return Re(s.value)}return He}set(t,e,r){let s,i=0;const n=cr(t,r);for(const r of this.contents){if(r){if(n(t,r.key))return this.contents[i]=this.map.overwriteEntry(t,e,r),!1}else void 0===s&&(s=i);i+=1}return void 0===s?this.contents.push(this.map.createEntry(t,e)):this.contents[s]=this.map.createEntry(t,e),this.size+=1,!0}emplace(t,e,r){const s=cr(t,r);let i,n=this.contents.findIndex(hr(t,s));if(n<0){if(i=e.insert(t,this.map),this.size===this.contents.length)return this.contents.push(this.map.createEntry(t,i)),this.size++,{value:i,resized:!0};n=0;for(const e of this.contents){if(void 0===e)return this.contents[n]=this.map.createEntry(t,i),this.size++,{value:i,resized:!0};n++}}else if(e.update)return i=e.update(this.contents[n].value,t,this.map),this.contents[n]=this.map.overwriteEntry(t,i,this.contents[n]),{value:i,resized:!1}}has(t,e){if(0!==this.size){const r=cr(t,e);return this.contents.some(hr(t,r))}return!1}delete(t,e){const r=cr(t,e),s=this.contents.findIndex(hr(t,r));return-1!==s&&(this.map.deleteEntry(this.contents[s]),this.contents[s]=void 0,this.contents=this.contents.filter((t=>void 0!==t)),this.size-=1,!0)}*[Symbol.iterator](){for(const t of this.contents)void 0!==t&&(yield[t.key,t.value])}}const lr=(t,e)=>new ar(t,e),fr=t=>{},pr=(t,e,r)=>(r.key=t,r.value=e,r);class dr extends Be{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:void 0,hamt:!1,compress:!0}){super();const{depth:e,widthAs2sExponent:r,copy:s,hamt:i,compress:n}=t;if(Number.isFinite(r)||r<1){this.widthAs2sExponent=Math.max(1,Math.min(i?5:16,r));const t=(32/this.widthAs2sExponent>>0)-1;this.depth=e&&e>0?Math.min(e-1,t):t}else this.widthAs2sExponent=i?5:8,this.depth=e&&e>0?Math.min(e-1,i?5:3):i?5:3;const o=1<<this.widthAs2sExponent;this.width=o,this.mask=o-1,this.hamt=i,this.compress=n,this.createEntry=lr,this.overwriteEntry=pr,this.deleteEntry=fr,this.clear(),(t.forEach||s&&s.forEach)&&this.copy(t.forEach?t:s)}get size(){return this.length}has(t,e={}){return yr(t,e),this.buckets.has(t,e)}get(t,e={}){return yr(t,e),this.buckets.get(t,e)}optionalGet(t,e={}){return yr(t,e),this.buckets.optionalGet(t,e)}set(t,e,r={}){return yr(t,r),this.buckets.set(t,e,r),this.length=this.buckets.size,this}copy(t){const e=this;if(_e(t)){for(const[r,s]of t)e.set(r,s);return this}if(Le(t.entries)){for(const[r,s]of t.entries())e.set(r,s);return this}if(Le(t.forEach))return t.forEach((function(t,r){e.set(r,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable or has a forEach function on it")}clone(){return new dr({copy:this,depth:this.depth,widthAs2sExponent:this.widthAs2sExponent,hamt:this.hamt,compress:this.compress})}delete(t,e={}){return yr(t,e),this.buckets.delete(t,e)&&(this.length=this.buckets.size),this}clear(){return this.buckets=this.hamt?new mr(this,this.depth):new br(this,this.depth),this.length=0,this}*[Symbol.iterator](){if(this.buckets)for(const t of this.buckets)yield t}}function yr(t,e){let r=e.hash;return void 0===r&&(r=e.hash=qe(t)),r}class mr{constructor(t,e){this.map=t,this.size=0,this.depth=e,this.buckets=[],this.idxFlags=0}bucketForHash(t){const e=this.idxFlags,r=1<<(t&this.map.mask),s=We(e&r-1);if(e&r)return this.buckets[s]}set(t,e,r){const s=this.idxFlags,i=1<<(r.hash&this.map.mask),n=We(s&i-1);let o;return s&i?o=this.buckets[n]:(o=this.depth?new mr(this.map,this.depth-1):new ur(this.map),this.buckets.splice(n,0,o),this.idxFlags|=i),r.hash>>>=this.map.widthAs2sExponent,!!o.set(t,e,r)&&(this.size+=1,!0)}delete(t,e){const r=this.idxFlags,s=1<<(e.hash&this.map.mask);if(r&s){e.hash>>>=this.map.widthAs2sExponent;const i=We(r&s-1),n=this.buckets[i];if(n.delete(t,e))return 0===n.size&&(this.buckets.splice(i,1),this.idxFlags^=s),this.size-=1,!0}return!1}get(t,e){const r=this.bucketForHash(e.hash);if(void 0!==r)return e.hash>>>=this.map.widthAs2sExponent,r.get(t,e)}optionalGet(t,e){const r=this.bucketForHash(e.hash);return void 0!==r?(e.hash>>>=this.map.widthAs2sExponent,r.optionalGet(t,e)):He}has(t,e){const r=this.bucketForHash(e.hash);return void 0!==r&&(e.hash>>>=this.map.widthAs2sExponent,r.has(t,e))}*[Symbol.iterator](){for(const t of this.buckets)for(const e of t)yield e}}class br{constructor(t,e){this.map=t,this.size=0,this.depth=e,this.buckets=[]}set(t,e,r){const s=r.hash&this.map.mask;let i=this.buckets[s];return i||(i=this.depth?new br(this.map,this.depth-1):new ur(this.map),this.buckets[s]=i),r.hash>>>=this.map.widthAs2sExponent,!!i.set(t,e,r)&&(this.size+=1,!0)}emplace(t,e,r){const s=r.hash&this.map.mask;let i=this.buckets[s];i||(i=this.depth?new br(this.map,this.depth-1):new ur(this.map),this.buckets[s]=i),r.hash>>>=this.map.widthAs2sExponent;const n=i.emplace(t,e,r);return n.resized&&(this.size+=1),n}delete(t,e){const r=e.hash&this.map.mask;let s=this.buckets[r];if(s){e.hash>>>=this.map.widthAs2sExponent;if(s.delete(t,e))return 0===s.size&&(this.buckets[r]=void 0),this.size-=1,!0}return!1}get(t,e){const r=this.buckets[e.hash&this.map.mask];if(r)return e.hash>>>=this.map.widthAs2sExponent,r.get(t,e)}optionalGet(t,e){const r=this.buckets[e.hash&this.map.mask];return r?(e.hash>>>=this.map.widthAs2sExponent,r.optionalGet(t,e)):He}has(t,e){const r=this.buckets[e.hash&this.map.mask];return!!r&&(e.hash>>>=this.map.widthAs2sExponent,r.has(t,e))}*[Symbol.iterator](){for(const t of this.buckets)if(t)for(const e of t)yield e}}class gr extends dr{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6,hamt:!1,compress:!0}){super(t),this.start=void 0,this.end=void 0,this.createEntry=(t,e)=>{const r=new ar(t,e);return this.end?(this.end.next=r,r.previous=this.end,this.end=r):this.end=this.start=r,r},this.deleteEntry=t=>{t.previous&&(t.previous.next=t.next),t.next&&(t.next.previous=t.previous),this.start===t&&(this.start=t.next),this.end===t&&(this.end=t.previous)}}clone(){return new gr({copy:this,depth:this.depth,widthAs2sExponent:this.widthAs2sExponent,hamt:this.hamt,compress:this.compress})}*[Symbol.iterator](){let t=this.start;for(;t;)yield[t.key,t.value],t=t.next}}const vr={HashMap:dr,LinkedHashMap:gr,MapIterable:Be,SetIterable:Ue,Utils:{hash:De,isFunction:Le,isIterable:_e,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},equalsAndHash:function(t,e,r){return Le(e)&&e(t,t)||(e=Ke(t)),Number.isSafeInteger(r)||(r=qe(t)),{hash:r,equals:e}},hashCodeFor:qe,equalsFor:Ke,some:Re,none:He,Option:Ne}};t.HashMap=dr,t.LinkedHashMap=gr,t.Mootable=vr,t.default=dr,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
