!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var n,s,i=function(t){return t&&t.Math==Math&&t},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},c=function(t){try{return!!t()}catch(t){return!0}},u={}.toString,h=function(t){return u.call(t).slice(8,-1)},l="".split,f=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==h(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(p(t))},b=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=o.document,m=y(g)&&y(g.createElement),v=function(t){return m?g.createElement(t):{}},S=!b&&!c((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),x=function(t){if(!y(t))throw TypeError(String(t)+" is not an object");return t},w=function(t,e){if(!y(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!y(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!y(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!y(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},k=Object.defineProperty,O={f:b?k:function(t,e,r){if(x(t),e=w(e,!0),x(r),S)try{return k(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},z=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},F=b?function(t,e,r){return O.f(t,e,z(1,r))}:function(t,e,r){return t[e]=r,t},_=function(t,e){try{F(o,t,e)}catch(r){o[t]=e}return e},E="__core-js_shared__",j=o[E]||_(E,{}),T=r((function(t){(t.exports=function(t,e){return j[t]||(j[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),C={}.hasOwnProperty,P=function(t,e){return C.call(t,e)},A=0,G=Math.random(),I=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++A+G).toString(36)},M="process"==h(o.process),L=o,q=function(t){return"function"==typeof t?t:void 0},N=function(t,e){return arguments.length<2?q(L[t])||q(o[t]):L[t]&&L[t][e]||o[t]&&o[t][e]},R=N("navigator","userAgent")||"",D=o.process,H=D&&D.versions,V=H&&H.v8;V?s=(n=V.split("."))[0]+n[1]:R&&(!(n=R.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=R.match(/Chrome\/(\d+)/))&&(s=n[1]);var K,W=s&&+s,B=!!Object.getOwnPropertySymbols&&!c((function(){return!Symbol.sham&&(M?38===W:W>37&&W<41)})),U=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=T("wks"),X=o.Symbol,J=U?X:X&&X.withoutSetter||I,Q=function(t){return P(Y,t)&&(B||"string"==typeof Y[t])||(B&&P(X,t)?Y[t]=X[t]:Y[t]=J("Symbol."+t)),Y[t]},Z=Math.ceil,$=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?$:Z)(t)},et=Math.min,rt=Math.max,nt=Math.min,st=function(t){return function(e,r,n){var s,i,o=d(e),a=(s=o.length)>0?et(tt(s),9007199254740991):0,c=function(t,e){var r=tt(t);return r<0?rt(r+e,0):nt(r,e)}(n,a);if(t&&r!=r){for(;a>c;)if((i=o[c++])!=i)return!0}else for(;a>c;c++)if((t||c in o)&&o[c]===r)return t||c||0;return!t&&-1}},it={includes:st(!0),indexOf:st(!1)},ot={},at=it.indexOf,ct=function(t,e){var r,n=d(t),s=0,i=[];for(r in n)!P(ot,r)&&P(n,r)&&i.push(r);for(;e.length>s;)P(n,r=e[s++])&&(~at(i,r)||i.push(r));return i},ut=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ht=Object.keys||function(t){return ct(t,ut)},lt=b?Object.defineProperties:function(t,e){x(t);for(var r,n=ht(e),s=n.length,i=0;s>i;)O.f(t,r=n[i++],e[r]);return t},ft=N("document","documentElement"),pt=T("keys"),dt=function(t){return pt[t]||(pt[t]=I(t))},bt=dt("IE_PROTO"),yt=function(){},gt=function(t){return"<script>"+t+"</"+"script>"},mt=function(){try{K=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;mt=K?function(t){t.write(gt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(K):((e=v("iframe")).style.display="none",ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(gt("document.F=Object")),t.close(),t.F);for(var r=ut.length;r--;)delete mt.prototype[ut[r]];return mt()};ot[bt]=!0;var vt=Object.create||function(t,e){var r;return null!==t?(yt.prototype=x(t),r=new yt,yt.prototype=null,r[bt]=t):r=mt(),void 0===e?r:lt(r,e)},St=Q("unscopables"),xt=Array.prototype;null==xt[St]&&O.f(xt,St,{configurable:!0,value:vt(null)});var wt=function(t){xt[St][t]=!0},kt=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(t){return kt.call(t)});var Ot,zt,Ft,_t=j.inspectSource,Et=o.WeakMap,jt="function"==typeof Et&&/native code/.test(_t(Et)),Tt=o.WeakMap;if(jt){var Ct=j.state||(j.state=new Tt),Pt=Ct.get,At=Ct.has,Gt=Ct.set;Ot=function(t,e){return e.facade=t,Gt.call(Ct,t,e),e},zt=function(t){return Pt.call(Ct,t)||{}},Ft=function(t){return At.call(Ct,t)}}else{var It=dt("state");ot[It]=!0,Ot=function(t,e){return e.facade=t,F(t,It,e),e},zt=function(t){return P(t,It)?t[It]:{}},Ft=function(t){return P(t,It)}}var Mt,Lt,qt,Nt={set:Ot,get:zt,has:Ft,enforce:function(t){return Ft(t)?zt(t):Ot(t,{})},getterFor:function(t){return function(e){var r;if(!y(e)||(r=zt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},Rt={}.propertyIsEnumerable,Dt=Object.getOwnPropertyDescriptor,Ht={f:Dt&&!Rt.call({1:2},1)?function(t){var e=Dt(this,t);return!!e&&e.enumerable}:Rt},Vt=Object.getOwnPropertyDescriptor,Kt={f:b?Vt:function(t,e){if(t=d(t),e=w(e,!0),S)try{return Vt(t,e)}catch(t){}if(P(t,e))return z(!Ht.f.call(t,e),t[e])}},Wt=r((function(t){var e=Nt.get,r=Nt.enforce,n=String(String).split("String");(t.exports=function(t,e,s,i){var a,c=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,h=!!i&&!!i.noTargetGet;"function"==typeof s&&("string"!=typeof e||P(s,"name")||F(s,"name",e),(a=r(s)).source||(a.source=n.join("string"==typeof e?e:""))),t!==o?(c?!h&&t[e]&&(u=!0):delete t[e],u?t[e]=s:F(t,e,s)):u?t[e]=s:_(e,s)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||_t(this)}))})),Bt=ut.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return ct(t,Bt)}},Yt={f:Object.getOwnPropertySymbols},Xt=N("Reflect","ownKeys")||function(t){var e=Ut.f(x(t)),r=Yt.f;return r?e.concat(r(t)):e},Jt=function(t,e){for(var r=Xt(e),n=O.f,s=Kt.f,i=0;i<r.length;i++){var o=r[i];P(t,o)||n(t,o,s(e,o))}},Qt=/#|\.prototype\./,Zt=function(t,e){var r=te[$t(t)];return r==re||r!=ee&&("function"==typeof e?c(e):!!e)},$t=Zt.normalize=function(t){return String(t).replace(Qt,".").toLowerCase()},te=Zt.data={},ee=Zt.NATIVE="N",re=Zt.POLYFILL="P",ne=Zt,se=Kt.f,ie=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),oe=dt("IE_PROTO"),ae=Object.prototype,ce=ie?Object.getPrototypeOf:function(t){return t=Object(p(t)),P(t,oe)?t[oe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ae:null},ue=Q("iterator"),he=!1;[].keys&&("next"in(qt=[].keys())?(Lt=ce(ce(qt)))!==Object.prototype&&(Mt=Lt):he=!0),(null==Mt||c((function(){var t={};return Mt[ue].call(t)!==t})))&&(Mt={}),P(Mt,ue)||F(Mt,ue,(function(){return this}));var le={IteratorPrototype:Mt,BUGGY_SAFARI_ITERATORS:he},fe=O.f,pe=Q("toStringTag"),de=function(t,e,r){t&&!P(t=r?t:t.prototype,pe)&&fe(t,pe,{configurable:!0,value:e})},be=le.IteratorPrototype,ye=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return x(r),function(t){if(!y(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),ge=le.IteratorPrototype,me=le.BUGGY_SAFARI_ITERATORS,ve=Q("iterator"),Se="keys",xe="values",we="entries",ke=function(){return this},Oe="Array Iterator",ze=Nt.set,Fe=Nt.getterFor(Oe),_e=function(t,e,r,n,s,i,a){!function(t,e,r){var n=e+" Iterator";t.prototype=vt(be,{next:z(1,r)}),de(t,n,!1)}(r,e,n);var c,u,h,l=function(t){if(t===s&&y)return y;if(!me&&t in d)return d[t];switch(t){case Se:case xe:case we:return function(){return new r(this,t)}}return function(){return new r(this)}},f=e+" Iterator",p=!1,d=t.prototype,b=d[ve]||d["@@iterator"]||s&&d[s],y=!me&&b||l(s),g="Array"==e&&d.entries||b;if(g&&(c=ce(g.call(new t)),ge!==Object.prototype&&c.next&&(ce(c)!==ge&&(ye?ye(c,ge):"function"!=typeof c[ve]&&F(c,ve,ke)),de(c,f,!0))),s==xe&&b&&b.name!==xe&&(p=!0,y=function(){return b.call(this)}),d[ve]!==y&&F(d,ve,y),s)if(u={values:l(xe),keys:i?y:l(Se),entries:l(we)},a)for(h in u)(me||p||!(h in d))&&Wt(d,h,u[h]);else!function(t,e){var r,n,s,i,a,c=t.target,u=t.global,h=t.stat;if(r=u?o:h?o[c]||_(c,{}):(o[c]||{}).prototype)for(n in e){if(i=e[n],s=t.noTargetGet?(a=se(r,n))&&a.value:r[n],!ne(u?n:c+(h?".":"#")+n,t.forced)&&void 0!==s){if(typeof i==typeof s)continue;Jt(i,s)}(t.sham||s&&s.sham)&&F(i,"sham",!0),Wt(r,n,i,t)}}({target:e,proto:!0,forced:me||p},u);return u}(Array,"Array",(function(t,e){ze(this,{type:Oe,target:d(t),index:0,kind:e})}),(function(){var t=Fe(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");wt("keys"),wt("values"),wt("entries");var Ee=Q("iterator"),je=Q("toStringTag"),Te=_e.values;for(var Ce in a){var Pe=o[Ce],Ae=Pe&&Pe.prototype;if(Ae){if(Ae[Ee]!==Te)try{F(Ae,Ee,Te)}catch(t){Ae[Ee]=Te}if(Ae[je]||F(Ae,je,Ce),a[Ce])for(var Ge in _e)if(Ae[Ge]!==_e[Ge])try{F(Ae,Ge,_e[Ge])}catch(t){Ae[Ge]=_e[Ge]}}}function Ie(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Me(t){return!(!t||!Ie(t[Symbol.iterator]))}function Le(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function qe(t,e){return t===e}class Ne{constructor(t,e){this.has=t,this.value=e,Object.freeze(this)}static get none(){return De}get size(){return this.has?1:0}static some(t){return Re(t)}*[Symbol.iterator](){this.has&&(yield this.value)}}const Re=t=>new Ne(!0,t),De=new Ne(!1,void 0);function He(t,e=0,r=0){const n=1&(e=e>0?Math.min(e,t.length):t.length),s=e-n;let i=r|=0,o=0,a=0;for(;a<s;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353,o=o<<15|o>>>17,o*=461845907,i^=o,i=i<<13|i>>>19,i*=5,i+=3864292196;return n&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,i^=o),i^=e,i^=i>>>16,i*=2246822507,i^=i>>>13,i*=3266489909,i^=i>>>16,0|i}function Ve(t){switch(typeof t){case"undefined":return 0;case"boolean":return t?1:0;case"string":return He(t);case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?0|t:He(t.toString()):0;case"bigint":case"symbol":case"function":return He(t.toString());case"object":default:{if(null===t)return 0;if(t.hashCode)return Ie(t.hashCode)?Ve(t.hashCode(t)):Ve(t.hashCode);if(t instanceof Date)return t.getTime();if(t instanceof RegExp)return He(t.toString());if(t instanceof Ne)return t.has?31*Ve(t.value):0;if(t.hasOwnProperty("_mootable_hashCode"))return Ve(t._mootable_hashCode);const e=Ke++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),e}}}let Ke=0;function We(t){switch(typeof t){case"object":if(t){if(t instanceof RegExp)return(t,e)=>e instanceof RegExp&&t.toString()===e.toString();if(t instanceof Date)return(t,e)=>e instanceof Date&&t.getTime()===e.getTime();if(t instanceof Ne){if(t.has){const e=We(t.value);return(t,r)=>!!r.has&&e(t.value,r.value)}return(t,e)=>!e.has}if(Ie(t.equals))return(t,e)=>t.equals(e,t)}return qe;case"number":case"bigint":return Le;default:return qe}}function Be(t,e={}){if(e.hash)return e.equals||(e.equals=We(t)),e;if(e.equals)return e.hash=Ve(t),e;switch(typeof t){case"undefined":return e.hash=0,e.equals=qe,e;case"boolean":return e.hash=t?1:0,e.equals=qe,e;case"string":return e.hash=He(t),e.equals=qe,e;case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?(e.hash=0|t,e.equals=Le,e):(e.hash=He(t.toString()),e.equals=Le,e):(e.hash=0,e.equals=Le,e);case"bigint":return e.hash=He(t.toString()),e.equals=Le,e;case"symbol":case"function":return e.hash=He(t.toString()),e.equals=qe,e;case"object":default:{if(null===t)return e.hash=0,e.equals=qe,e;if(e.equals=We(t),t.hashCode)return Ie(t.hashCode)?(e.hash=Ve(t.hashCode(t)),e):(e.hash=Ve(t.hashCode),e);if(t instanceof Date)return e.hash=t.getTime(),e;if(t instanceof RegExp)return e.hash=He(t.toString()),e;if(t instanceof Ne)return t.has?(e.hash=31*Ve(t.value),e):(e.hash=0,e);if(t.hasOwnProperty("_mootable_hashCode"))return e.hash=Ve(t._mootable_hashCode),e;const r=Ke++;return Object.defineProperty(t,"_mootable_hashCode",{value:r}),e.hash=r,e}}}class Ue{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof Ue?t:new Je(t)}filter(t=(()=>!0),e=this){return new Qe(this,t,e)}forEach(t=(()=>{}),e=this){for(const[r,n]of this)t.call(e,n,r,this);return this}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Ie(t.set))for(const[e,r]of this)t.set(e,r);else if(Ie(t.add))for(const e of this)t.add(e);else for(const[e,r]of this)t[e]=r;return t}every(t=(()=>!0),e=this){for(const[r,n]of this)if(!t.call(e,n,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return!0;return!1}find(t=(()=>!0),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return n}findIndex(t=((t,e)=>e),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return r}indexOf(t,e=We(t)){for(const[r,n]of this)if(e(t,n))return r}has(t,e=We(t)){return this.some(((r,n)=>e(n,t)))}get(t,e=We(t)){return this.find(((r,n)=>e(t,n)))}optionalGet(t,e=We(t)){let r=!1;const n=this.find(((n,s)=>!!e(t,s)&&(r=!0,!0)));return r?Re(n):De}reduce(t=((t,e)=>e),e,r=this){let n=e;for(const[e,s]of this)n=t.call(r,n,s,e,this);return n}mapKeys(t=((t,e)=>e),e=this){return new Ze(this,t,e)}mapValues(t=(t=>t),e=this){return new $e(this,t,e)}mapEntries(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t)){if(1===t.length&&Ie(t[0]))return this.mapKeys(t[0],e);if(t.length>1){if(Ie(t[0])){if(Ie(t[1])){return new tr(this,((r,n,s)=>[t[0].call(e,r,n,s),t[1].call(e,r,n,s)]),this)}return this.mapKeys(t[0],e)}if(Ie(t[1]))return this.mapValues(t[1],e)}}else if(Ie(t))return new tr(this,t,e);throw new TypeError("MapIterable.mapEntries expects a function or an array of functions")}map(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t))return this.mapEntries(t,e);if(Ie(t))return new ir(this,t,e);throw new TypeError("MapIterable.map expects a function or an array of functions")}concat(t){return t?t instanceof Ue||t instanceof Map?this.concatMap(t):new rr(this,Ye.from(t)):this}concatMap(t){return t?new er(this,Ue.from(t)):this}keys(){return new sr(this)}values(){return new nr(this)}entries(){return this}}class Ye{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof Ye?t:new Xe(t)}filter(t=(()=>!0),e=this){return new ar(this,t,e)}forEach(t=(()=>{}),e=this){for(const r of this)t.call(e,r,r,this)}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Ie(t.add))for(const e of this)t.add(e);else if(Ie(t.set))for(const e of this)t.set(e);return t}reduce(t=((t,e)=>e),e,r=this){let n=e;for(const e of this)n=t.call(r,n,e,e,this);return n}every(t=(()=>!0),e=this){for(const r of this)if(!t.call(e,r,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,this))return!0;return!1}has(t,e=We(t)){return this.some((r=>e(r,t)))}find(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,r,this))return r}map(t=(t=>t),e=this){return new or(this,t,e)}concat(t=[]){return new rr(this,Ye.from(t))}values(){return this}keys(){return this}entries(){return Ue.from(this.map((t=>[t,t])))}}class Xe extends Ye{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}has(t,e=We(t)){return this.iterable instanceof Set||this.iterable instanceof Ye?this.iterable.has(t,e):super.has(t,e)}*[Symbol.iterator](){yield*this.iterable}}class Je extends Ue{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}*[Symbol.iterator](){yield*this.iterable}has(t){return this.optionalGet(t).has}optionalGet(t){return Ie(this.iterable.optionalGet)?this.iterable.optionalGet(t):Ie(this.iterable.has)?this.iterable.has(t)?(Ie(this.iterable.get)&&Re(this.iterable.get(t)),Re(super.get(t))):De:super.optionalGet(t)}get(t){return this.optionalGet(t).value}}class Qe extends Je{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let[t,e]of this.iterable)this.filterPredicate.call(this.ctx,e,t,this)&&(yield[t,e])}optionalGet(t){const e=super.optionalGet(t);return e.has&&!this.filterPredicate.call(this.ctx,e.value,t,this)?De:e}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class Ze extends Je{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[this.mapFunction.call(this.ctx,e,t,this),e]}}class $e extends Je{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[t,this.mapFunction.call(this.ctx,e,t,this)]}optionalGet(t){const e=super.optionalGet(t);return e.has?Re(this.mapFunction.call(this.ctx,e.value,t,this)):e}}class tr extends Je{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable){const[r,n]=this.mapFunction.call(this.ctx,e,t,this);yield[r,n]}}get(t){if(this.iterable.has(t)){const e=this.iterable.get(t);return this.mapFunction.call(this.ctx,e,t,this)[1]}}}class er extends Ue{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}optionalGet(t){const e=this.iterable.optionalGet(t);return e.has?e:this.otherIterable.optionalGet(t)}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class rr extends Ye{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}has(t,e=We(t)){return this.iterable.has(t,e)||this.otherIterable.has(t,e)}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}}class nr extends Xe{constructor(t){super(t)}*[Symbol.iterator](){for(let[,t]of this.iterable)yield t}has(t,e=We(t)){return Array.isArray(t),this.iterable.some((r=>e(t,r)))}}class sr extends Xe{constructor(t){super(t)}*[Symbol.iterator](){for(let[t]of this.iterable)yield t}has(t){return this.iterable.optionalGet(t).has}}class ir extends Xe{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield this.mapFunction.call(this.ctx,e,t,this)}has(t,e=We(t)){return this.some((r=>e(t,r)))}}class or extends Xe{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let t of this.iterable)yield this.mapFunction.call(this.ctx,t,t,this)}has(t,e=We(t)){return this.some((r=>e(t,r)))}}class ar extends Xe{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let t of this.iterable)this.filterPredicate.call(this.ctx,t,t,this)&&(yield t)}has(t,e=We(t)){return!!this.iterable.has(t,e)&&this.filterPredicate.call(this.ctx,t,t,this)}}class cr extends Ue{constructor(t){super(),this.clear(),t&&(t[Symbol.iterator]||t.forEach)&&this.copy(t)}get size(){return this.length}__createContainer(t){return new lr(this,t)}has(t,e={}){return Be(t,e),this.buckets.has(t,e,0)}get(t,e={}){return Be(t,e),this.buckets.get(t,e,0)}optionalGet(t,e={}){return Be(t,e),this.buckets.optionalGet(t,e,0)}set(t,e,r={}){return Be(t,r),this.buckets.set(t,e,r,0),this.length=this.buckets.size,this}copy(t){const e=this;if(Me(t)){for(const[r,n]of t)e.set(r,n);return this}if(Ie(t.entries)){for(const[r,n]of t.entries())e.set(r,n);return this}if(Ie(t.forEach))return t.forEach((function(t,r){e.set(r,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable or has a forEach function on it")}clone(){return new cr(this)}delete(t,e={}){return Be(t,e),this.buckets.delete(t,e,0)&&(this.length=this.buckets.size),this}clear(){return this.buckets=new ur(this),this.length=0,this}*[Symbol.iterator](){for(const t of this.buckets)yield t}*reverse(){for(const t of this.buckets.reverse())yield t}}class ur{constructor(t){this.map=t,this.clear()}hashConflicts(){return!1}clear(){this.buckets=[],this.size=0}bucketFor(t){const e=this.indexFor(t);if(e<this.buckets.length)return this.buckets[e]}indexFor(t){return t>>>7&127}set(t,e,r){const n=r.hash,s=this.indexFor(n);let i=this.buckets[s];return i?(i.hashConflicts(n)&&(i=new hr(this.map,4,12).replacing(i),this.buckets[s]=i),!!i.set(t,e,r)&&(this.size+=1,!0)):(i=this.map.__createContainer(n),i.createEntry(t,e),this.buckets[s]=i,this.size+=1,!0)}emplace(t,e,r){const n=r.hash,s=this.indexFor(n);let i=this.buckets[s];i?i.hashConflicts(n)&&(i=new hr(this.map,4,12).replacing(i),this.buckets[s]=i):(i=this.map.__createContainer(n),this.buckets[s]=i);const o=i.emplace(t,e,r);return o.resized&&(this.size+=1),o}delete(t,e){const r=e.hash,n=this.indexFor(r),s=this.buckets[n];if(s){if(s.delete(t,e))return this.size-=1,!0}return!1}get(t,e){const r=e.hash,n=this.bucketFor(r);if(n)return n.get(t,e)}optionalGet(t,e){const r=e.hash,n=this.bucketFor(r);return n?n.optionalGet(t,e):De}has(t,e){const r=e.hash,n=this.bucketFor(r);return!!n&&n.has(t,e)}*[Symbol.iterator](){for(const t of this.buckets)if(t)for(const e of t)yield e}*reverse(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];if(e)for(const t of e.reverse())yield t}}}class hr extends ur{constructor(t,e,r){super(t),this.depth=e,this.shift=r}clear(){this.size=0,this.buckets=[],this.idxFlags=0}indexFor(t){const e=this.idxFlags,r=t>>>this.shift&31;return fr(e&(1<<r)-1)}bucketFor(t){const e=this.idxFlags,r=1<<(t>>>this.shift&31),n=fr(e&r-1);if(e&r)return this.buckets[n]}replacing(t){const e=1<<(t.hash>>>this.shift&31);return this.idxFlags|=e,this.buckets[0]=t,this.size=t.size,this}set(t,e,r){const n=r.hash,s=this.idxFlags,i=1<<(n>>>this.shift&31),o=fr(s&i-1);let a;return s&i?(a=this.buckets[o],this.depth&&a.hashConflicts(n)&&(a=new hr(this.map,this.depth-1,this.shift+5).replacing(a),this.buckets[o]=a),!!a.set(t,e,r)&&(this.size+=1,!0)):(a=this.map.__createContainer(n),a.createEntry(t,e),this.buckets.splice(o,0,a),this.idxFlags|=i,this.size+=1,!0)}delete(t,e){const r=e.hash,n=this.idxFlags,s=1<<(r>>>this.shift&31);if(n&s){const r=fr(n&s-1),i=this.buckets[r];if(i.delete(t,e))return this.size-=1,0===i.size&&(0===r?this.buckets.shift():this.buckets.size===r?this.buckets.pop():this.buckets.splice(r,1),this.idxFlags^=s),!0}return!1}*[Symbol.iterator](){for(const t of this.buckets)for(const e of t)yield e}*reverse(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];for(const t of e.reverse())yield t}}}class lr{constructor(t,e){this.size=0,this.contents=[],this.map=t,this.hash=e}hashConflicts(t){return t!==this.hash}get(t,e){if(0!==this.size){const r=e.equals;for(const e of this.contents)if(e&&r(t,e[0]))return e[1]}}optionalGet(t,e){if(0!==this.size){const r=e.equals,n=this.contents.find((e=>r(t,e[0])));if(n)return Re(n[1])}return De}set(t,e,r){const n=r.equals;for(const r of this.contents)if(n(t,r[0]))return r[1]=e,!1;return this.createEntry(t,e),!0}createEntry(t,e){const r=[t,e];return this.contents.push(r),this.size+=1,r}deleteEntry(t){return this.size-=1,0===t?this.contents.shift():t===this.size?this.contents.pop():this.contents.splice(t,1)[0]}emplace(t,e,r){const n=r.equals;for(const r of this.contents)if(n(t,r[0])){const n=e.update(r[1],t,this.map);return r[1]=n,{value:n,resized:!1}}const s=e.insert(t,this.map);return this.createEntry(t,s),{value:s,resized:!0}}has(t,e){if(0!==this.size){const r=e.equals;return this.contents.some((e=>r(t,e[0])))}return!1}delete(t,e){const r=e.equals,n=this.contents.findIndex((e=>r(t,e[0])));return-1!==n&&(this.deleteEntry(n),!0)}*[Symbol.iterator](){for(const t of this.contents)yield t.slice()}*reverse(){for(let t=this.contents.length-1;t>=0;t--){const e=this.contents[t];yield e.slice()}}}const fr=t=>16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24;class pr extends cr{constructor(t){super(t),this.start=void 0,this.end=void 0}__createContainer(t){return new dr(this,t)}clone(){return new pr(this)}*[Symbol.iterator](){let t=this.start;for(;t;)yield t.slice(),t=t.next}*reverse(){let t=this.end;for(;t;)yield t.slice(),t=t.previous}}class dr extends lr{constructor(t,e){super(t,e)}createEntry(t,e){const r=super.createEntry(t,e),n=this.map;return n.end?(n.end.next=r,r.previous=n.end,n.end=r):n.end=n.start=r,r}deleteEntry(t){const e=super.deleteEntry(t),r=this.map;e.previous?e.previous.next=e.next:r.start===e&&(r.start=e.next),e.next?e.next.previous=e.previous:r.end===e&&(r.end=e.previous)}}const br={HashMap:cr,LinkedHashMap:pr,MapIterable:Ue,SetIterable:Ye,Utils:{hash:He,isFunction:Ie,isIterable:Me,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},equalsAndHash:Be,hashCodeFor:Ve,equalsFor:We,some:Re,none:De,Option:Ne}};t.HashMap=cr,t.LinkedHashMap=pr,t.Mootable=br,t.default=cr,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
