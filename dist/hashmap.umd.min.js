!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var n,i,s=function(t){return t&&t.Math==Math&&t},o=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},c=function(t){try{return!!t()}catch(t){return!0}},u={}.toString,h=function(t){return u.call(t).slice(8,-1)},l="".split,f=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==h(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(p(t))},y=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=o.document,g=b(m)&&b(m.createElement),v=function(t){return g?m.createElement(t):{}},S=!y&&!c((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),x=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},w=function(t,e){if(!b(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!b(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},k=Object.defineProperty,O={f:y?k:function(t,e,r){if(x(t),e=w(e,!0),x(r),S)try{return k(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},z=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},F=y?function(t,e,r){return O.f(t,e,z(1,r))}:function(t,e,r){return t[e]=r,t},E=function(t,e){try{F(o,t,e)}catch(r){o[t]=e}return e},j="__core-js_shared__",T=o[j]||E(j,{}),_=r((function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),A={}.hasOwnProperty,P=function(t,e){return A.call(t,e)},G=0,I=Math.random(),M=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+I).toString(36)},C="process"==h(o.process),L=o,N=function(t){return"function"==typeof t?t:void 0},R=function(t,e){return arguments.length<2?N(L[t])||N(o[t]):L[t]&&L[t][e]||o[t]&&o[t][e]},V=R("navigator","userAgent")||"",D=o.process,q=D&&D.versions,H=q&&q.v8;H?i=(n=H.split("."))[0]+n[1]:V&&(!(n=V.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=V.match(/Chrome\/(\d+)/))&&(i=n[1]);var K,W=i&&+i,B=!!Object.getOwnPropertySymbols&&!c((function(){return!Symbol.sham&&(C?38===W:W>37&&W<41)})),U=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=_("wks"),X=o.Symbol,J=U?X:X&&X.withoutSetter||M,Q=function(t){return P(Y,t)&&(B||"string"==typeof Y[t])||(B&&P(X,t)?Y[t]=X[t]:Y[t]=J("Symbol."+t)),Y[t]},Z=Math.ceil,$=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?$:Z)(t)},et=Math.min,rt=Math.max,nt=Math.min,it=function(t){return function(e,r,n){var i,s,o=d(e),a=(i=o.length)>0?et(tt(i),9007199254740991):0,c=function(t,e){var r=tt(t);return r<0?rt(r+e,0):nt(r,e)}(n,a);if(t&&r!=r){for(;a>c;)if((s=o[c++])!=s)return!0}else for(;a>c;c++)if((t||c in o)&&o[c]===r)return t||c||0;return!t&&-1}},st={includes:it(!0),indexOf:it(!1)},ot={},at=st.indexOf,ct=function(t,e){var r,n=d(t),i=0,s=[];for(r in n)!P(ot,r)&&P(n,r)&&s.push(r);for(;e.length>i;)P(n,r=e[i++])&&(~at(s,r)||s.push(r));return s},ut=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ht=Object.keys||function(t){return ct(t,ut)},lt=y?Object.defineProperties:function(t,e){x(t);for(var r,n=ht(e),i=n.length,s=0;i>s;)O.f(t,r=n[s++],e[r]);return t},ft=R("document","documentElement"),pt=_("keys"),dt=function(t){return pt[t]||(pt[t]=M(t))},yt=dt("IE_PROTO"),bt=function(){},mt=function(t){return"<script>"+t+"</"+"script>"},gt=function(){try{K=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;gt=K?function(t){t.write(mt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(K):((e=v("iframe")).style.display="none",ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(mt("document.F=Object")),t.close(),t.F);for(var r=ut.length;r--;)delete gt.prototype[ut[r]];return gt()};ot[yt]=!0;var vt=Object.create||function(t,e){var r;return null!==t?(bt.prototype=x(t),r=new bt,bt.prototype=null,r[yt]=t):r=gt(),void 0===e?r:lt(r,e)},St=Q("unscopables"),xt=Array.prototype;null==xt[St]&&O.f(xt,St,{configurable:!0,value:vt(null)});var wt=function(t){xt[St][t]=!0},kt=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(t){return kt.call(t)});var Ot,zt,Ft,Et=T.inspectSource,jt=o.WeakMap,Tt="function"==typeof jt&&/native code/.test(Et(jt)),_t=o.WeakMap;if(Tt){var At=T.state||(T.state=new _t),Pt=At.get,Gt=At.has,It=At.set;Ot=function(t,e){return e.facade=t,It.call(At,t,e),e},zt=function(t){return Pt.call(At,t)||{}},Ft=function(t){return Gt.call(At,t)}}else{var Mt=dt("state");ot[Mt]=!0,Ot=function(t,e){return e.facade=t,F(t,Mt,e),e},zt=function(t){return P(t,Mt)?t[Mt]:{}},Ft=function(t){return P(t,Mt)}}var Ct,Lt,Nt,Rt={set:Ot,get:zt,has:Ft,enforce:function(t){return Ft(t)?zt(t):Ot(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=zt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},Vt={}.propertyIsEnumerable,Dt=Object.getOwnPropertyDescriptor,qt={f:Dt&&!Vt.call({1:2},1)?function(t){var e=Dt(this,t);return!!e&&e.enumerable}:Vt},Ht=Object.getOwnPropertyDescriptor,Kt={f:y?Ht:function(t,e){if(t=d(t),e=w(e,!0),S)try{return Ht(t,e)}catch(t){}if(P(t,e))return z(!qt.f.call(t,e),t[e])}},Wt=r((function(t){var e=Rt.get,r=Rt.enforce,n=String(String).split("String");(t.exports=function(t,e,i,s){var a,c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof e||P(i,"name")||F(i,"name",e),(a=r(i)).source||(a.source=n.join("string"==typeof e?e:""))),t!==o?(c?!h&&t[e]&&(u=!0):delete t[e],u?t[e]=i:F(t,e,i)):u?t[e]=i:E(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Et(this)}))})),Bt=ut.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return ct(t,Bt)}},Yt={f:Object.getOwnPropertySymbols},Xt=R("Reflect","ownKeys")||function(t){var e=Ut.f(x(t)),r=Yt.f;return r?e.concat(r(t)):e},Jt=function(t,e){for(var r=Xt(e),n=O.f,i=Kt.f,s=0;s<r.length;s++){var o=r[s];P(t,o)||n(t,o,i(e,o))}},Qt=/#|\.prototype\./,Zt=function(t,e){var r=te[$t(t)];return r==re||r!=ee&&("function"==typeof e?c(e):!!e)},$t=Zt.normalize=function(t){return String(t).replace(Qt,".").toLowerCase()},te=Zt.data={},ee=Zt.NATIVE="N",re=Zt.POLYFILL="P",ne=Zt,ie=Kt.f,se=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),oe=dt("IE_PROTO"),ae=Object.prototype,ce=se?Object.getPrototypeOf:function(t){return t=Object(p(t)),P(t,oe)?t[oe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ae:null},ue=Q("iterator"),he=!1;[].keys&&("next"in(Nt=[].keys())?(Lt=ce(ce(Nt)))!==Object.prototype&&(Ct=Lt):he=!0),(null==Ct||c((function(){var t={};return Ct[ue].call(t)!==t})))&&(Ct={}),P(Ct,ue)||F(Ct,ue,(function(){return this}));var le={IteratorPrototype:Ct,BUGGY_SAFARI_ITERATORS:he},fe=O.f,pe=Q("toStringTag"),de=function(t,e,r){t&&!P(t=r?t:t.prototype,pe)&&fe(t,pe,{configurable:!0,value:e})},ye=le.IteratorPrototype,be=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return x(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),me=le.IteratorPrototype,ge=le.BUGGY_SAFARI_ITERATORS,ve=Q("iterator"),Se="keys",xe="values",we="entries",ke=function(){return this},Oe="Array Iterator",ze=Rt.set,Fe=Rt.getterFor(Oe),Ee=function(t,e,r,n,i,s,a){!function(t,e,r){var n=e+" Iterator";t.prototype=vt(ye,{next:z(1,r)}),de(t,n,!1)}(r,e,n);var c,u,h,l=function(t){if(t===i&&b)return b;if(!ge&&t in d)return d[t];switch(t){case Se:case xe:case we:return function(){return new r(this,t)}}return function(){return new r(this)}},f=e+" Iterator",p=!1,d=t.prototype,y=d[ve]||d["@@iterator"]||i&&d[i],b=!ge&&y||l(i),m="Array"==e&&d.entries||y;if(m&&(c=ce(m.call(new t)),me!==Object.prototype&&c.next&&(ce(c)!==me&&(be?be(c,me):"function"!=typeof c[ve]&&F(c,ve,ke)),de(c,f,!0))),i==xe&&y&&y.name!==xe&&(p=!0,b=function(){return y.call(this)}),d[ve]!==b&&F(d,ve,b),i)if(u={values:l(xe),keys:s?b:l(Se),entries:l(we)},a)for(h in u)(ge||p||!(h in d))&&Wt(d,h,u[h]);else!function(t,e){var r,n,i,s,a,c=t.target,u=t.global,h=t.stat;if(r=u?o:h?o[c]||E(c,{}):(o[c]||{}).prototype)for(n in e){if(s=e[n],i=t.noTargetGet?(a=ie(r,n))&&a.value:r[n],!ne(u?n:c+(h?".":"#")+n,t.forced)&&void 0!==i){if(typeof s==typeof i)continue;Jt(s,i)}(t.sham||i&&i.sham)&&F(s,"sham",!0),Wt(r,n,s,t)}}({target:e,proto:!0,forced:ge||p},u);return u}(Array,"Array",(function(t,e){ze(this,{type:Oe,target:d(t),index:0,kind:e})}),(function(){var t=Fe(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");wt("keys"),wt("values"),wt("entries");var je=Q("iterator"),Te=Q("toStringTag"),_e=Ee.values;for(var Ae in a){var Pe=o[Ae],Ge=Pe&&Pe.prototype;if(Ge){if(Ge[je]!==_e)try{F(Ge,je,_e)}catch(t){Ge[je]=_e}if(Ge[Te]||F(Ge,Te,Ae),a[Ae])for(var Ie in Ee)if(Ge[Ie]!==Ee[Ie])try{F(Ge,Ie,Ee[Ie])}catch(t){Ge[Ie]=Ee[Ie]}}}function Me(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Ce(t){return!(!t||!Me(t[Symbol.iterator]))}function Le(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}class Ne{constructor(t,e){this.has=t,this.value=e,Object.freeze(this)}static get none(){return Ve}get size(){return this.has?1:0}static some(t){return Re(t)}*[Symbol.iterator](){this.has&&(yield this.value)}}const Re=t=>new Ne(!0,t),Ve=new Ne(!1,void 0);function De(t,e=0,r=0){const n=1&(e=e>0?Math.min(e,t.length):t.length),i=e-n;let s=r|=0,o=0,a=0;for(;a<i;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353,o=o<<15|o>>>17,o*=461845907,s^=o,s=s<<13|s>>>19,s*=5,s+=3864292196;return n&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,s^=o),s^=e,s^=s>>>16,s*=2246822507,s^=s>>>13,s*=3266489909,s^=s>>>16,0|s}function qe(t){switch(typeof t){case"undefined":return 0;case"boolean":return t?1:0;case"string":return De(t);case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?0|t:De(t.toString()):0;case"bigint":case"symbol":case"function":return De(t.toString());case"object":default:{if(null===t)return 0;if(t.hashCode)return Me(t.hashCode)?qe(t.hashCode(t)):qe(t.hashCode);if(t instanceof Date)return t.getTime();if(t instanceof RegExp)return De(t.toString());if(t instanceof Ne)return t.has?31*qe(t.value):0;if(t.hasOwnProperty("_mootable_hashCode"))return qe(t._mootable_hashCode);const e=He++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),e}}}let He=0;function Ke(t){if(t&&"object"==typeof t){if(t instanceof RegExp)return(t,e)=>e instanceof RegExp&&t.toString()===e.toString();if(t instanceof Date)return(t,e)=>e instanceof Date&&t.getTime()===e.getTime();if(t instanceof Ne){if(t.has){const e=Ke(t.value);return(t,r)=>!!r.has&&e(r.value,t.value)}return(t,e)=>!e.has}if(Me(t.equals)&&t.equals(t,t))return(t,e)=>t.equals(e,t)}return Le}function We(t){return 16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24}class Be{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof Be?t:new Xe(t)}filter(t=(()=>!0),e=this){return new Je(this,t,e)}forEach(t=(()=>{}),e=this){for(const[r,n]of this)t.call(e,n,r,this);return this}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Me(t.set))for(const[e,r]of this)t.set(e,r);else if(Me(t.add))for(const e of this)t.add(e);else for(const[e,r]of this)t[e]=r;return t}every(t=(()=>!0),e=this){for(const[r,n]of this)if(!t.call(e,n,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return!0;return!1}find(t=(()=>!0),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return n}findIndex(t=((t,e)=>e),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return r}indexOf(t,e=Ke(t)){for(const[r,n]of this)if(e(t,n))return r}has(t,e=Ke(t)){return this.some(((r,n)=>e(n,t)))}get(t,e=Ke(t)){return this.find(((r,n)=>e(t,n)))}optionalGet(t,e=Ke(t)){let r=!1;const n=this.find(((n,i)=>!!e(t,i)&&(r=!0,!0)));return r?Re(n):Ve}reduce(t=((t,e)=>e),e,r=this){let n=e;for(const[e,i]of this)n=t.call(r,n,i,e,this);return n}mapKeys(t=((t,e)=>e),e=this){return new Qe(this,t,e)}mapValues(t=(t=>t),e=this){return new Ze(this,t,e)}mapEntries(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t)){if(1===t.length&&Me(t[0]))return this.mapKeys(t[0],e);if(t.length>1){if(Me(t[0])){if(Me(t[1])){return new $e(this,((r,n,i)=>[t[0].call(e,r,n,i),t[1].call(e,r,n,i)]),this)}return this.mapKeys(t[0],e)}if(Me(t[1]))return this.mapValues(t[1],e)}}else if(Me(t))return new $e(this,t,e);throw new TypeError("MapIterable.mapEntries expects a function or an array of functions")}map(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t))return this.mapEntries(t,e);if(Me(t))return new ir(this,t,e);throw new TypeError("MapIterable.map expects a function or an array of functions")}concat(t){return t?t instanceof Be||t instanceof Map?this.concatMap(t):new er(this,Ue.from(t)):this}concatMap(t){return t?new tr(this,Be.from(t)):this}keys(){return new nr(this)}values(){return new rr(this)}entries(){return this}}class Ue{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof Ue?t:new Ye(t)}filter(t=(()=>!0),e=this){return new or(this,t,e)}forEach(t=(()=>{}),e=this){for(const r of this)t.call(e,r,r,this)}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Me(t.add))for(const e of this)t.add(e);else if(Me(t.set))for(const e of this)t.set(e);return t}reduce(t=((t,e)=>e),e,r=this){let n=e;for(const e of this)n=t.call(r,n,e,e,this);return n}every(t=(()=>!0),e=this){for(const r of this)if(!t.call(e,r,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,this))return!0;return!1}has(t,e=Ke(t)){return this.some((r=>e(r,t)))}find(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,r,this))return r}map(t=(t=>t),e=this){return new sr(this,t,e)}concat(t=[]){return new er(this,Ue.from(t))}values(){return this}keys(){return this}entries(){return Be.from(this.map((t=>[t,t])))}}class Ye extends Ue{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}has(t,e=Ke(t)){return this.iterable instanceof Set||this.iterable instanceof Ue?this.iterable.has(t,e):super.has(t,e)}*[Symbol.iterator](){yield*this.iterable}}class Xe extends Be{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}*[Symbol.iterator](){yield*this.iterable}has(t){return this.optionalGet(t).has}optionalGet(t){return Me(this.iterable.optionalGet)?this.iterable.optionalGet(t):Me(this.iterable.has)?this.iterable.has(t)?(Me(this.iterable.get)&&Re(this.iterable.get(t)),Re(super.get(t))):Ve:super.optionalGet(t)}get(t){return this.optionalGet(t).value}}class Je extends Xe{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let[t,e]of this.iterable)this.filterPredicate.call(this.ctx,e,t,this)&&(yield[t,e])}optionalGet(t){const e=super.optionalGet(t);return e.has&&!this.filterPredicate.call(this.ctx,e.value,t,this)?Ve:e}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class Qe extends Xe{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[this.mapFunction.call(this.ctx,e,t,this),e]}}class Ze extends Xe{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[t,this.mapFunction.call(this.ctx,e,t,this)]}optionalGet(t){const e=super.optionalGet(t);return e.has?Re(this.mapFunction.call(this.ctx,e.value,t,this)):e}}class $e extends Xe{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable){const[r,n]=this.mapFunction.call(this.ctx,e,t,this);yield[r,n]}}get(t){if(this.iterable.has(t)){const e=this.iterable.get(t);return this.mapFunction.call(this.ctx,e,t,this)[1]}}}class tr extends Be{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}optionalGet(t){const e=this.iterable.optionalGet(t);return e.has?e:this.otherIterable.optionalGet(t)}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class er extends Ue{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}has(t,e=Ke(t)){return this.iterable.has(t,e)||this.otherIterable.has(t,e)}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}}class rr extends Ye{constructor(t){super(t)}*[Symbol.iterator](){for(let[,t]of this.iterable)yield t}has(t,e=Ke(t)){return Array.isArray(t),this.iterable.some((r=>e(t,r)))}}class nr extends Ye{constructor(t){super(t)}*[Symbol.iterator](){for(let[t]of this.iterable)yield t}has(t){return this.iterable.optionalGet(t).has}}class ir extends Ye{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield this.mapFunction.call(this.ctx,e,t,this)}has(t,e=Ke(t)){return this.some((r=>e(t,r)))}}class sr extends Ye{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let t of this.iterable)yield this.mapFunction.call(this.ctx,t,t,this)}has(t,e=Ke(t)){return this.some((r=>e(t,r)))}}class or extends Ye{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let t of this.iterable)this.filterPredicate.call(this.ctx,t,t,this)&&(yield t)}has(t,e=Ke(t)){return!!this.iterable.has(t,e)&&this.filterPredicate.call(this.ctx,t,t,this)}}const ar=31;class cr extends Be{constructor(t){super(),this.clear(),t&&t.forEach&&this.copy(t)}__createContainer(t){return new pr(this,t)}get size(){return this.length}has(t,e={}){return ur(t,e),this.buckets.has(t,e,0)}get(t,e={}){return ur(t,e),this.buckets.get(t,e,0)}optionalGet(t,e={}){return ur(t,e),this.buckets.optionalGet(t,e,0)}set(t,e,r={}){return ur(t,r),this.buckets.set(t,e,r,0),this.length=this.buckets.size,this}copy(t){const e=this;if(Ce(t)){for(const[r,n]of t)e.set(r,n);return this}if(Me(t.entries)){for(const[r,n]of t.entries())e.set(r,n);return this}if(Me(t.forEach))return t.forEach((function(t,r){e.set(r,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable or has a forEach function on it")}clone(){return new cr(this)}delete(t,e={}){return ur(t,e),this.buckets.delete(t,e,0)&&(this.length=this.buckets.size),this}clear(){return this.buckets=new hr(this),this.length=0,this}*[Symbol.iterator](){for(const t of this.buckets)yield t}*reverse(){for(const t of this.buckets.reverse())yield t}}function ur(t,e){let r=e.hash;return void 0===r&&(r=e.hash=qe(t)),r}class hr{constructor(t){this.map=t,this.clear()}hashConflicts(){return!1}clear(){this.buckets=new Array(128),this.size=0}bucketFor(t){const e=this.indexFor(t);if(e<this.buckets.length)return this.buckets[e]}indexFor(t){return t>>>7&127}set(t,e,r){const n=r.hash,i=this.indexFor(n);let s=this.buckets[i];if(!s)return s=this.map.__createContainer(n),s.createEntry(t,e),this.buckets[i]=s,this.size+=1,!0;if(s.hashConflicts(n)){const t=s;s=new lr(this.map,4,12);const e=1<<(t.hash>>>12&ar);s.idxFlags|=e,s.buckets[0]=t,this.buckets[i]=s,s.size=t.size}return!!s.set(t,e,r)&&(this.size+=1,!0)}emplace(t,e,r){const n=r.hash,i=this.indexFor(n);let s=this.buckets[i];if(s){if(s.hashConflicts(n)){const t=s;s=new lr(this.map,4,12),s.buckets[t.hash>>>12&ar]=t,s.size=t.size,this.buckets[i]=s}}else s=this.map.__createContainer(n),this.buckets[i]=s;const o=s.emplace(t,e,r);return o.resized&&(this.size+=1),o}delete(t,e){const r=e.hash,n=this.indexFor(r),i=this.buckets[n];if(i){if(i.delete(t,e))return 0===i.size&&(this.buckets[n]=void 0),this.size-=1,!0}return!1}get(t,e){const r=e.hash,n=this.bucketFor(r);if(n)return n.get(t,e)}optionalGet(t,e){const r=e.hash,n=this.bucketFor(r);return n?n.optionalGet(t,e):Ve}has(t,e){const r=e.hash,n=this.bucketFor(r);return!!n&&n.has(t,e)}*[Symbol.iterator](){for(const t of this.buckets)if(t)for(const e of t)yield e}*reverse(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];if(e)for(const t of e.reverse())yield t}}}class lr extends hr{constructor(t,e,r){super(t),this.depth=e,this.shift=r}clear(){this.size=0,this.buckets=[],this.idxFlags=0}indexFor(t){return We(this.idxFlags&(1<<(t>>>this.shift&ar))-1)}bucketFor(t){const e=this.idxFlags,r=1<<(t>>>this.shift&ar),n=We(e&r-1);if(e&r)return this.buckets[n]}set(t,e,r){const n=r.hash,i=this.idxFlags,s=1<<(n>>>this.shift&ar),o=We(i&s-1);let a;if(!(i&s))return a=this.map.__createContainer(n),a.createEntry(t,e),this.buckets.splice(o,0,a),this.idxFlags|=s,this.size+=1,!0;if(a=this.buckets[o],this.depth&&a.hashConflicts(n)){const t=a;a=new lr(this.map,this.depth-1,this.shift+5),this.buckets[o]=a;const e=1<<(t.hash>>>a.shift&ar);a.idxFlags|=e,a.buckets[0]=t,a.size=t.size}return!!a.set(t,e,r)&&(this.size+=1,!0)}delete(t,e){const r=e.hash,n=this.idxFlags,i=1<<(r>>>this.shift&ar);if(n&i){const r=We(n&i-1),s=this.buckets[r];if(s.delete(t,e))return 0===s.size&&(this.buckets.splice(r,1),this.idxFlags^=i),this.size-=1,!0}return!1}*[Symbol.iterator](){for(const t of this.buckets)for(const e of t)yield e}*reverse(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];for(const t of e.reverse())yield t}}}function fr(t,e){return void 0===e.equals&&(e.equals=Ke(t)),e.equals}class pr{constructor(t,e){this.size=0,this.contents=[],this.map=t,this.hash=e}hashConflicts(t){return t!==this.hash}get(t,e){if(0!==this.size){const r=fr(t,e);for(const e of this.contents)if(e&&r(t,e[0]))return e[1]}}optionalGet(t,e){if(0!==this.size){const r=fr(t,e),n=this.contents.find((e=>r(t,e[0])));if(n)return Re(n[1])}return Ve}set(t,e,r){const n=fr(t,r);for(const r of this.contents)if(n(t,r[0]))return this.overwriteValue(r,e),!1;return this.createEntry(t,e),!0}createEntry(t,e){const r=[t,e];return this.contents.push(r),this.size+=1,r}overwriteValue(t,e){t[1]=e}deleteEntry(t){return this.size-=1,this.contents.splice(t,1)}emplace(t,e,r){const n=fr(t,r);for(const r of this.contents)if(n(t,r[0])){const n=e.update(r[1],t,this.map);return this.overwriteValue(r,n),{value:n,resized:!1}}const i=e.insert(t,this.map);return this.createEntry(t,i),{value:i,resized:!0}}has(t,e){if(0!==this.size){const r=fr(t,e);return this.contents.some((e=>r(t,e[0])))}return!1}delete(t,e){const r=fr(t,e),n=this.contents.findIndex((e=>r(t,e[0])));return-1!==n&&(this.deleteEntry(n),!0)}*[Symbol.iterator](){for(const t of this.contents)yield t.slice()}*reverse(){for(let t=this.contents.length-1;t>=0;t--){const e=this.contents[t];yield e.slice()}}}class dr extends cr{constructor(t){super(t),this.start=void 0,this.end=void 0}__createContainer(t){return new yr(this,t)}clone(){return new dr(this)}*[Symbol.iterator](){let t=this.start;for(;t;)yield t.slice(),t=t.next}*reverse(){let t=this.end;for(;t;)yield t.slice(),t=t.previous}}class yr extends pr{constructor(t,e){super(t,e)}createEntry(t,e){const r=super.createEntry(t,e),n=this.map;return n.end?(n.end.next=r,r.previous=n.end,n.end=r):n.end=n.start=r,r}deleteEntry(t){const[e]=super.deleteEntry(t),r=this.map;e.previous?e.previous.next=e.next:r.start===e&&(r.start=e.next),e.next?e.next.previous=e.previous:r.end===e&&(r.end=e.previous)}}const br={HashMap:cr,LinkedHashMap:dr,MapIterable:Be,SetIterable:Ue,Utils:{hash:De,isFunction:Me,isIterable:Ce,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},equalsAndHash:function(t,e,r){return Me(e)&&e(t,t)||(e=Ke(t)),Number.isSafeInteger(r)||(r=qe(t)),{hash:r,equals:e}},hashCodeFor:qe,equalsFor:Ke,some:Re,none:Ve,Option:Ne}};t.HashMap=cr,t.LinkedHashMap=dr,t.Mootable=br,t.default=cr,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
