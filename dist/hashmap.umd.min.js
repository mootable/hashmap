!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){var e={exports:{}};return t(e,e.exports),e.exports}var s,r,i=function(t){return t&&t.Math==Math&&t},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},c=function(t){try{return!!t()}catch(t){return!0}},u={}.toString,h=function(t){return u.call(t).slice(8,-1)},l="".split,f=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==h(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(p(t))},y=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=o.document,v=b(g)&&b(g.createElement),m=function(t){return v?g.createElement(t):{}},k=!y&&!c((function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a})),S=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},O=function(t,e){if(!b(t))return t;var n,s;if(e&&"function"==typeof(n=t.toString)&&!b(s=n.call(t)))return s;if("function"==typeof(n=t.valueOf)&&!b(s=n.call(t)))return s;if(!e&&"function"==typeof(n=t.toString)&&!b(s=n.call(t)))return s;throw TypeError("Can't convert object to primitive value")},x=Object.defineProperty,w={f:y?x:function(t,e,n){if(S(t),e=O(e,!0),S(n),k)try{return x(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},R=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=y?function(t,e,n){return w.f(t,e,R(1,n))}:function(t,e,n){return t[e]=n,t},j=function(t,e){try{T(o,t,e)}catch(n){o[t]=e}return e},E="__core-js_shared__",z=o[E]||j(E,{}),C=n((function(t){(t.exports=function(t,e){return z[t]||(z[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.11.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),L=function(t){return Object(p(t))},F={}.hasOwnProperty,_=function(t,e){return F.call(L(t),e)},P=0,q=Math.random(),I=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++P+q).toString(36)},M="process"==h(o.process),A=o,N=function(t){return"function"==typeof t?t:void 0},G=function(t,e){return arguments.length<2?N(A[t])||N(o[t]):A[t]&&A[t][e]||o[t]&&o[t][e]},D=G("navigator","userAgent")||"",H=o.process,K=H&&H.versions,V=K&&K.v8;V?r=(s=V.split("."))[0]+s[1]:D&&(!(s=D.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=D.match(/Chrome\/(\d+)/))&&(r=s[1]);var U,W=r&&+r,B=!!Object.getOwnPropertySymbols&&!c((function(){return!Symbol.sham&&(M?38===W:W>37&&W<41)})),Y=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=C("wks"),J=o.Symbol,Q=Y?J:J&&J.withoutSetter||I,Z=function(t){return _(X,t)&&(B||"string"==typeof X[t])||(B&&_(J,t)?X[t]=J[t]:X[t]=Q("Symbol."+t)),X[t]},$=Math.ceil,tt=Math.floor,et=function(t){return isNaN(t=+t)?0:(t>0?tt:$)(t)},nt=Math.min,st=Math.max,rt=Math.min,it=function(t){return function(e,n,s){var r,i,o=d(e),a=(r=o.length)>0?nt(et(r),9007199254740991):0,c=function(t,e){var n=et(t);return n<0?st(n+e,0):rt(n,e)}(s,a);if(t&&n!=n){for(;a>c;)if((i=o[c++])!=i)return!0}else for(;a>c;c++)if((t||c in o)&&o[c]===n)return t||c||0;return!t&&-1}},ot={includes:it(!0),indexOf:it(!1)},at={},ct=ot.indexOf,ut=function(t,e){var n,s=d(t),r=0,i=[];for(n in s)!_(at,n)&&_(s,n)&&i.push(n);for(;e.length>r;)_(s,n=e[r++])&&(~ct(i,n)||i.push(n));return i},ht=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lt=Object.keys||function(t){return ut(t,ht)},ft=y?Object.defineProperties:function(t,e){S(t);for(var n,s=lt(e),r=s.length,i=0;r>i;)w.f(t,n=s[i++],e[n]);return t},pt=G("document","documentElement"),dt=C("keys"),yt=function(t){return dt[t]||(dt[t]=I(t))},bt=yt("IE_PROTO"),gt=function(){},vt=function(t){return"<script>"+t+"</"+"script>"},mt=function(){try{U=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;mt=U?function(t){t.write(vt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(U):((e=m("iframe")).style.display="none",pt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(vt("document.F=Object")),t.close(),t.F);for(var n=ht.length;n--;)delete mt.prototype[ht[n]];return mt()};at[bt]=!0;var kt=Object.create||function(t,e){var n;return null!==t?(gt.prototype=S(t),n=new gt,gt.prototype=null,n[bt]=t):n=mt(),void 0===e?n:ft(n,e)},St=Z("unscopables"),Ot=Array.prototype;null==Ot[St]&&w.f(Ot,St,{configurable:!0,value:kt(null)});var xt=function(t){Ot[St][t]=!0},wt=Function.toString;"function"!=typeof z.inspectSource&&(z.inspectSource=function(t){return wt.call(t)});var Rt,Tt,jt,Et=z.inspectSource,zt=o.WeakMap,Ct="function"==typeof zt&&/native code/.test(Et(zt)),Lt="Object already initialized",Ft=o.WeakMap;if(Ct){var _t=z.state||(z.state=new Ft),Pt=_t.get,qt=_t.has,It=_t.set;Rt=function(t,e){if(qt.call(_t,t))throw new TypeError(Lt);return e.facade=t,It.call(_t,t,e),e},Tt=function(t){return Pt.call(_t,t)||{}},jt=function(t){return qt.call(_t,t)}}else{var Mt=yt("state");at[Mt]=!0,Rt=function(t,e){if(_(t,Mt))throw new TypeError(Lt);return e.facade=t,T(t,Mt,e),e},Tt=function(t){return _(t,Mt)?t[Mt]:{}},jt=function(t){return _(t,Mt)}}var At,Nt,Gt,Dt={set:Rt,get:Tt,has:jt,enforce:function(t){return jt(t)?Tt(t):Rt(t,{})},getterFor:function(t){return function(e){var n;if(!b(e)||(n=Tt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Ht={}.propertyIsEnumerable,Kt=Object.getOwnPropertyDescriptor,Vt={f:Kt&&!Ht.call({1:2},1)?function(t){var e=Kt(this,t);return!!e&&e.enumerable}:Ht},Ut=Object.getOwnPropertyDescriptor,Wt={f:y?Ut:function(t,e){if(t=d(t),e=O(e,!0),k)try{return Ut(t,e)}catch(t){}if(_(t,e))return R(!Vt.f.call(t,e),t[e])}},Bt=n((function(t){var e=Dt.get,n=Dt.enforce,s=String(String).split("String");(t.exports=function(t,e,r,i){var a,c=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,h=!!i&&!!i.noTargetGet;"function"==typeof r&&("string"!=typeof e||_(r,"name")||T(r,"name",e),(a=n(r)).source||(a.source=s.join("string"==typeof e?e:""))),t!==o?(c?!h&&t[e]&&(u=!0):delete t[e],u?t[e]=r:T(t,e,r)):u?t[e]=r:j(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Et(this)}))})),Yt=ht.concat("length","prototype"),Xt={f:Object.getOwnPropertyNames||function(t){return ut(t,Yt)}},Jt={f:Object.getOwnPropertySymbols},Qt=G("Reflect","ownKeys")||function(t){var e=Xt.f(S(t)),n=Jt.f;return n?e.concat(n(t)):e},Zt=function(t,e){for(var n=Qt(e),s=w.f,r=Wt.f,i=0;i<n.length;i++){var o=n[i];_(t,o)||s(t,o,r(e,o))}},$t=/#|\.prototype\./,te=function(t,e){var n=ne[ee(t)];return n==re||n!=se&&("function"==typeof e?c(e):!!e)},ee=te.normalize=function(t){return String(t).replace($t,".").toLowerCase()},ne=te.data={},se=te.NATIVE="N",re=te.POLYFILL="P",ie=te,oe=Wt.f,ae=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ce=yt("IE_PROTO"),ue=Object.prototype,he=ae?Object.getPrototypeOf:function(t){return t=L(t),_(t,ce)?t[ce]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ue:null},le=Z("iterator"),fe=!1;[].keys&&("next"in(Gt=[].keys())?(Nt=he(he(Gt)))!==Object.prototype&&(At=Nt):fe=!0),(null==At||c((function(){var t={};return At[le].call(t)!==t})))&&(At={}),_(At,le)||T(At,le,(function(){return this}));var pe={IteratorPrototype:At,BUGGY_SAFARI_ITERATORS:fe},de=w.f,ye=Z("toStringTag"),be=function(t,e,n){t&&!_(t=n?t:t.prototype,ye)&&de(t,ye,{configurable:!0,value:e})},ge=pe.IteratorPrototype,ve=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,s){return S(n),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(s),e?t.call(n,s):n.__proto__=s,n}}():void 0),me=pe.IteratorPrototype,ke=pe.BUGGY_SAFARI_ITERATORS,Se=Z("iterator"),Oe="keys",xe="values",we="entries",Re=function(){return this},Te="Array Iterator",je=Dt.set,Ee=Dt.getterFor(Te),ze=function(t,e,n,s,r,i,a){!function(t,e,n){var s=e+" Iterator";t.prototype=kt(ge,{next:R(1,n)}),be(t,s,!1)}(n,e,s);var c,u,h,l=function(t){if(t===r&&b)return b;if(!ke&&t in d)return d[t];switch(t){case Oe:case xe:case we:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",p=!1,d=t.prototype,y=d[Se]||d["@@iterator"]||r&&d[r],b=!ke&&y||l(r),g="Array"==e&&d.entries||y;if(g&&(c=he(g.call(new t)),me!==Object.prototype&&c.next&&(he(c)!==me&&(ve?ve(c,me):"function"!=typeof c[Se]&&T(c,Se,Re)),be(c,f,!0))),r==xe&&y&&y.name!==xe&&(p=!0,b=function(){return y.call(this)}),d[Se]!==b&&T(d,Se,b),r)if(u={values:l(xe),keys:i?b:l(Oe),entries:l(we)},a)for(h in u)(ke||p||!(h in d))&&Bt(d,h,u[h]);else!function(t,e){var n,s,r,i,a,c=t.target,u=t.global,h=t.stat;if(n=u?o:h?o[c]||j(c,{}):(o[c]||{}).prototype)for(s in e){if(i=e[s],r=t.noTargetGet?(a=oe(n,s))&&a.value:n[s],!ie(u?s:c+(h?".":"#")+s,t.forced)&&void 0!==r){if(typeof i==typeof r)continue;Zt(i,r)}(t.sham||r&&r.sham)&&T(i,"sham",!0),Bt(n,s,i,t)}}({target:e,proto:!0,forced:ke||p},u);return u}(Array,"Array",(function(t,e){je(this,{type:Te,target:d(t),index:0,kind:e})}),(function(){var t=Ee(this),e=t.target,n=t.kind,s=t.index++;return!e||s>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:s,done:!1}:"values"==n?{value:e[s],done:!1}:{value:[s,e[s]],done:!1}}),"values");xt("keys"),xt("values"),xt("entries");var Ce=Z("iterator"),Le=Z("toStringTag"),Fe=ze.values;for(var _e in a){var Pe=o[_e],qe=Pe&&Pe.prototype;if(qe){if(qe[Ce]!==Fe)try{T(qe,Ce,Fe)}catch(t){qe[Ce]=Fe}if(qe[Le]||T(qe,Le,_e),a[_e])for(var Ie in ze)if(qe[Ie]!==ze[Ie])try{T(qe,Ie,ze[Ie])}catch(t){qe[Ie]=ze[Ie]}}}function Me(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Ae(t){return!(!t||!Me(t[Symbol.iterator]))}function Ne(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Ge(t,e){return t===e}class De{constructor(t,e){this.has=t,this.value=e,Object.freeze(this)}static get none(){return Ke}get size(){return this.has?1:0}static some(t){return He(t)}*[Symbol.iterator](){this.has&&(yield this.value)}}const He=t=>new De(!0,t),Ke=new De(!1,void 0);function Ve(t,e=0,n=0){const s=1&(e=e>0?Math.min(e,t.length):t.length),r=e-s;let i=n|=0,o=0,a=0;for(;a<r;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353,o=o<<15|o>>>17,o*=461845907,i^=o,i=i<<13|i>>>19,i*=5,i+=3864292196;return s&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,i^=o),i^=e,i^=i>>>16,i*=2246822507,i^=i>>>13,i*=3266489909,i^=i>>>16,0|i}function Ue(t){switch(typeof t){case"undefined":return 0;case"boolean":return t?1:0;case"string":return Ve(t);case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?0|t:Ve(t.toString()):0;case"bigint":case"symbol":case"function":return Ve(t.toString());case"object":default:{if(null===t)return 0;if(t.hashCode)return Me(t.hashCode)?Ue(t.hashCode(t)):Ue(t.hashCode);if(t instanceof Date)return t.getTime();if(t instanceof RegExp)return Ve(t.toString());if(t instanceof De)return t.has?31*Ue(t.value):0;if(Object.prototype.hasOwnProperty.call(t,"_mootable_hashCode"))return Ue(t._mootable_hashCode);const e=We++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),e}}}let We=0;function Be(t){switch(typeof t){case"object":if(t){if(t instanceof RegExp)return(t,e)=>e instanceof RegExp&&t.toString()===e.toString();if(t instanceof Date)return(t,e)=>e instanceof Date&&t.getTime()===e.getTime();if(t instanceof De){if(t.has){const e=Be(t.value);return(t,n)=>!!n.has&&e(t.value,n.value)}return(t,e)=>!e.has}if(Me(t.equals))return(t,e)=>t.equals(e,t)}return Ge;case"number":case"bigint":return Ne;default:return Ge}}function Ye(t,e){if(e){let n=e.hash,s=e.equals;return Me(n)&&(n=n(t)),Number.isSafeInteger(n)||(n=Ue(t)),Me(s)||(s=Be(t)),{hash:n,equals:s}}const n={};switch(typeof t){case"undefined":return n.hash=0,n.equals=Ge,n;case"boolean":return n.hash=t?1:0,n.equals=Ge,n;case"string":return n.hash=Ve(t),n.equals=Ge,n;case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?(n.hash=0|t,n.equals=Ne,n):(n.hash=Ve(t.toString()),n.equals=Ne,n):(n.hash=0,n.equals=Ne,n);case"bigint":return n.hash=Ve(t.toString()),n.equals=Ne,n;case"symbol":case"function":return n.hash=Ve(t.toString()),n.equals=Ge,n;case"object":default:{if(null===t)return n.hash=0,n.equals=Ge,n;if(n.equals=Be(t),t.hashCode)return Me(t.hashCode)?(n.hash=Ue(t.hashCode(t)),n):(n.hash=Ue(t.hashCode),n);if(t instanceof Date)return n.hash=t.getTime(),n;if(t instanceof RegExp)return n.hash=Ve(t.toString()),n;if(t instanceof De)return t.has?(n.hash=31*Ue(t.value),n):(n.hash=0,n);if(Object.prototype.hasOwnProperty.call(t,"_mootable_hashCode"))return n.hash=Ue(t._mootable_hashCode),n;const e=We++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),n.hash=e,n}}}class Xe{constructor(t,e,n){this.size=0,this.contents=[],this.map=t,this.parent=e,this.hash=n}hashConflicts(t){return t!==this.hash}get(t,e){if(0!==this.size){const n=e.equals;for(const e of this.contents)if(e&&n(t,e[0]))return e[1]}}optionalGet(t,e){if(0!==this.size){const n=e.equals,s=this.contents.find((e=>n(t,e[0])));if(s)return He(s[1])}return Ke}set(t,e,n){const s=n.equals;for(const r of this.contents)if(s(t,r[0]))return void this.updateEntry(r,e,n);this.createEntry(t,e,n)}emplace(t,e,n){const s=n.equals;for(const r of this.contents)if(s(t,r[0])){const s="update"in e?e.update(r[1],t,this.map):e.insert(t,this.map);return this.updateEntry(r,s,n),s}const r=e.insert(t,this.map);return this.createEntry(t,r,n),r}createEntry(t,e){const n=[t,e];return n.parent=this,this.contents.push(n),this.size+=1,n}updateEntry(t,e){t[1]=e}deleteEntry(t){const e=this.contents.indexOf(t);if(-1!==e){this.deleteIndex(e);let t=this.parent;for(;t;)t.size-=1,t=t.parent}}deleteIndex(t){return this.size-=1,0===t?this.contents.shift():t===this.size?this.contents.pop():this.contents.splice(t,1)[0]}has(t,e){if(0!==this.size){const n=e.equals;return this.contents.some((e=>n(t,e[0])))}return!1}delete(t,e){const n=e.equals,s=this.contents.findIndex((e=>n(t,e[0])));return-1!==s&&(this.deleteIndex(s),!0)}*[Symbol.iterator](){for(const t of this.contents)yield t.slice()}*entriesRight(){for(let t=this.contents.length-1;t>=0;t--)yield this.contents[t].slice()}*keys(){for(const t of this.contents)yield t[0]}*values(){for(const t of this.contents)yield t[1]}*keysRight(){for(let t=this.contents.length-1;t>=0;t--)yield this.contents[t][0]}*valuesRight(){for(let t=this.contents.length-1;t>=0;t--)yield this.contents[t][1]}}const Je=127;class Qe{constructor(t){this.map=t,this.buckets=[],this.size=0}clear(){this.buckets=[],this.size=0}bucketFor(t){const e=t&Je;if(e<this.buckets.length)return this.buckets[e]}set(t,e,n){const s=n.hash,r=s&Je;let i=this.buckets[r];if(!i)return i=this.map.createContainer(this,s),i.createEntry(t,e,n),this.buckets[r]=i,void(this.size+=1);i.hashConflicts(s)&&(i=new Ze(this.map,this,4,7).replacing(i),this.buckets[r]=i),this.size-=i.size,i.set(t,e,n),this.size+=i.size}emplace(t,e,n){const s=n.hash,r=s&Je;let i=this.buckets[r];i?i.hashConflicts(s)&&(i=new Ze(this.map,this,4,7).replacing(i),this.buckets[r]=i):(i=this.map.createContainer(this,s),this.buckets[r]=i),this.size-=i.size;const o=i.emplace(t,e,n);return this.size+=i.size,o}delete(t,e){const n=e.hash&Je,s=this.buckets[n];if(s){if(s.delete(t,e))return this.size-=1,!0}return!1}get(t,e){const n=e.hash,s=this.bucketFor(n);if(s)return s.get(t,e)}optionalGet(t,e){const n=e.hash,s=this.bucketFor(n);return s?s.optionalGet(t,e):Ke}has(t,e){const n=e.hash,s=this.bucketFor(n);return!!s&&s.has(t,e)}*[Symbol.iterator](){for(const t of this.buckets)t&&(yield*t)}*entriesRight(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];e&&(yield*e.entriesRight())}}*keys(){for(const t of this.buckets)t&&(yield*t.keys())}*values(){for(const t of this.buckets)t&&(yield*t.values())}*keysRight(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];e&&(yield*e.keysRight())}}*valuesRight(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];e&&(yield*e.valuesRight())}}}class Ze{constructor(t,e,n,s){this.map=t,this.parent=e,this.buckets=[],this.size=0,this.idxFlags=0,this.depth=n,this.shift=s}hashConflicts(){return!1}clear(){this.size=0,this.buckets=[],this.idxFlags=0}bucketFor(t){const e=this.idxFlags,n=1<<(t>>>this.shift&31),s=$e(e&n-1);if(e&n)return this.buckets[s]}replacing(t){const e=1<<(t.hash>>>this.shift&31);return this.idxFlags|=e,this.buckets[0]=t,this.size=t.size,t.parent=this,this}set(t,e,n){const s=n.hash,r=this.idxFlags,i=1<<(s>>>this.shift&31),o=$e(r&i-1);let a;r&i?(a=this.buckets[o],this.depth&&a.hashConflicts(s)&&(a=new Ze(this.map,this,this.depth-1,this.shift+5).replacing(a),this.buckets[o]=a),this.size-=a.size,a.set(t,e,n),this.size+=a.size):(a=this.map.createContainer(this,s),a.createEntry(t,e,n),this.buckets.splice(o,0,a),this.idxFlags|=i,this.size+=1)}emplace(t,e,n){const s=n.hash,r=this.idxFlags,i=1<<(s>>>this.shift&31),o=$e(r&i-1);let a;r&i?(a=this.buckets[o],this.depth&&a.hashConflicts(s)&&(a=new Ze(this.map,this,this.depth-1,this.shift+5).replacing(a),this.buckets[o]=a)):(a=this.map.createContainer(this,s),this.buckets.splice(o,0,a),this.idxFlags|=i),this.size-=a.size;const c=a.emplace(t,e,n);return this.size+=a.size,c}delete(t,e){const n=e.hash,s=this.idxFlags,r=1<<(n>>>this.shift&31);if(s&r){const n=$e(s&r-1),i=this.buckets[n];if(i.delete(t,e))return this.size-=1,0===i.size&&(0===n?this.buckets.shift():this.buckets.length===n+1?this.buckets.pop():this.buckets.splice(n,1),this.idxFlags^=r),!0}return!1}get(t,e){const n=e.hash,s=this.bucketFor(n);if(s)return s.get(t,e)}optionalGet(t,e){const n=e.hash,s=this.bucketFor(n);return s?s.optionalGet(t,e):Ke}has(t,e){const n=e.hash,s=this.bucketFor(n);return!!s&&s.has(t,e)}*[Symbol.iterator](){for(const t of this.buckets)yield*t}*entriesRight(){for(let t=this.buckets.length-1;t>=0;t--)yield*this.buckets[t].entriesRight()}*keys(){for(const t of this.buckets)yield*t.keys()}*values(){for(const t of this.buckets)yield*t.values()}*keysRight(){for(let t=this.buckets.length-1;t>=0;t--)yield*this.buckets[t].keysRight()}*valuesRight(){for(let t=this.buckets.length-1;t>=0;t--)yield*this.buckets[t].valuesRight()}}const $e=t=>16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>4)&252645135)>>>24;class tn{constructor(t){this.buckets=new Qe(this),t&&this.copy(t)}get size(){return this.buckets.size}get length(){return this.buckets.size}has(t,e){const n=Ye(t,e);return this.buckets.has(t,n)}get(t,e){const n=Ye(t,e);return this.buckets.get(t,n)}keyOf(t,e){const n=e&&Me(e.equals)?e.equals:Be(t);for(const e of this.entries())if(n(t,e[1]))return e[0]}lastKeyOf(t,e){const n=e&&Me(e.equals)?e.equals:Be(t);for(const e of this.entriesRight())if(n(t,e[1]))return e[0]}optionalKeyOf(t,e){const n=e&&Me(e.equals)?e.equals:Be(t);for(const e of this.entries())if(n(t,e[1]))return He(e[0]);return Ke}optionalLastKeyOf(t,e){const n=e&&Me(e.equals)?e.equals:Be(t);for(const e of this.entriesRight())if(n(t,e[1]))return He(e[0]);return Ke}optionalGet(t,e){const n=Ye(t,e);return this.buckets.optionalGet(t,n)}find(t=(()=>!0),e){for(const[n,s]of this.entries())if(t.call(e,s,n,this))return s}findLast(t=(()=>!0),e){for(const[n,s]of this.entriesRight())if(t.call(e,s,n,this))return s}optionalFind(t=(()=>!0),e){for(const[n,s]of this.entries())if(t.call(e,s,n,this))return He(s);return Ke}optionalFindLast(t=(()=>!0),e){for(const[n,s]of this.entriesRight())if(t.call(e,s,n,this))return He(s);return Ke}findKey(t=((t,e)=>e),e){for(const[n,s]of this.entries())if(t.call(e,s,n,this))return n}findLastKey(t=((t,e)=>e),e){for(const[n,s]of this.entriesRight())if(t.call(e,s,n,this))return n}optionalFindKey(t=((t,e)=>e),e){for(const[n,s]of this.entries())if(t.call(e,s,n,this))return He(n);return Ke}optionalFindLastKey(t=((t,e)=>e),e){for(const[n,s]of this.entriesRight())if(t.call(e,s,n,this))return He(n);return Ke}set(t,e,n){const s=Ye(t,n);return this.buckets.set(t,e,s),this}emplace(t,e,n){const s=Ye(t,n);return this.buckets.emplace(t,e,s)}copy(t){const e=this;if(Ae(t)){for(const[n,s]of t)e.set(n,s);return this}if(Me(t.entries)){for(const[n,s]of t.entries())e.set(n,s);return this}if(Me(t.forEach))return t.forEach((function(t,n){e.set(n,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable, has an entries iterable function, or has a forEach function on it")}clone(){return new tn(this)}delete(t,e){const n=Ye(t,e);return this.buckets.delete(t,n),this}clear(){return this.buckets.clear(),this}forEach(t,e){for(const n of this.entries())t.call(e,n[1],n[0],this);return this}forEachRight(t,e){for(const n of this.entriesRight())t.call(e,n[1],n[0],this);return this}every(t=(()=>!0),e){for(const[n,s]of this.entries())if(!t.call(e,s,n,this))return!1;return!0}some(t=(()=>!0),e,n){const s=n&&n.reverse?this.entriesRight():this.entries();for(const[n,r]of s)if(t.call(e,r,n,this))return!0;return!1}reduce(t,e,n){let s=e;if(void 0===e){let e=!0;for(const[r,i]of this.entries())e?(e=!1,s=i):s=t.call(n,s,i,r,this)}else for(const[e,r]of this.entries())s=t.call(n,s,r,e,this);return s}reduceRight(t,e,n){let s=e;if(void 0===e){let e=!0;for(const[r,i]of this.entriesRight())e?(e=!1,s=i):s=t.call(n,s,i,r,this)}else for(const[e,r]of this.entriesRight())s=t.call(n,s,r,e,this);return s}*[Symbol.iterator](){yield*this.entries()}*entries(){yield*this.buckets}*entriesRight(){yield*this.buckets.entriesRight()}*keys(){yield*this.buckets.keys()}*values(){yield*this.buckets.values()}*keysRight(){yield*this.buckets.keysRight()}*valuesRight(){yield*this.buckets.valuesRight()}createContainer(t,e){return new Xe(this,t,e)}}class en extends tn{constructor(t){super(t),0===this.size&&(this.start=void 0,this.end=void 0)}clear(){return this.start=void 0,this.end=void 0,super.clear()}setLeft(t,e,n){const s=Ye(t,n);return s.addToStart=!0,this.buckets.set(t,e,s),this}emplaceLeft(t,e,n){const s=Ye(t,n);return s.addToStart=!0,this.buckets.emplace(t,e,s)}push(t,e,n){const s=Ye(t,n);return s.moveOnUpdate=!0,this.buckets.set(t,e,s),this}pushEmplace(t,e,n){const s=Ye(t,n);return s.moveOnUpdate=!0,this.buckets.emplace(t,e,s)}unshift(t,e,n){const s=Ye(t,n);return s.moveOnUpdate=!0,s.addToStart=!0,this.buckets.set(t,e,s),this}unshiftEmplace(t,e,n){const s=Ye(t,n);return s.moveOnUpdate=!0,s.addToStart=!0,this.buckets.emplace(t,e,s)}shift(){const t=this.start;if(t)return t.parent.deleteEntry(t),t.slice()}pop(){const t=this.end;if(t)return t.parent.deleteEntry(t),t.slice()}head(){const t=this.start;if(t)return t[1]}tail(){const t=this.end;if(t)return t[1]}optionalHead(){const t=this.start;return t?He(t[1]):Ke}optionalTail(){const t=this.end;return t?He(t[1]):Ke}headKey(){const t=this.start;if(t)return t[0]}tailKey(){const t=this.end;if(t)return t[0]}optionalHeadKey(){const t=this.start;return t?He(t[0]):Ke}optionalTailKey(){const t=this.end;return t?He(t[0]):Ke}reverse(){if(this.size>1){let t=this.start;do{const e=t.previous,n=t.next;t.previous=n,t.next=e,t=n}while(t);const e=this.start;this.start=this.end,this.end=e}return this}clone(){return new en(this)}*[Symbol.iterator](){yield*this.entries()}*entries(){let t=this.start;for(;t;)yield t.slice(),t=t.next}*entriesRight(){let t=this.end;for(;t;)yield t.slice(),t=t.previous}*keys(){let t=this.start;for(;t;)yield t[0],t=t.next}*values(){let t=this.start;for(;t;)yield t[1],t=t.next}*keysRight(){let t=this.end;for(;t;)yield t[0],t=t.previous}*valuesRight(){let t=this.end;for(;t;)yield t[1],t=t.previous}createContainer(t,e){return new nn(this,t,e)}}class nn extends Xe{constructor(t,e,n){super(t,e,n)}createEntry(t,e,n){const s=super.createEntry(t,e,n),r=this.map;return void 0===r.start?r.end=r.start=s:n.addToStart?(r.start.previous=s,s.next=r.start,r.start=s):(r.end.next=s,s.previous=r.end,r.end=s),s}updateEntry(t,e,n){super.updateEntry(t,e,n),n.moveOnUpdate&&(n.addToStart?t.previous&&(t.next&&(t.next.previous=t.previous),t.previous.next=t.next,t===this.map.end&&(this.map.end=t.previous),t.previous=void 0,this.map.start.previous=t,t.next=this.map.start,this.map.start=t):t.next&&(t.previous&&(t.previous.next=t.next),t.next.previous=t.previous,t===this.map.start&&(this.map.start=t.next),t.next=void 0,this.map.end.next=t,t.previous=this.map.end,this.map.end=t))}deleteIndex(t){const e=super.deleteIndex(t),n=this.map;e.previous?e.previous.next=e.next:n.start=e.next,e.next?e.next.previous=e.previous:n.end=e.previous}}const sn={HashMap:tn,LinkedHashMap:en,hash:Ve,isFunction:Me,isIterable:Ae,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},equalsAndHash:Ye,hashCodeFor:Ue,equalsFor:Be,some:He,none:Ke,Option:De};t.HashMap=tn,t.LinkedHashMap=en,t.Mootable=sn,t.default=en,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
