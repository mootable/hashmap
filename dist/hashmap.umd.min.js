!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var i,s,n=function(t){return t&&t.Math==Math&&t},o=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},h=function(t){try{return!!t()}catch(t){return!0}},c={}.toString,u=function(t){return c.call(t).slice(8,-1)},l="".split,f=h((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==u(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(p(t))},y=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=o.document,m=b(g)&&b(g.createElement),v=function(t){return m?g.createElement(t):{}},w=!y&&!h((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),S=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},k=function(t,e){if(!b(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!b(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!b(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!b(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")},x=Object.defineProperty,O={f:y?x:function(t,e,r){if(S(t),e=k(e,!0),S(r),w)try{return x(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=y?function(t,e,r){return O.f(t,e,E(1,r))}:function(t,e,r){return t[e]=r,t},j=function(t,e){try{A(o,t,e)}catch(r){o[t]=e}return e},T="__core-js_shared__",z=o[T]||j(T,{}),M=r((function(t){(t.exports=function(t,e){return z[t]||(z[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),G={}.hasOwnProperty,P=function(t,e){return G.call(t,e)},I=0,L=Math.random(),_=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++I+L).toString(36)},F="process"==u(o.process),C=o,N=function(t){return"function"==typeof t?t:void 0},R=function(t,e){return arguments.length<2?N(C[t])||N(o[t]):C[t]&&C[t][e]||o[t]&&o[t][e]},q=R("navigator","userAgent")||"",D=o.process,H=D&&D.versions,V=H&&H.v8;V?s=(i=V.split("."))[0]+i[1]:q&&(!(i=q.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=q.match(/Chrome\/(\d+)/))&&(s=i[1]);var K,W=s&&+s,B=!!Object.getOwnPropertySymbols&&!h((function(){return!Symbol.sham&&(F?38===W:W>37&&W<41)})),U=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=M("wks"),$=o.Symbol,X=U?$:$&&$.withoutSetter||_,J=function(t){return P(Y,t)&&(B||"string"==typeof Y[t])||(B&&P($,t)?Y[t]=$[t]:Y[t]=X("Symbol."+t)),Y[t]},Q=Math.ceil,Z=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?Z:Q)(t)},et=Math.min,rt=Math.max,it=Math.min,st=function(t){return function(e,r,i){var s,n,o=d(e),a=(s=o.length)>0?et(tt(s),9007199254740991):0,h=function(t,e){var r=tt(t);return r<0?rt(r+e,0):it(r,e)}(i,a);if(t&&r!=r){for(;a>h;)if((n=o[h++])!=n)return!0}else for(;a>h;h++)if((t||h in o)&&o[h]===r)return t||h||0;return!t&&-1}},nt={includes:st(!0),indexOf:st(!1)},ot={},at=nt.indexOf,ht=function(t,e){var r,i=d(t),s=0,n=[];for(r in i)!P(ot,r)&&P(i,r)&&n.push(r);for(;e.length>s;)P(i,r=e[s++])&&(~at(n,r)||n.push(r));return n},ct=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ut=Object.keys||function(t){return ht(t,ct)},lt=y?Object.defineProperties:function(t,e){S(t);for(var r,i=ut(e),s=i.length,n=0;s>n;)O.f(t,r=i[n++],e[r]);return t},ft=R("document","documentElement"),pt=M("keys"),dt=function(t){return pt[t]||(pt[t]=_(t))},yt=dt("IE_PROTO"),bt=function(){},gt=function(t){return"<script>"+t+"</"+"script>"},mt=function(){try{K=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;mt=K?function(t){t.write(gt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(K):((e=v("iframe")).style.display="none",ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(gt("document.F=Object")),t.close(),t.F);for(var r=ct.length;r--;)delete mt.prototype[ct[r]];return mt()};ot[yt]=!0;var vt=Object.create||function(t,e){var r;return null!==t?(bt.prototype=S(t),r=new bt,bt.prototype=null,r[yt]=t):r=mt(),void 0===e?r:lt(r,e)},wt=J("unscopables"),St=Array.prototype;null==St[wt]&&O.f(St,wt,{configurable:!0,value:vt(null)});var kt=function(t){St[wt][t]=!0},xt=Function.toString;"function"!=typeof z.inspectSource&&(z.inspectSource=function(t){return xt.call(t)});var Ot,Et,At,jt=z.inspectSource,Tt=o.WeakMap,zt="function"==typeof Tt&&/native code/.test(jt(Tt)),Mt=o.WeakMap;if(zt){var Gt=z.state||(z.state=new Mt),Pt=Gt.get,It=Gt.has,Lt=Gt.set;Ot=function(t,e){return e.facade=t,Lt.call(Gt,t,e),e},Et=function(t){return Pt.call(Gt,t)||{}},At=function(t){return It.call(Gt,t)}}else{var _t=dt("state");ot[_t]=!0,Ot=function(t,e){return e.facade=t,A(t,_t,e),e},Et=function(t){return P(t,_t)?t[_t]:{}},At=function(t){return P(t,_t)}}var Ft,Ct,Nt,Rt={set:Ot,get:Et,has:At,enforce:function(t){return At(t)?Et(t):Ot(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=Et(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},qt={}.propertyIsEnumerable,Dt=Object.getOwnPropertyDescriptor,Ht={f:Dt&&!qt.call({1:2},1)?function(t){var e=Dt(this,t);return!!e&&e.enumerable}:qt},Vt=Object.getOwnPropertyDescriptor,Kt={f:y?Vt:function(t,e){if(t=d(t),e=k(e,!0),w)try{return Vt(t,e)}catch(t){}if(P(t,e))return E(!Ht.f.call(t,e),t[e])}},Wt=r((function(t){var e=Rt.get,r=Rt.enforce,i=String(String).split("String");(t.exports=function(t,e,s,n){var a,h=!!n&&!!n.unsafe,c=!!n&&!!n.enumerable,u=!!n&&!!n.noTargetGet;"function"==typeof s&&("string"!=typeof e||P(s,"name")||A(s,"name",e),(a=r(s)).source||(a.source=i.join("string"==typeof e?e:""))),t!==o?(h?!u&&t[e]&&(c=!0):delete t[e],c?t[e]=s:A(t,e,s)):c?t[e]=s:j(e,s)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||jt(this)}))})),Bt=ct.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return ht(t,Bt)}},Yt={f:Object.getOwnPropertySymbols},$t=R("Reflect","ownKeys")||function(t){var e=Ut.f(S(t)),r=Yt.f;return r?e.concat(r(t)):e},Xt=function(t,e){for(var r=$t(e),i=O.f,s=Kt.f,n=0;n<r.length;n++){var o=r[n];P(t,o)||i(t,o,s(e,o))}},Jt=/#|\.prototype\./,Qt=function(t,e){var r=te[Zt(t)];return r==re||r!=ee&&("function"==typeof e?h(e):!!e)},Zt=Qt.normalize=function(t){return String(t).replace(Jt,".").toLowerCase()},te=Qt.data={},ee=Qt.NATIVE="N",re=Qt.POLYFILL="P",ie=Qt,se=Kt.f,ne=function(t,e){var r,i,s,n,a,h=t.target,c=t.global,u=t.stat;if(r=c?o:u?o[h]||j(h,{}):(o[h]||{}).prototype)for(i in e){if(n=e[i],s=t.noTargetGet?(a=se(r,i))&&a.value:r[i],!ie(c?i:h+(u?".":"#")+i,t.forced)&&void 0!==s){if(typeof n==typeof s)continue;Xt(n,s)}(t.sham||s&&s.sham)&&A(n,"sham",!0),Wt(r,i,n,t)}},oe=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ae=dt("IE_PROTO"),he=Object.prototype,ce=oe?Object.getPrototypeOf:function(t){return t=Object(p(t)),P(t,ae)?t[ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?he:null},ue=J("iterator"),le=!1;[].keys&&("next"in(Nt=[].keys())?(Ct=ce(ce(Nt)))!==Object.prototype&&(Ft=Ct):le=!0),(null==Ft||h((function(){var t={};return Ft[ue].call(t)!==t})))&&(Ft={}),P(Ft,ue)||A(Ft,ue,(function(){return this}));var fe={IteratorPrototype:Ft,BUGGY_SAFARI_ITERATORS:le},pe=O.f,de=J("toStringTag"),ye=function(t,e,r){t&&!P(t=r?t:t.prototype,de)&&pe(t,de,{configurable:!0,value:e})},be=fe.IteratorPrototype,ge=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return S(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(i),e?t.call(r,i):r.__proto__=i,r}}():void 0),me=fe.IteratorPrototype,ve=fe.BUGGY_SAFARI_ITERATORS,we=J("iterator"),Se="keys",ke="values",xe="entries",Oe=function(){return this},Ee="Array Iterator",Ae=Rt.set,je=Rt.getterFor(Ee),Te=function(t,e,r,i,s,n,o){!function(t,e,r){var i=e+" Iterator";t.prototype=vt(be,{next:E(1,r)}),ye(t,i,!1)}(r,e,i);var a,h,c,u=function(t){if(t===s&&y)return y;if(!ve&&t in p)return p[t];switch(t){case Se:case ke:case xe:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",f=!1,p=t.prototype,d=p[we]||p["@@iterator"]||s&&p[s],y=!ve&&d||u(s),b="Array"==e&&p.entries||d;if(b&&(a=ce(b.call(new t)),me!==Object.prototype&&a.next&&(ce(a)!==me&&(ge?ge(a,me):"function"!=typeof a[we]&&A(a,we,Oe)),ye(a,l,!0))),s==ke&&d&&d.name!==ke&&(f=!0,y=function(){return d.call(this)}),p[we]!==y&&A(p,we,y),s)if(h={values:u(ke),keys:n?y:u(Se),entries:u(xe)},o)for(c in h)(ve||f||!(c in p))&&Wt(p,c,h[c]);else ne({target:e,proto:!0,forced:ve||f},h);return h}(Array,"Array",(function(t,e){Ae(this,{type:Ee,target:d(t),index:0,kind:e})}),(function(){var t=je(this),e=t.target,r=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:i,done:!1}:"values"==r?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");kt("keys"),kt("values"),kt("entries");var ze=J("iterator"),Me=J("toStringTag"),Ge=Te.values;for(var Pe in a){var Ie=o[Pe],Le=Ie&&Ie.prototype;if(Le){if(Le[ze]!==Ge)try{A(Le,ze,Ge)}catch(t){Le[ze]=Ge}if(Le[Me]||A(Le,Me,Pe),a[Pe])for(var _e in Te)if(Le[_e]!==Te[_e])try{A(Le,_e,Te[_e])}catch(t){Le[_e]=Te[_e]}}}var Fe=O.f,Ce=o.Symbol;if(y&&"function"==typeof Ce&&(!("description"in Ce.prototype)||void 0!==Ce().description)){var Ne={},Re=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Re?new Ce(t):void 0===t?Ce():Ce(t);return""===t&&(Ne[e]=!0),e};Xt(Re,Ce);var qe=Re.prototype=Ce.prototype;qe.constructor=Re;var De=qe.toString,He="Symbol(test)"==String(Ce("test")),Ve=/^Symbol\((.*)\)[^)]+$/;Fe(qe,"description",{configurable:!0,get:function(){var t=b(this)?this.valueOf():this,e=De.call(t);if(P(Ne,t))return"";var r=He?e.slice(7,-1):e.replace(Ve,"$1");return""===r?void 0:r}}),ne({global:!0,forced:!0},{Symbol:Re})}function Ke(t){return!!(t&&t.constructor&&t.call&&t.apply)}function We(t){return!(!t||!Ke(t[Symbol.iterator]))}function Be(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}class Ue{constructor(t,e){this.has=t,this.value=e,Object.freeze(this)}static get none(){return $e}get size(){return this.has?1:0}static some(t){return Ye(t)}*[Symbol.iterator](){this.has&&(yield this.value)}}const Ye=t=>new Ue(!0,t),$e=new Ue(!1,void 0);function Xe(t,e=0,r=0){const i=1&(e=e&&e>0?Math.min(e,t.length):t.length),s=e-i;let n=r|=0,o=0,a=0;for(;a<s;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353*o|0,o=o<<15|o>>>17,o*=461845907,n^=o,n=n<<13|n>>>19,n=5*n+3864292196;return i&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,n^=o),n^=e,n^=n>>>16,n*=2246822507,n^=n>>>13,n*=3266489909,n^=n>>>16,0|n}function Je(t){switch(typeof t){case"undefined":return 0;case"boolean":return t?1:0;case"string":return Xe(t);case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?0|t:Xe(t.toString()):0;case"bigint":case"symbol":case"function":return Xe(t.toString());case"object":default:{if(null===t)return 0;if(t.hashCode)return Ke(t.hashCode)?Je(t.hashCode(t)):Je(t.hashCode);if(t instanceof Date)return t.getTime();if(t instanceof RegExp)return Xe(t.toString());if(t instanceof Ue)return t.has?31*Je(t.value):0;if(t.hasOwnProperty("_mootable_hashCode"))return Je(t._mootable_hashCode);const e=Qe++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),e}}}let Qe=0;function Ze(t){if(t&&"object"==typeof t){if(t instanceof RegExp)return(t,e)=>e instanceof RegExp&&t.toString()===e.toString();if(t instanceof Date)return(t,e)=>e instanceof Date&&t.getTime()===e.getTime();if(t instanceof Ue){if(t.has){const e=Ze(t.value);return(t,r)=>!!r.has&&e(r.value,t.value)}return(t,e)=>!e.has}if(Ke(t.equals)&&t.equals(t,t))return(t,e)=>t.equals(e,t)}return Be}function tr(t,e,r){return Ke(e)&&e(t,t)||(e=Ze(t)),Number.isSafeInteger(r)||(r=Je(t)),{hash:r,equals:e}}class er{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof er?t:new sr(t)}filter(t=(()=>!0),e=this){return new nr(this,t,e)}forEach(t=(()=>{}),e=this){for(const[r,i]of this)t.call(e,i,r,this);return this}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Ke(t.set))for(const[e,r]of this)t.set(e,r);else if(Ke(t.add))for(const e of this)t.add(e);else for(const[e,r]of this)t[e]=r;return t}every(t=(()=>!0),e=this){for(const[r,i]of this)if(!t.call(e,i,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const[r,i]of this)if(t.call(e,i,r,this))return!0;return!1}find(t=(()=>!0),e=this){for(const[r,i]of this)if(t.call(e,i,r,this))return i}findIndex(t=((t,e)=>e),e=this){for(const[r,i]of this)if(t.call(e,i,r,this))return r}indexOf(t,e=Ze(t)){for(const[r,i]of this)if(e(t,i))return r}has(t,e=Ze(t)){return this.some(((r,i)=>e(i,t)))}get(t,e=Ze(t)){return this.find(((r,i)=>e(t,i)))}optionalGet(t,e=Ze(t)){let r=!1;const i=this.find(((i,s)=>!!e(t,s)&&(r=!0,!0)));return r?Ye(i):$e}reduce(t=((t,e)=>e),e,r=this){let i=e;for(const[e,s]of this)i=t.call(r,i,s,e,this);return i}mapKeys(t=((t,e)=>e),e=this){return new or(this,t,e)}mapValues(t=(t=>t),e=this){return new ar(this,t,e)}mapEntries(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t)){if(1===t.length&&Ke(t[0]))return this.mapKeys(t[0],e);if(t.length>1){if(Ke(t[0])){if(Ke(t[1])){return new hr(this,((r,i,s)=>[t[0].call(e,r,i,s),t[1].call(e,r,i,s)]),this)}return this.mapKeys(t[0],e)}if(Ke(t[1]))return this.mapValues(t[1],e)}}else if(Ke(t))return new hr(this,t,e);throw new TypeError("MapIterable.mapEntries expects a function or an array of functions")}map(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t))return this.mapEntries(t,e);if(Ke(t))return new pr(this,t,e);throw new TypeError("MapIterable.map expects a function or an array of functions")}concat(t){return t?t instanceof er||t instanceof Map?this.concatMap(t):new ur(this,rr.from(t)):this}concatMap(t){return t?new cr(this,er.from(t)):this}keys(){return new fr(this)}values(){return new lr(this)}entries(){return this}}class rr{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof rr?t:new ir(t)}filter(t=(()=>!0),e=this){return new yr(this,t,e)}forEach(t=(()=>{}),e=this){for(const r of this)t.call(e,r,r,this)}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Ke(t.add))for(const e of this)t.add(e);else if(Ke(t.set))for(const e of this)t.set(e);return t}reduce(t=((t,e)=>e),e,r=this){let i=e;for(const e of this)i=t.call(r,i,e,e,this);return i}every(t=(()=>!0),e=this){for(const r of this)if(!t.call(e,r,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,this))return!0;return!1}has(t,e=Ze(t)){return this.some((r=>e(r,t)))}find(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,r,this))return r}map(t=(t=>t),e=this){return new dr(this,t,e)}concat(t=[]){return new ur(this,rr.from(t))}values(){return this}keys(){return this}entries(){return er.from(this.map((t=>[t,t])))}}class ir extends rr{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}has(t,e=Ze(t)){return this.iterable instanceof Set||this.iterable instanceof rr?this.iterable.has(t,e):super.has(t,e)}*[Symbol.iterator](){yield*this.iterable}}class sr extends er{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}*[Symbol.iterator](){yield*this.iterable}has(t){return this.optionalGet(t).has}optionalGet(t){return Ke(this.iterable.optionalGet)?this.iterable.optionalGet(t):Ke(this.iterable.has)?this.iterable.has(t)?(Ke(this.iterable.get)&&Ye(this.iterable.get(t)),Ye(super.get(t))):$e:super.optionalGet(t)}get(t){return this.optionalGet(t).value}}class nr extends sr{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let[t,e]of this.iterable)this.filterPredicate.call(this.ctx,e,t,this)&&(yield[t,e])}optionalGet(t){const e=super.optionalGet(t);return e.has&&!this.filterPredicate.call(this.ctx,e.value,t,this)?$e:e}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class or extends sr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[this.mapFunction.call(this.ctx,e,t,this),e]}}class ar extends sr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[t,this.mapFunction.call(this.ctx,e,t,this)]}optionalGet(t){const e=super.optionalGet(t);return e.has?Ye(this.mapFunction.call(this.ctx,e.value,t,this)):e}}class hr extends sr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable){const[r,i]=this.mapFunction.call(this.ctx,e,t,this);yield[r,i]}}get(t){if(this.iterable.has(t)){const e=this.iterable.get(t);return this.mapFunction.call(this.ctx,e,t,this)[1]}}}class cr extends er{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}optionalGet(t){const e=this.iterable.optionalGet(t);return e.has?e:this.otherIterable.optionalGet(t)}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class ur extends rr{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}has(t,e=Ze(t)){return this.iterable.has(t,e)||this.otherIterable.has(t,e)}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}}class lr extends ir{constructor(t){super(t)}*[Symbol.iterator](){for(let[,t]of this.iterable)yield t}has(t,e=Ze(t)){return Array.isArray(t),this.iterable.some((r=>e(t,r)))}}class fr extends ir{constructor(t){super(t)}*[Symbol.iterator](){for(let[t]of this.iterable)yield t}has(t){return this.iterable.optionalGet(t).has}}class pr extends ir{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield this.mapFunction.call(this.ctx,e,t,this)}has(t,e=Ze(t)){return this.some((r=>e(t,r)))}}class dr extends ir{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let t of this.iterable)yield this.mapFunction.call(this.ctx,t,t,this)}has(t,e=Ze(t)){return this.some((r=>e(t,r)))}}class yr extends ir{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let t of this.iterable)this.filterPredicate.call(this.ctx,t,t,this)&&(yield t)}has(t,e=Ze(t)){return!!this.iterable.has(t,e)&&this.filterPredicate.call(this.ctx,t,t,this)}}class br{constructor(t,e){this.key=t,this.value=e}overwrite(t){t.value=this.value}delete(){}}class gr{constructor(t){this.entry=t,this.size=1}get key(){return this.entry.key}get value(){return this.entry.value}get(t,e){if(e(t,this.key))return this.entry.value}optionalGet(t,e){return e(t,this.key)?Ye(this.entry.value):$e}set(t,e){return e(t.key,this.key)?(t.overwrite(this.entry),this):new mr(t,this)}has(t,e){return e(t,this.key)}delete(t,e){if(!e(t,this.key))return this;this.entry.delete()}*[Symbol.iterator](){0!==this.size&&(yield[this.key,this.value])}}class mr{constructor(t,e){this.contents=[t,e]}get size(){return this.contents.length}get(t,e){for(const r of this.contents)if(e(t,r.key))return r.value}optionalGet(t,e){for(const r of this.contents)if(e(t,r.key))return Ye(r.value);return $e}set(t,e){for(const r of this.contents)if(e(t.key,r.key))return t.overwrite(r),this;return this.contents.push(t),this}has(t,e){for(const r of this.contents)if(e(t,r.key))return!0;return!1}delete(t,e){const r=r=>e(t,r.key);if(2===this.contents.length){const t=this.contents.find(r);if(t)return new gr(t)}else{const r=this.contents.findIndex((r=>e(t,r.key)));r>=0&&(this.contents=this.contents.splice(r,1))}return this}*[Symbol.iterator](){for(const t of this.contents)yield[t.key,t.value]}}class vr extends er{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6}){super();let{depth:e,widthAs2sExponent:r,copy:i}=t;r=Math.max(1,Math.min(16,r));const s=(32/r>>0)-1;e=Math.max(0,Math.min(e&&e>0?e-1:s,s));const n=1<<r,o=n-1;this.options=Object.freeze({widthAs2sExponent:r,width:n,mask:o,depth:e}),this.clear(),(t.forEach||i&&i.forEach)&&this.copy(t.forEach?t:i)}get size(){return this.length}has(t,e=tr(t)){return!!this.buckets&&this.buckets.has(t,e.equals,e.hash)}get(t,e=tr(t)){if(this.buckets)return this.buckets.get(t,e.equals,e.hash)}optionalGet(t,e=tr(t)){return this.buckets?this.buckets.optionalGet(t,e.equals,e.hash):$e}set(t,e,r=tr(t)){return this.addEntry(new br(t,e),r),this}addEntry(t,e){return this.buckets?(this.buckets=this.buckets.set(t,e.equals,e.hash),this.length=this.buckets.size):(this.buckets=new wr(t,e.hash,Object.assign({},this.options),this.options.depth),this.length=1),t}copy(t){const e=this;if(We(t)){for(const[r,i]of t)e.set(r,i);return this}if(Ke(t.entries)){for(const[r,i]of t.entries())e.set(r,i);return this}if(Ke(t.forEach))return t.forEach((function(t,r){e.set(r,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable or has a forEach function on it")}clone(){return new vr({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}delete(t,e=tr(t)){return this.buckets&&(this.buckets=this.buckets.delete(t,e.equals,e.hash),this.buckets?this.length=this.buckets.size:this.length=0),this}clear(){return this.buckets=void 0,this.length=0,this}*[Symbol.iterator](){if(this.buckets)for(const t of this.buckets)yield t}}class wr extends gr{constructor(t,e,r,i){super(t),this.hash=e,this.options=r,this.depth=i}set(t,e,r){if(r===this.hash&&e(t.key,this.key))return t.overwrite(this.entry),this;const i=new Sr(this.options,this.depth);return i.prefill(this.entry,this.hash,t,r),i}get(t,e,r){if(r===this.hash&&e(t,this.key))return this.value}optionalGet(t,e,r){return r===this.hash&&e(t,this.key)?Ye(this.value):$e}has(t,e,r){return r===this.hash&&e(t,this.key)}delete(t,e,r){if(r!==this.hash||!e(t,this.key))return this;this.entry.delete()}}class Sr{constructor(t,e){this.options=t,this.size=0,this.depth=e,this.buckets=new Array(this.options.width)}get(t,e,r){const i=this.buckets[r&this.options.mask];if(i)return i.get(t,e,r>>>this.options.widthAs2sExponent)}optionalGet(t,e,r){const i=this.buckets[r&this.options.mask];return i?i.optionalGet(t,e,r>>>this.options.widthAs2sExponent):$e}prefill(t,e,r,i){const s=e&this.options.mask,n=i&this.options.mask;if(s===n)if(this.depth){const n=new Sr(this.options,this.depth-1);this.buckets[s]=n,n.prefill(t,e>>>this.options.widthAs2sExponent,r,i>>>this.options.widthAs2sExponent)}else this.buckets[s]=new mr(t,r);else this.depth?(this.buckets[s]=new wr(t,e>>>this.options.widthAs2sExponent,this.options,this.depth-1),this.buckets[n]=new wr(r,i>>>this.options.widthAs2sExponent,this.options,this.depth-1)):(this.buckets[s]=new gr(t),this.buckets[n]=new gr(r));this.size+=2}set(t,e,r){const i=r&this.options.mask,s=this.buckets[i];if(s){const n=s.size;this.buckets[i]=s.set(t,e,r>>>this.options.widthAs2sExponent),this.buckets[i].size!==n&&this.size++}else this.depth?(this.buckets[i]=new wr(t,r>>>this.options.widthAs2sExponent,this.options,this.depth-1),this.size++):(this.buckets[i]=new gr(t),this.size++);return this}has(t,e,r){const i=this.buckets[r&this.options.mask];return!!i&&i.has(t,e,r>>>this.options.widthAs2sExponent)}delete(t,e,r){const i=r&this.options.mask;let s=this.buckets[i];return s&&(s=s.delete(t,e,r>>>this.options.widthAs2sExponent),s&&0!==s.size||(this.buckets[i]=void 0,this.size--)),this}*[Symbol.iterator](){for(const t of this.buckets)if(t)for(const e of t)yield e}}class kr extends br{constructor(t,e){super(t,e),this.previous=void 0,this.next=void 0}overwrite(t){t.value=this.value,this.deleted=!0}delete(){this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous),this.deleted=!0}}class xr extends vr{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6}){super(t),this.start=void 0,this.end=void 0}set(t,e,r=tr(t)){const i=this.addEntry(new kr(t,e),r);return this.end?i.deleted||(this.end.next=i,i.previous=this.end,this.end=i):this.end=this.start=i,this}delete(t,e=tr(t)){return super.delete(t,e),this.start&&this.start.deleted&&(this.start=this.start.next),this.end&&this.end.deleted&&(this.end=this.end.previous),this}clone(){return new xr({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}*[Symbol.iterator](){let t=this.start;for(;t;)yield[t.key,t.value],t=t.next}}const Or={HashMap:vr,LinkedHashMap:xr,MapIterable:er,SetIterable:rr,Utils:{hash:Xe,isFunction:Ke,isIterable:We,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},equalsAndHash:tr,hashCodeFor:Je,equalsFor:Ze,some:Ye,none:$e,Option:Ue}};t.HashMap=vr,t.LinkedHashMap=xr,t.Mootable=Or,t.default=vr,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
