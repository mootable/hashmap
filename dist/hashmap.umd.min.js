!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var n,i,s=function(t){return t&&t.Math==Math&&t},o=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},c=function(t){try{return!!t()}catch(t){return!0}},h={}.toString,u=function(t){return h.call(t).slice(8,-1)},l="".split,f=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==u(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(p(t))},y=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=o.document,g=b(m)&&b(m.createElement),v=function(t){return g?m.createElement(t):{}},w=!y&&!c((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),S=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},x=function(t,e){if(!b(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!b(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},E=Object.defineProperty,O={f:y?E:function(t,e,r){if(S(t),e=x(e,!0),S(r),w)try{return E(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},k=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=y?function(t,e,r){return O.f(t,e,k(1,r))}:function(t,e,r){return t[e]=r,t},z=function(t,e){try{A(o,t,e)}catch(r){o[t]=e}return e},j="__core-js_shared__",T=o[j]||z(j,{}),M=r((function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),P={}.hasOwnProperty,I=function(t,e){return P.call(t,e)},G=0,L=Math.random(),_=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+L).toString(36)},F="process"==u(o.process),C=o,N=function(t){return"function"==typeof t?t:void 0},R=function(t,e){return arguments.length<2?N(C[t])||N(o[t]):C[t]&&C[t][e]||o[t]&&o[t][e]},D=R("navigator","userAgent")||"",q=o.process,H=q&&q.versions,V=H&&H.v8;V?i=(n=V.split("."))[0]+n[1]:D&&(!(n=D.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=D.match(/Chrome\/(\d+)/))&&(i=n[1]);var K,W=i&&+i,B=!!Object.getOwnPropertySymbols&&!c((function(){return!Symbol.sham&&(F?38===W:W>37&&W<41)})),U=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=M("wks"),X=o.Symbol,J=U?X:X&&X.withoutSetter||_,Q=function(t){return I(Y,t)&&(B||"string"==typeof Y[t])||(B&&I(X,t)?Y[t]=X[t]:Y[t]=J("Symbol."+t)),Y[t]},Z=Math.ceil,$=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?$:Z)(t)},et=Math.min,rt=Math.max,nt=Math.min,it=function(t){return function(e,r,n){var i,s,o=d(e),a=(i=o.length)>0?et(tt(i),9007199254740991):0,c=function(t,e){var r=tt(t);return r<0?rt(r+e,0):nt(r,e)}(n,a);if(t&&r!=r){for(;a>c;)if((s=o[c++])!=s)return!0}else for(;a>c;c++)if((t||c in o)&&o[c]===r)return t||c||0;return!t&&-1}},st={includes:it(!0),indexOf:it(!1)},ot={},at=st.indexOf,ct=function(t,e){var r,n=d(t),i=0,s=[];for(r in n)!I(ot,r)&&I(n,r)&&s.push(r);for(;e.length>i;)I(n,r=e[i++])&&(~at(s,r)||s.push(r));return s},ht=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ut=Object.keys||function(t){return ct(t,ht)},lt=y?Object.defineProperties:function(t,e){S(t);for(var r,n=ut(e),i=n.length,s=0;i>s;)O.f(t,r=n[s++],e[r]);return t},ft=R("document","documentElement"),pt=M("keys"),dt=function(t){return pt[t]||(pt[t]=_(t))},yt=dt("IE_PROTO"),bt=function(){},mt=function(t){return"<script>"+t+"</"+"script>"},gt=function(){try{K=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;gt=K?function(t){t.write(mt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(K):((e=v("iframe")).style.display="none",ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(mt("document.F=Object")),t.close(),t.F);for(var r=ht.length;r--;)delete gt.prototype[ht[r]];return gt()};ot[yt]=!0;var vt=Object.create||function(t,e){var r;return null!==t?(bt.prototype=S(t),r=new bt,bt.prototype=null,r[yt]=t):r=gt(),void 0===e?r:lt(r,e)},wt=Q("unscopables"),St=Array.prototype;null==St[wt]&&O.f(St,wt,{configurable:!0,value:vt(null)});var xt=function(t){St[wt][t]=!0},Et=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(t){return Et.call(t)});var Ot,kt,At,zt=T.inspectSource,jt=o.WeakMap,Tt="function"==typeof jt&&/native code/.test(zt(jt)),Mt=o.WeakMap;if(Tt){var Pt=T.state||(T.state=new Mt),It=Pt.get,Gt=Pt.has,Lt=Pt.set;Ot=function(t,e){return e.facade=t,Lt.call(Pt,t,e),e},kt=function(t){return It.call(Pt,t)||{}},At=function(t){return Gt.call(Pt,t)}}else{var _t=dt("state");ot[_t]=!0,Ot=function(t,e){return e.facade=t,A(t,_t,e),e},kt=function(t){return I(t,_t)?t[_t]:{}},At=function(t){return I(t,_t)}}var Ft,Ct,Nt,Rt={set:Ot,get:kt,has:At,enforce:function(t){return At(t)?kt(t):Ot(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=kt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},Dt={}.propertyIsEnumerable,qt=Object.getOwnPropertyDescriptor,Ht={f:qt&&!Dt.call({1:2},1)?function(t){var e=qt(this,t);return!!e&&e.enumerable}:Dt},Vt=Object.getOwnPropertyDescriptor,Kt={f:y?Vt:function(t,e){if(t=d(t),e=x(e,!0),w)try{return Vt(t,e)}catch(t){}if(I(t,e))return k(!Ht.f.call(t,e),t[e])}},Wt=r((function(t){var e=Rt.get,r=Rt.enforce,n=String(String).split("String");(t.exports=function(t,e,i,s){var a,c=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,u=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof e||I(i,"name")||A(i,"name",e),(a=r(i)).source||(a.source=n.join("string"==typeof e?e:""))),t!==o?(c?!u&&t[e]&&(h=!0):delete t[e],h?t[e]=i:A(t,e,i)):h?t[e]=i:z(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||zt(this)}))})),Bt=ht.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return ct(t,Bt)}},Yt={f:Object.getOwnPropertySymbols},Xt=R("Reflect","ownKeys")||function(t){var e=Ut.f(S(t)),r=Yt.f;return r?e.concat(r(t)):e},Jt=function(t,e){for(var r=Xt(e),n=O.f,i=Kt.f,s=0;s<r.length;s++){var o=r[s];I(t,o)||n(t,o,i(e,o))}},Qt=/#|\.prototype\./,Zt=function(t,e){var r=te[$t(t)];return r==re||r!=ee&&("function"==typeof e?c(e):!!e)},$t=Zt.normalize=function(t){return String(t).replace(Qt,".").toLowerCase()},te=Zt.data={},ee=Zt.NATIVE="N",re=Zt.POLYFILL="P",ne=Zt,ie=Kt.f,se=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),oe=dt("IE_PROTO"),ae=Object.prototype,ce=se?Object.getPrototypeOf:function(t){return t=Object(p(t)),I(t,oe)?t[oe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ae:null},he=Q("iterator"),ue=!1;[].keys&&("next"in(Nt=[].keys())?(Ct=ce(ce(Nt)))!==Object.prototype&&(Ft=Ct):ue=!0),(null==Ft||c((function(){var t={};return Ft[he].call(t)!==t})))&&(Ft={}),I(Ft,he)||A(Ft,he,(function(){return this}));var le={IteratorPrototype:Ft,BUGGY_SAFARI_ITERATORS:ue},fe=O.f,pe=Q("toStringTag"),de=function(t,e,r){t&&!I(t=r?t:t.prototype,pe)&&fe(t,pe,{configurable:!0,value:e})},ye=le.IteratorPrototype,be=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return S(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),me=le.IteratorPrototype,ge=le.BUGGY_SAFARI_ITERATORS,ve=Q("iterator"),we="keys",Se="values",xe="entries",Ee=function(){return this},Oe="Array Iterator",ke=Rt.set,Ae=Rt.getterFor(Oe),ze=function(t,e,r,n,i,s,a){!function(t,e,r){var n=e+" Iterator";t.prototype=vt(ye,{next:k(1,r)}),de(t,n,!1)}(r,e,n);var c,h,u,l=function(t){if(t===i&&b)return b;if(!ge&&t in d)return d[t];switch(t){case we:case Se:case xe:return function(){return new r(this,t)}}return function(){return new r(this)}},f=e+" Iterator",p=!1,d=t.prototype,y=d[ve]||d["@@iterator"]||i&&d[i],b=!ge&&y||l(i),m="Array"==e&&d.entries||y;if(m&&(c=ce(m.call(new t)),me!==Object.prototype&&c.next&&(ce(c)!==me&&(be?be(c,me):"function"!=typeof c[ve]&&A(c,ve,Ee)),de(c,f,!0))),i==Se&&y&&y.name!==Se&&(p=!0,b=function(){return y.call(this)}),d[ve]!==b&&A(d,ve,b),i)if(h={values:l(Se),keys:s?b:l(we),entries:l(xe)},a)for(u in h)(ge||p||!(u in d))&&Wt(d,u,h[u]);else!function(t,e){var r,n,i,s,a,c=t.target,h=t.global,u=t.stat;if(r=h?o:u?o[c]||z(c,{}):(o[c]||{}).prototype)for(n in e){if(s=e[n],i=t.noTargetGet?(a=ie(r,n))&&a.value:r[n],!ne(h?n:c+(u?".":"#")+n,t.forced)&&void 0!==i){if(typeof s==typeof i)continue;Jt(s,i)}(t.sham||i&&i.sham)&&A(s,"sham",!0),Wt(r,n,s,t)}}({target:e,proto:!0,forced:ge||p},h);return h}(Array,"Array",(function(t,e){ke(this,{type:Oe,target:d(t),index:0,kind:e})}),(function(){var t=Ae(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");xt("keys"),xt("values"),xt("entries");var je=Q("iterator"),Te=Q("toStringTag"),Me=ze.values;for(var Pe in a){var Ie=o[Pe],Ge=Ie&&Ie.prototype;if(Ge){if(Ge[je]!==Me)try{A(Ge,je,Me)}catch(t){Ge[je]=Me}if(Ge[Te]||A(Ge,Te,Pe),a[Pe])for(var Le in ze)if(Ge[Le]!==ze[Le])try{A(Ge,Le,ze[Le])}catch(t){Ge[Le]=ze[Le]}}}function _e(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Fe(t){return!(!t||!_e(t[Symbol.iterator]))}function Ce(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}class Ne{constructor(t,e){this.has=t,this.value=e,Object.freeze(this)}static get none(){return De}get size(){return this.has?1:0}static some(t){return Re(t)}*[Symbol.iterator](){this.has&&(yield this.value)}}const Re=t=>new Ne(!0,t),De=new Ne(!1,void 0);function qe(t,e=0,r=0){const n=1&(e=e>0?Math.min(e,t.length):t.length),i=e-n;let s=r|=0,o=0,a=0;for(;a<i;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353,o=o<<15|o>>>17,o*=461845907,s^=o,s=s<<13|s>>>19,s*=5,s+=3864292196;return n&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,s^=o),s^=e,s^=s>>>16,s*=2246822507,s^=s>>>13,s*=3266489909,s^=s>>>16,0|s}function He(t){switch(typeof t){case"undefined":return 0;case"boolean":return t?1:0;case"string":return qe(t);case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?0|t:qe(t.toString()):0;case"bigint":case"symbol":case"function":return qe(t.toString());case"object":default:{if(null===t)return 0;if(t.hashCode)return _e(t.hashCode)?He(t.hashCode(t)):He(t.hashCode);if(t instanceof Date)return t.getTime();if(t instanceof RegExp)return qe(t.toString());if(t instanceof Ne)return t.has?31*He(t.value):0;if(t.hasOwnProperty("_mootable_hashCode"))return He(t._mootable_hashCode);const e=Ve++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),e}}}let Ve=0;function Ke(t){if(t&&"object"==typeof t){if(t instanceof RegExp)return(t,e)=>e instanceof RegExp&&t.toString()===e.toString();if(t instanceof Date)return(t,e)=>e instanceof Date&&t.getTime()===e.getTime();if(t instanceof Ne){if(t.has){const e=Ke(t.value);return(t,r)=>!!r.has&&e(r.value,t.value)}return(t,e)=>!e.has}if(_e(t.equals)&&t.equals(t,t))return(t,e)=>t.equals(e,t)}return Ce}class We{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof We?t:new Ye(t)}filter(t=(()=>!0),e=this){return new Xe(this,t,e)}forEach(t=(()=>{}),e=this){for(const[r,n]of this)t.call(e,n,r,this);return this}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(_e(t.set))for(const[e,r]of this)t.set(e,r);else if(_e(t.add))for(const e of this)t.add(e);else for(const[e,r]of this)t[e]=r;return t}every(t=(()=>!0),e=this){for(const[r,n]of this)if(!t.call(e,n,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return!0;return!1}find(t=(()=>!0),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return n}findIndex(t=((t,e)=>e),e=this){for(const[r,n]of this)if(t.call(e,n,r,this))return r}indexOf(t,e=Ke(t)){for(const[r,n]of this)if(e(t,n))return r}has(t,e=Ke(t)){return this.some(((r,n)=>e(n,t)))}get(t,e=Ke(t)){return this.find(((r,n)=>e(t,n)))}optionalGet(t,e=Ke(t)){let r=!1;const n=this.find(((n,i)=>!!e(t,i)&&(r=!0,!0)));return r?Re(n):De}reduce(t=((t,e)=>e),e,r=this){let n=e;for(const[e,i]of this)n=t.call(r,n,i,e,this);return n}mapKeys(t=((t,e)=>e),e=this){return new Je(this,t,e)}mapValues(t=(t=>t),e=this){return new Qe(this,t,e)}mapEntries(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t)){if(1===t.length&&_e(t[0]))return this.mapKeys(t[0],e);if(t.length>1){if(_e(t[0])){if(_e(t[1])){return new Ze(this,((r,n,i)=>[t[0].call(e,r,n,i),t[1].call(e,r,n,i)]),this)}return this.mapKeys(t[0],e)}if(_e(t[1]))return this.mapValues(t[1],e)}}else if(_e(t))return new Ze(this,t,e);throw new TypeError("MapIterable.mapEntries expects a function or an array of functions")}map(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t))return this.mapEntries(t,e);if(_e(t))return new nr(this,t,e);throw new TypeError("MapIterable.map expects a function or an array of functions")}concat(t){return t?t instanceof We||t instanceof Map?this.concatMap(t):new tr(this,Be.from(t)):this}concatMap(t){return t?new $e(this,We.from(t)):this}keys(){return new rr(this)}values(){return new er(this)}entries(){return this}}class Be{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof Be?t:new Ue(t)}filter(t=(()=>!0),e=this){return new sr(this,t,e)}forEach(t=(()=>{}),e=this){for(const r of this)t.call(e,r,r,this)}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(_e(t.add))for(const e of this)t.add(e);else if(_e(t.set))for(const e of this)t.set(e);return t}reduce(t=((t,e)=>e),e,r=this){let n=e;for(const e of this)n=t.call(r,n,e,e,this);return n}every(t=(()=>!0),e=this){for(const r of this)if(!t.call(e,r,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,this))return!0;return!1}has(t,e=Ke(t)){return this.some((r=>e(r,t)))}find(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,r,this))return r}map(t=(t=>t),e=this){return new ir(this,t,e)}concat(t=[]){return new tr(this,Be.from(t))}values(){return this}keys(){return this}entries(){return We.from(this.map((t=>[t,t])))}}class Ue extends Be{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}has(t,e=Ke(t)){return this.iterable instanceof Set||this.iterable instanceof Be?this.iterable.has(t,e):super.has(t,e)}*[Symbol.iterator](){yield*this.iterable}}class Ye extends We{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}*[Symbol.iterator](){yield*this.iterable}has(t){return this.optionalGet(t).has}optionalGet(t){return _e(this.iterable.optionalGet)?this.iterable.optionalGet(t):_e(this.iterable.has)?this.iterable.has(t)?(_e(this.iterable.get)&&Re(this.iterable.get(t)),Re(super.get(t))):De:super.optionalGet(t)}get(t){return this.optionalGet(t).value}}class Xe extends Ye{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let[t,e]of this.iterable)this.filterPredicate.call(this.ctx,e,t,this)&&(yield[t,e])}optionalGet(t){const e=super.optionalGet(t);return e.has&&!this.filterPredicate.call(this.ctx,e.value,t,this)?De:e}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class Je extends Ye{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[this.mapFunction.call(this.ctx,e,t,this),e]}}class Qe extends Ye{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[t,this.mapFunction.call(this.ctx,e,t,this)]}optionalGet(t){const e=super.optionalGet(t);return e.has?Re(this.mapFunction.call(this.ctx,e.value,t,this)):e}}class Ze extends Ye{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable){const[r,n]=this.mapFunction.call(this.ctx,e,t,this);yield[r,n]}}get(t){if(this.iterable.has(t)){const e=this.iterable.get(t);return this.mapFunction.call(this.ctx,e,t,this)[1]}}}class $e extends We{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}optionalGet(t){const e=this.iterable.optionalGet(t);return e.has?e:this.otherIterable.optionalGet(t)}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class tr extends Be{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}has(t,e=Ke(t)){return this.iterable.has(t,e)||this.otherIterable.has(t,e)}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}}class er extends Ue{constructor(t){super(t)}*[Symbol.iterator](){for(let[,t]of this.iterable)yield t}has(t,e=Ke(t)){return Array.isArray(t),this.iterable.some((r=>e(t,r)))}}class rr extends Ue{constructor(t){super(t)}*[Symbol.iterator](){for(let[t]of this.iterable)yield t}has(t){return this.iterable.optionalGet(t).has}}class nr extends Ue{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield this.mapFunction.call(this.ctx,e,t,this)}has(t,e=Ke(t)){return this.some((r=>e(t,r)))}}class ir extends Ue{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let t of this.iterable)yield this.mapFunction.call(this.ctx,t,t,this)}has(t,e=Ke(t)){return this.some((r=>e(t,r)))}}class sr extends Ue{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let t of this.iterable)this.filterPredicate.call(this.ctx,t,t,this)&&(yield t)}has(t,e=Ke(t)){return!!this.iterable.has(t,e)&&this.filterPredicate.call(this.ctx,t,t,this)}}class or{constructor(t,e){this.key=t,this.value=e}}const ar=(t,e)=>r=>e(t,r.key);function cr(t,e){return void 0===e.equals&&(e.equals=Ke(t)),e.equals}class hr{constructor(t){this.size=0,this.contents=[],this.options=t}prefill(t,e){return this.contents[0]=this.options.createEntry(t,e,!0),this.size=1,this}get(t,e){if(0!==this.size){const r=cr(t,e);for(const e of this.contents)if(e&&r(t,e.key))return e.value}}optionalGet(t,e){if(0!==this.size){const r=cr(t,e),n=this.contents.find(ar(t,r));if(n)return Re(n.value)}return De}set(t,e,r){let n,i=0;const s=cr(t,r);for(const r of this.contents){if(r){if(s(t,r.key))return this.contents[i]=this.options.overwriteEntry(t,e,r),!1}else void 0===n&&(n=i);i+=1}return void 0===n?this.contents.push(this.options.createEntry(t,e)):this.contents[n]=this.options.createEntry(t,e),this.size+=1,!0}emplace(t,e,r){const n=cr(t,r);let i,s=this.contents.findIndex(ar(t,n));if(s<0){if(i=e.insert(t,this.options.map),this.size===this.contents.length)return this.contents.push(this.options.createEntry(t,i)),this.size++,{value:i,resized:!0};s=0;for(const e of this.contents){if(void 0===e)return this.contents[s]=this.options.createEntry(t,i),this.size++,{value:i,resized:!0};s++}}else if(e.update)return i=e.update(this.contents[s].value,t,this.options.map),this.contents[s]=this.options.overwriteEntry(t,i,this.contents[s]),{value:i,resized:!1}}has(t,e){if(0!==this.size){const r=cr(t,e);return this.contents.some(ar(t,r))}return!1}delete(t,e){const r=cr(t,e),n=this.contents.findIndex(ar(t,r));return-1!==n&&(this.options.deleteEntry&&this.options.deleteEntry(this.contents[n]),this.contents[n]=void 0,void 0!==this.options.compress&&!0!==this.options.compress||(this.contents=this.contents.filter((t=>void 0!==t))),this.size-=1,!0)}*[Symbol.iterator](){for(const t of this.contents)void 0!==t&&(yield[t.key,t.value])}}class ur extends We{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:void 0}){super();let{depth:e,widthAs2sExponent:r,copy:n}=t;if(Number.isFinite(r)||r<1){r=Math.max(1,Math.min(16,r));const t=(32/r>>0)-1;e=e&&e>0?Math.min(e-1,t):t}else r=6,e=e&&e>0?Math.min(e-1,4):4;const i=1<<r,s=i-1;this.options={widthAs2sExponent:r,width:i,mask:s,depth:e,map:this,createEntry:fr,overwriteEntry:pr},this.clear(),(t.forEach||n&&n.forEach)&&this.copy(t.forEach?t:n)}get size(){return this.length}has(t,e={}){return lr(t,e),this.buckets.has(t,e)}get(t,e={}){return lr(t,e),this.buckets.get(t,e)}optionalGet(t,e={}){return lr(t,e),this.buckets.optionalGet(t,e)}set(t,e,r={}){return lr(t,r),this.buckets.set(t,e,r),this.length=this.buckets.size,this}copy(t){const e=this;if(Fe(t)){for(const[r,n]of t)e.set(r,n);return this}if(_e(t.entries)){for(const[r,n]of t.entries())e.set(r,n);return this}if(_e(t.forEach))return t.forEach((function(t,r){e.set(r,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable or has a forEach function on it")}clone(){return new ur({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}delete(t,e={}){lr(t,e);return this.buckets.delete(t,e)&&(this.length=this.buckets.size),this}clear(){return this.buckets=new dr(this.options,this.options.depth),this.length=0,this}*[Symbol.iterator](){if(this.buckets)for(const t of this.buckets)yield t}}function lr(t,e){return void 0===e.hash&&(e.hash=He(t)),e.hash}const fr=(t,e)=>new or(t,e),pr=(t,e,r)=>(r.key=t,r.value=e,r);class dr{constructor(t,e){this.options=t,this.size=0,this.depth=e,this.buckets=[]}set(t,e,r){const n=r.hash&this.options.mask;let i=this.buckets[n];return i||(i=this.depth?new dr(this.options,this.depth-1):new hr(this.options),this.buckets[n]=i),r.hash>>>=this.options.widthAs2sExponent,!!i.set(t,e,r)&&(this.size+=1,!0)}emplace(t,e,r){const n=r.hash&this.options.mask;let i=this.buckets[n];i||(i=this.depth?new dr(this.options,this.depth-1):new hr(this.options),this.buckets[n]=i),r.hash>>>=this.options.widthAs2sExponent;const s=i.emplace(t,e,r);return s.resized&&(this.size+=1),s}delete(t,e){const r=e.hash&this.options.mask;let n=this.buckets[r];if(n){e.hash>>>=this.options.widthAs2sExponent;if(n.delete(t,e))return 0===n.size&&(this.buckets[r]=void 0),this.size-=1,!0}return!1}get(t,e){const r=this.buckets[e.hash&this.options.mask];if(r)return e.hash>>>=this.options.widthAs2sExponent,r.get(t,e)}optionalGet(t,e){const r=this.buckets[e.hash&this.options.mask];return r?(e.hash>>>=this.options.widthAs2sExponent,r.optionalGet(t,e)):De}has(t,e){const r=this.buckets[e.hash&this.options.mask];return!!r&&(e.hash>>>=this.options.widthAs2sExponent,r.has(t,e))}*[Symbol.iterator](){for(const t of this.buckets)if(t)for(const e of t)yield e}}class yr extends ur{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6}){super(t),this.options.createEntry=(t,e)=>{const r=new or(t,e);return this.end?(this.end.next=r,r.previous=this.end,this.end=r):this.end=this.start=r,r},this.options.deleteEntry=t=>{t.previous&&(t.previous.next=t.next),t.next&&(t.next.previous=t.previous),this.start===t&&(this.start=t.next),this.end===t&&(this.end=t.previous)},this.start=void 0,this.end=void 0}clone(){return new yr({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}*[Symbol.iterator](){let t=this.start;for(;t;)yield[t.key,t.value],t=t.next}}const br={HashMap:ur,LinkedHashMap:yr,MapIterable:We,SetIterable:Be,Utils:{hash:qe,isFunction:_e,isIterable:Fe,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},equalsAndHash:function(t,e,r){return _e(e)&&e(t,t)||(e=Ke(t)),Number.isSafeInteger(r)||(r=He(t)),{hash:r,equals:e}},hashCodeFor:He,equalsFor:Ke,some:Re,none:De,Option:Ne}};t.HashMap=ur,t.LinkedHashMap=yr,t.Mootable=br,t.default=ur,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
