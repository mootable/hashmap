!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t){var e={exports:{}};return t(e,e.exports),e.exports}var r,i,n=function(t){return t&&t.Math==Math&&t},o=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},h=function(t){try{return!!t()}catch(t){return!0}},c={}.toString,u=function(t){return c.call(t).slice(8,-1)},l="".split,f=h((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==u(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(p(t))},y=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=o.document,m=b(g)&&b(g.createElement),v=function(t){return m?g.createElement(t):{}},k=!y&&!h((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),S=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},x=function(t,e){if(!b(t))return t;var s,r;if(e&&"function"==typeof(s=t.toString)&&!b(r=s.call(t)))return r;if("function"==typeof(s=t.valueOf)&&!b(r=s.call(t)))return r;if(!e&&"function"==typeof(s=t.toString)&&!b(r=s.call(t)))return r;throw TypeError("Can't convert object to primitive value")},w=Object.defineProperty,O={f:y?w:function(t,e,s){if(S(t),e=x(e,!0),S(s),k)try{return w(t,e,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(t[e]=s.value),t}},z=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=y?function(t,e,s){return O.f(t,e,z(1,s))}:function(t,e,s){return t[e]=s,t},T=function(t,e){try{E(o,t,e)}catch(s){o[t]=e}return e},F="__core-js_shared__",j=o[F]||T(F,{}),C=s((function(t){(t.exports=function(t,e){return j[t]||(j[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),R={}.hasOwnProperty,I=function(t,e){return R.call(t,e)},P=0,G=Math.random(),_=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++P+G).toString(36)},A="process"==u(o.process),L=o,M=function(t){return"function"==typeof t?t:void 0},q=function(t,e){return arguments.length<2?M(L[t])||M(o[t]):L[t]&&L[t][e]||o[t]&&o[t][e]},N=q("navigator","userAgent")||"",D=o.process,H=D&&D.versions,V=H&&H.v8;V?i=(r=V.split("."))[0]+r[1]:N&&(!(r=N.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=N.match(/Chrome\/(\d+)/))&&(i=r[1]);var K,U=i&&+i,W=!!Object.getOwnPropertySymbols&&!h((function(){return!Symbol.sham&&(A?38===U:U>37&&U<41)})),B=W&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=C("wks"),X=o.Symbol,J=B?X:X&&X.withoutSetter||_,Q=function(t){return I(Y,t)&&(W||"string"==typeof Y[t])||(W&&I(X,t)?Y[t]=X[t]:Y[t]=J("Symbol."+t)),Y[t]},Z=Math.ceil,$=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?$:Z)(t)},et=Math.min,st=Math.max,rt=Math.min,it=function(t){return function(e,s,r){var i,n,o=d(e),a=(i=o.length)>0?et(tt(i),9007199254740991):0,h=function(t,e){var s=tt(t);return s<0?st(s+e,0):rt(s,e)}(r,a);if(t&&s!=s){for(;a>h;)if((n=o[h++])!=n)return!0}else for(;a>h;h++)if((t||h in o)&&o[h]===s)return t||h||0;return!t&&-1}},nt={includes:it(!0),indexOf:it(!1)},ot={},at=nt.indexOf,ht=function(t,e){var s,r=d(t),i=0,n=[];for(s in r)!I(ot,s)&&I(r,s)&&n.push(s);for(;e.length>i;)I(r,s=e[i++])&&(~at(n,s)||n.push(s));return n},ct=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ut=Object.keys||function(t){return ht(t,ct)},lt=y?Object.defineProperties:function(t,e){S(t);for(var s,r=ut(e),i=r.length,n=0;i>n;)O.f(t,s=r[n++],e[s]);return t},ft=q("document","documentElement"),pt=C("keys"),dt=function(t){return pt[t]||(pt[t]=_(t))},yt=dt("IE_PROTO"),bt=function(){},gt=function(t){return"<script>"+t+"</"+"script>"},mt=function(){try{K=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;mt=K?function(t){t.write(gt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(K):((e=v("iframe")).style.display="none",ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(gt("document.F=Object")),t.close(),t.F);for(var s=ct.length;s--;)delete mt.prototype[ct[s]];return mt()};ot[yt]=!0;var vt=Object.create||function(t,e){var s;return null!==t?(bt.prototype=S(t),s=new bt,bt.prototype=null,s[yt]=t):s=mt(),void 0===e?s:lt(s,e)},kt=Q("unscopables"),St=Array.prototype;null==St[kt]&&O.f(St,kt,{configurable:!0,value:vt(null)});var xt=function(t){St[kt][t]=!0},wt=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(t){return wt.call(t)});var Ot,zt,Et,Tt=j.inspectSource,Ft=o.WeakMap,jt="function"==typeof Ft&&/native code/.test(Tt(Ft)),Ct=o.WeakMap;if(jt){var Rt=j.state||(j.state=new Ct),It=Rt.get,Pt=Rt.has,Gt=Rt.set;Ot=function(t,e){return e.facade=t,Gt.call(Rt,t,e),e},zt=function(t){return It.call(Rt,t)||{}},Et=function(t){return Pt.call(Rt,t)}}else{var _t=dt("state");ot[_t]=!0,Ot=function(t,e){return e.facade=t,E(t,_t,e),e},zt=function(t){return I(t,_t)?t[_t]:{}},Et=function(t){return I(t,_t)}}var At,Lt,Mt,qt={set:Ot,get:zt,has:Et,enforce:function(t){return Et(t)?zt(t):Ot(t,{})},getterFor:function(t){return function(e){var s;if(!b(e)||(s=zt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return s}}},Nt={}.propertyIsEnumerable,Dt=Object.getOwnPropertyDescriptor,Ht={f:Dt&&!Nt.call({1:2},1)?function(t){var e=Dt(this,t);return!!e&&e.enumerable}:Nt},Vt=Object.getOwnPropertyDescriptor,Kt={f:y?Vt:function(t,e){if(t=d(t),e=x(e,!0),k)try{return Vt(t,e)}catch(t){}if(I(t,e))return z(!Ht.f.call(t,e),t[e])}},Ut=s((function(t){var e=qt.get,s=qt.enforce,r=String(String).split("String");(t.exports=function(t,e,i,n){var a,h=!!n&&!!n.unsafe,c=!!n&&!!n.enumerable,u=!!n&&!!n.noTargetGet;"function"==typeof i&&("string"!=typeof e||I(i,"name")||E(i,"name",e),(a=s(i)).source||(a.source=r.join("string"==typeof e?e:""))),t!==o?(h?!u&&t[e]&&(c=!0):delete t[e],c?t[e]=i:E(t,e,i)):c?t[e]=i:T(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Tt(this)}))})),Wt=ct.concat("length","prototype"),Bt={f:Object.getOwnPropertyNames||function(t){return ht(t,Wt)}},Yt={f:Object.getOwnPropertySymbols},Xt=q("Reflect","ownKeys")||function(t){var e=Bt.f(S(t)),s=Yt.f;return s?e.concat(s(t)):e},Jt=function(t,e){for(var s=Xt(e),r=O.f,i=Kt.f,n=0;n<s.length;n++){var o=s[n];I(t,o)||r(t,o,i(e,o))}},Qt=/#|\.prototype\./,Zt=function(t,e){var s=te[$t(t)];return s==se||s!=ee&&("function"==typeof e?h(e):!!e)},$t=Zt.normalize=function(t){return String(t).replace(Qt,".").toLowerCase()},te=Zt.data={},ee=Zt.NATIVE="N",se=Zt.POLYFILL="P",re=Zt,ie=Kt.f,ne=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),oe=dt("IE_PROTO"),ae=Object.prototype,he=ne?Object.getPrototypeOf:function(t){return t=Object(p(t)),I(t,oe)?t[oe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ae:null},ce=Q("iterator"),ue=!1;[].keys&&("next"in(Mt=[].keys())?(Lt=he(he(Mt)))!==Object.prototype&&(At=Lt):ue=!0),(null==At||h((function(){var t={};return At[ce].call(t)!==t})))&&(At={}),I(At,ce)||E(At,ce,(function(){return this}));var le={IteratorPrototype:At,BUGGY_SAFARI_ITERATORS:ue},fe=O.f,pe=Q("toStringTag"),de=function(t,e,s){t&&!I(t=s?t:t.prototype,pe)&&fe(t,pe,{configurable:!0,value:e})},ye=le.IteratorPrototype,be=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,s={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(s,[]),e=s instanceof Array}catch(t){}return function(s,r){return S(s),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(s,r):s.__proto__=r,s}}():void 0),ge=le.IteratorPrototype,me=le.BUGGY_SAFARI_ITERATORS,ve=Q("iterator"),ke="keys",Se="values",xe="entries",we=function(){return this},Oe="Array Iterator",ze=qt.set,Ee=qt.getterFor(Oe),Te=function(t,e,s,r,i,n,a){!function(t,e,s){var r=e+" Iterator";t.prototype=vt(ye,{next:z(1,s)}),de(t,r,!1)}(s,e,r);var h,c,u,l=function(t){if(t===i&&b)return b;if(!me&&t in d)return d[t];switch(t){case ke:case Se:case xe:return function(){return new s(this,t)}}return function(){return new s(this)}},f=e+" Iterator",p=!1,d=t.prototype,y=d[ve]||d["@@iterator"]||i&&d[i],b=!me&&y||l(i),g="Array"==e&&d.entries||y;if(g&&(h=he(g.call(new t)),ge!==Object.prototype&&h.next&&(he(h)!==ge&&(be?be(h,ge):"function"!=typeof h[ve]&&E(h,ve,we)),de(h,f,!0))),i==Se&&y&&y.name!==Se&&(p=!0,b=function(){return y.call(this)}),d[ve]!==b&&E(d,ve,b),i)if(c={values:l(Se),keys:n?b:l(ke),entries:l(xe)},a)for(u in c)(me||p||!(u in d))&&Ut(d,u,c[u]);else!function(t,e){var s,r,i,n,a,h=t.target,c=t.global,u=t.stat;if(s=c?o:u?o[h]||T(h,{}):(o[h]||{}).prototype)for(r in e){if(n=e[r],i=t.noTargetGet?(a=ie(s,r))&&a.value:s[r],!re(c?r:h+(u?".":"#")+r,t.forced)&&void 0!==i){if(typeof n==typeof i)continue;Jt(n,i)}(t.sham||i&&i.sham)&&E(n,"sham",!0),Ut(s,r,n,t)}}({target:e,proto:!0,forced:me||p},c);return c}(Array,"Array",(function(t,e){ze(this,{type:Oe,target:d(t),index:0,kind:e})}),(function(){var t=Ee(this),e=t.target,s=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==s?{value:r,done:!1}:"values"==s?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");xt("keys"),xt("values"),xt("entries");var Fe=Q("iterator"),je=Q("toStringTag"),Ce=Te.values;for(var Re in a){var Ie=o[Re],Pe=Ie&&Ie.prototype;if(Pe){if(Pe[Fe]!==Ce)try{E(Pe,Fe,Ce)}catch(t){Pe[Fe]=Ce}if(Pe[je]||E(Pe,je,Re),a[Re])for(var Ge in Te)if(Pe[Ge]!==Te[Ge])try{E(Pe,Ge,Te[Ge])}catch(t){Pe[Ge]=Te[Ge]}}}function _e(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Ae(t){return!(!t||!_e(t[Symbol.iterator]))}function Le(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Me(t,e){return t===e}class qe{constructor(t,e){this.has=t,this.value=e,Object.freeze(this)}static get none(){return De}get size(){return this.has?1:0}static some(t){return Ne(t)}*[Symbol.iterator](){this.has&&(yield this.value)}}const Ne=t=>new qe(!0,t),De=new qe(!1,void 0);function He(t,e=0,s=0){const r=1&(e=e>0?Math.min(e,t.length):t.length),i=e-r;let n=s|=0,o=0,a=0;for(;a<i;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353,o=o<<15|o>>>17,o*=461845907,n^=o,n=n<<13|n>>>19,n*=5,n+=3864292196;return r&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,n^=o),n^=e,n^=n>>>16,n*=2246822507,n^=n>>>13,n*=3266489909,n^=n>>>16,0|n}function Ve(t){switch(typeof t){case"undefined":return 0;case"boolean":return t?1:0;case"string":return He(t);case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?0|t:He(t.toString()):0;case"bigint":case"symbol":case"function":return He(t.toString());case"object":default:{if(null===t)return 0;if(t.hashCode)return _e(t.hashCode)?Ve(t.hashCode(t)):Ve(t.hashCode);if(t instanceof Date)return t.getTime();if(t instanceof RegExp)return He(t.toString());if(t instanceof qe)return t.has?31*Ve(t.value):0;if(t.hasOwnProperty("_mootable_hashCode"))return Ve(t._mootable_hashCode);const e=Ke++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),e}}}let Ke=0;function Ue(t){switch(typeof t){case"object":if(t){if(t instanceof RegExp)return(t,e)=>e instanceof RegExp&&t.toString()===e.toString();if(t instanceof Date)return(t,e)=>e instanceof Date&&t.getTime()===e.getTime();if(t instanceof qe){if(t.has){const e=Ue(t.value);return(t,s)=>!!s.has&&e(t.value,s.value)}return(t,e)=>!e.has}if(_e(t.equals))return(t,e)=>t.equals(e,t)}return Me;case"number":case"bigint":return Le;default:return Me}}function We(t,e){if(e){let s=e.hash,r=e.equals;return _e(s)&&(s=s(t)),Number.isSafeInteger(s)||(s=Ve(t)),_e(r)||(r=Ue(t)),{hash:s,equals:r}}const s={};switch(typeof t){case"undefined":return s.hash=0,s.equals=Me,s;case"boolean":return s.hash=t?1:0,s.equals=Me,s;case"string":return s.hash=He(t),s.equals=Me,s;case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?(s.hash=0|t,s.equals=Le,s):(s.hash=He(t.toString()),s.equals=Le,s):(s.hash=0,s.equals=Le,s);case"bigint":return s.hash=He(t.toString()),s.equals=Le,s;case"symbol":case"function":return s.hash=He(t.toString()),s.equals=Me,s;case"object":default:{if(null===t)return s.hash=0,s.equals=Me,s;if(s.equals=Ue(t),t.hashCode)return _e(t.hashCode)?(s.hash=Ve(t.hashCode(t)),s):(s.hash=Ve(t.hashCode),s);if(t instanceof Date)return s.hash=t.getTime(),s;if(t instanceof RegExp)return s.hash=He(t.toString()),s;if(t instanceof qe)return t.has?(s.hash=31*Ve(t.value),s):(s.hash=0,s);if(t.hasOwnProperty("_mootable_hashCode"))return s.hash=Ve(t._mootable_hashCode),s;const e=Ke++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),s.hash=e,s}}}class Be{constructor(t,e,s){this.size=0,this.contents=[],this.map=t,this.parent=e,this.hash=s}hashConflicts(t){return t!==this.hash}get(t,e){if(0!==this.size){const s=e.equals;for(const e of this.contents)if(e&&s(t,e[0]))return e[1]}}optionalGet(t,e){if(0!==this.size){const s=e.equals,r=this.contents.find((e=>s(t,e[0])));if(r)return Ne(r[1])}return De}set(t,e,s){const r=s.equals;for(const i of this.contents)if(r(t,i[0]))return void this.updateEntry(i,e,s);this.createEntry(t,e,s)}emplace(t,e,s){const r=s.equals;for(const i of this.contents)if(r(t,i[0])){const r="update"in e?e.update(i[1],t,this.map):e.insert(t,this.map);return this.updateEntry(i,r,s),r}const i=e.insert(t,this.map);return this.createEntry(t,i,s),i}createEntry(t,e,s){const r=[t,e];return r.parent=this,this.contents.push(r),this.size+=1,r}updateEntry(t,e,s){t[1]=e}deleteEntry(t){const e=this.contents.indexOf(t);if(-1!==e){this.deleteIndex(e);let t=this.parent;for(;t;)t.size-=1,t=t.parent}}deleteIndex(t){return this.size-=1,0===t?this.contents.shift():t===this.size?this.contents.pop():this.contents.splice(t,1)[0]}has(t,e){if(0!==this.size){const s=e.equals;return this.contents.some((e=>s(t,e[0])))}return!1}delete(t,e){const s=e.equals,r=this.contents.findIndex((e=>s(t,e[0])));return-1!==r&&(this.deleteIndex(r),!0)}*[Symbol.iterator](){for(const t of this.contents)yield t.slice()}*entriesRight(){for(let t=this.contents.length-1;t>=0;t--)yield this.contents[t].slice()}*keys(){for(const t of this.contents)yield t[0]}*values(){for(const t of this.contents)yield t[1]}*keysRight(){for(let t=this.contents.length-1;t>=0;t--)yield this.contents[t][0]}*valuesRight(){for(let t=this.contents.length-1;t>=0;t--)yield this.contents[t][1]}}const Ye=127;class Xe{constructor(t){this.map=t,this.buckets=[],this.size=0}clear(){this.buckets=[],this.size=0}bucketFor(t){const e=t&Ye;if(e<this.buckets.length)return this.buckets[e]}set(t,e,s){const r=s.hash,i=r&Ye;let n=this.buckets[i];if(!n)return n=this.map.createContainer(this,r),n.createEntry(t,e,s),this.buckets[i]=n,void(this.size+=1);n.hashConflicts(r)&&(n=new Je(this.map,this,4,7).replacing(n),this.buckets[i]=n),this.size-=n.size,n.set(t,e,s),this.size+=n.size}emplace(t,e,s){const r=s.hash,i=r&Ye;let n=this.buckets[i];n?n.hashConflicts(r)&&(n=new Je(this.map,this,4,7).replacing(n),this.buckets[i]=n):(n=this.map.createContainer(this,r),this.buckets[i]=n),this.size-=n.size;const o=n.emplace(t,e,s);return this.size+=n.size,o}delete(t,e){const s=e.hash&Ye,r=this.buckets[s];if(r){if(r.delete(t,e))return this.size-=1,!0}return!1}get(t,e){const s=e.hash,r=this.bucketFor(s);if(r)return r.get(t,e)}optionalGet(t,e){const s=e.hash,r=this.bucketFor(s);return r?r.optionalGet(t,e):De}has(t,e){const s=e.hash,r=this.bucketFor(s);return!!r&&r.has(t,e)}*[Symbol.iterator](){for(const t of this.buckets)t&&(yield*t)}*entriesRight(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];e&&(yield*e.entriesRight())}}*keys(){for(const t of this.buckets)t&&(yield*t.keys())}*values(){for(const t of this.buckets)t&&(yield*t.values())}*keysRight(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];e&&(yield*e.keysRight())}}*valuesRight(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];e&&(yield*e.valuesRight())}}}class Je{constructor(t,e,s,r){this.map=t,this.parent=e,this.buckets=[],this.size=0,this.idxFlags=0,this.depth=s,this.shift=r}hashConflicts(){return!1}clear(){this.size=0,this.buckets=[],this.idxFlags=0}bucketFor(t){const e=this.idxFlags,s=1<<(t>>>this.shift&31),r=Qe(e&s-1);if(e&s)return this.buckets[r]}replacing(t){const e=1<<(t.hash>>>this.shift&31);return this.idxFlags|=e,this.buckets[0]=t,this.size=t.size,t.parent=this,this}set(t,e,s){const r=s.hash,i=this.idxFlags,n=1<<(r>>>this.shift&31),o=Qe(i&n-1);let a;i&n?(a=this.buckets[o],this.depth&&a.hashConflicts(r)&&(a=new Je(this.map,this,this.depth-1,this.shift+5).replacing(a),this.buckets[o]=a),this.size-=a.size,a.set(t,e,s),this.size+=a.size):(a=this.map.createContainer(this,r),a.createEntry(t,e,s),this.buckets.splice(o,0,a),this.idxFlags|=n,this.size+=1)}emplace(t,e,s){const r=s.hash,i=this.idxFlags,n=1<<(r>>>this.shift&31),o=Qe(i&n-1);let a;i&n?(a=this.buckets[o],this.depth&&a.hashConflicts(r)&&(a=new Je(this.map,this,this.depth-1,this.shift+5).replacing(a),this.buckets[o]=a)):(a=this.map.createContainer(this,r),this.buckets.splice(o,0,a),this.idxFlags|=n),this.size-=a.size;const h=a.emplace(t,e,s);return this.size+=a.size,h}delete(t,e){const s=e.hash,r=this.idxFlags,i=1<<(s>>>this.shift&31);if(r&i){const s=Qe(r&i-1),n=this.buckets[s];if(n.delete(t,e))return this.size-=1,0===n.size&&(0===s?this.buckets.shift():this.buckets.length===s+1?this.buckets.pop():this.buckets.splice(s,1),this.idxFlags^=i),!0}return!1}get(t,e){const s=e.hash,r=this.bucketFor(s);if(r)return r.get(t,e)}optionalGet(t,e){const s=e.hash,r=this.bucketFor(s);return r?r.optionalGet(t,e):De}has(t,e){const s=e.hash,r=this.bucketFor(s);return!!r&&r.has(t,e)}*[Symbol.iterator](){for(const t of this.buckets)yield*t}*entriesRight(){for(let t=this.buckets.length-1;t>=0;t--)yield*this.buckets[t].entriesRight()}*keys(){for(const t of this.buckets)yield*t.keys()}*values(){for(const t of this.buckets)yield*t.values()}*keysRight(){for(let t=this.buckets.length-1;t>=0;t--)yield*this.buckets[t].keysRight()}*valuesRight(){for(let t=this.buckets.length-1;t>=0;t--)yield*this.buckets[t].valuesRight()}}const Qe=t=>16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24;class Ze{constructor(t){this.buckets=new Xe(this),t&&this.copy(t)}get size(){return this.buckets.size}get length(){return this.buckets.size}createContainer(t,e){return new Be(this,t,e)}has(t,e){const s=We(t,e);return this.buckets.has(t,s)}get(t,e){const s=We(t,e);return this.buckets.get(t,s)}optionalGet(t,e){const s=We(t,e);return this.buckets.optionalGet(t,s)}set(t,e,s){const r=We(t,s);return this.buckets.set(t,e,r),this}emplace(t,e,s){const r=We(t,s);return this.buckets.emplace(t,e,r)}copy(t){const e=this;if(Ae(t)){for(const[s,r]of t)e.set(s,r);return this}if(_e(t.entries)){for(const[s,r]of t.entries())e.set(s,r);return this}if(_e(t.forEach))return t.forEach((function(t,s){e.set(s,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable, has an entries iterable function, or has a forEach function on it")}clone(){return new Ze(this)}delete(t,e){const s=We(t,e);return this.buckets.delete(t,s),this}clear(){return this.buckets.clear(),this}forEach(t,e=this){for(const s of this.entries())t.call(e,s[1],s[0],this);return this}forEachRight(t,e=this){for(const s of this.entriesRight())t.call(e,s[1],s[0],this);return this}*[Symbol.iterator](){yield*this.entries()}*entriesRight(){yield*this.buckets.entriesRight()}*entries(){yield*this.buckets}*keys(){yield*this.buckets.keys()}*values(){yield*this.buckets.values()}*keysRight(){yield*this.buckets.keysRight()}*valuesRight(){yield*this.buckets.valuesRight()}}class $e extends Ze{constructor(t){super(t),0===this.size&&(this.start=void 0,this.end=void 0)}clear(){return this.start=void 0,this.end=void 0,super.clear()}createContainer(t,e){return new ts(this,t,e)}setLeft(t,e,s){const r=We(t,s);return r.addToStart=!0,this.buckets.set(t,e,r),this}emplaceLeft(t,e,s){const r=We(t,s);return r.addToStart=!0,this.buckets.emplace(t,e,r)}push(t,e,s){const r=We(t,s);return r.moveOnUpdate=!0,this.buckets.set(t,e,r),this}pushEmplace(t,e,s){const r=We(t,s);return r.moveOnUpdate=!0,this.buckets.emplace(t,e,r)}unshift(t,e,s){const r=We(t,s);return r.moveOnUpdate=!0,r.addToStart=!0,this.buckets.set(t,e,r),this}unshiftEmplace(t,e,s){const r=We(t,s);return r.moveOnUpdate=!0,r.addToStart=!0,this.buckets.emplace(t,e,r)}shift(){const t=this.start;if(t)return t.parent.deleteEntry(t),t.slice()}pop(){const t=this.end;if(t)return t.parent.deleteEntry(t),t.slice()}head(){const t=this.start;if(t)return t[1]}tail(){const t=this.end;if(t)return t[1]}optionalHead(){const t=this.start;return t?Ne(t[1]):De}optionalTail(){const t=this.end;return t?Ne(t[1]):De}headKey(){const t=this.start;if(t)return t[0]}tailKey(){const t=this.end;if(t)return t[0]}optionalHeadKey(){const t=this.start;return t?Ne(t[0]):De}optionalTailKey(){const t=this.end;return t?Ne(t[0]):De}reverse(){if(this.size>1){let t=this.start;do{const e=t.previous,s=t.next;t.previous=s,t.next=e,t=s}while(t);const e=this.start;this.start=this.end,this.end=e}return this}clone(){return new $e(this)}*[Symbol.iterator](){yield*this.entries()}*entries(){let t=this.start;for(;t;)yield t.slice(),t=t.next}*entriesRight(){let t=this.end;for(;t;)yield t.slice(),t=t.previous}*keys(){let t=this.start;for(;t;)yield t[0],t=t.next}*values(){let t=this.start;for(;t;)yield t[1],t=t.next}*keysRight(){let t=this.end;for(;t;)yield t[0],t=t.previous}*valuesRight(){let t=this.end;for(;t;)yield t[1],t=t.previous}}class ts extends Be{constructor(t,e,s){super(t,e,s)}createEntry(t,e,s){const r=super.createEntry(t,e,s),i=this.map;return void 0===i.start?i.end=i.start=r:s.addToStart?(i.start.previous=r,r.next=i.start,i.start=r):(i.end.next=r,r.previous=i.end,i.end=r),r}updateEntry(t,e,s){super.updateEntry(t,e,s),s.moveOnUpdate&&(s.addToStart?t.previous&&(t.next&&(t.next.previous=t.previous),t.previous.next=t.next,t===this.map.end&&(this.map.end=t.previous),t.previous=void 0,this.map.start.previous=t,t.next=this.map.start,this.map.start=t):t.next&&(t.previous&&(t.previous.next=t.next),t.next.previous=t.previous,t===this.map.start&&(this.map.start=t.next),t.next=void 0,this.map.end.next=t,t.previous=this.map.end,this.map.end=t))}deleteIndex(t){const e=super.deleteIndex(t),s=this.map;e.previous?e.previous.next=e.next:s.start=e.next,e.next?e.next.previous=e.previous:s.end=e.previous}}class es{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof es?t:new is(t)}filter(t=(()=>!0),e=this){return new ns(this,t,e)}forEach(t=(()=>{}),e=this){for(const[s,r]of this)t.call(e,r,s,this);return this}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(_e(t.set))for(const[e,s]of this)t.set(e,s);else if(_e(t.add))for(const e of this)t.add(e);else for(const[e,s]of this)t[e]=s;return t}every(t=(()=>!0),e=this){for(const[s,r]of this)if(!t.call(e,r,s,this))return!1;return!0}some(t=(()=>!0),e=this){for(const[s,r]of this)if(t.call(e,r,s,this))return!0;return!1}find(t=(()=>!0),e=this){for(const[s,r]of this)if(t.call(e,r,s,this))return r}findIndex(t=((t,e)=>e),e=this){for(const[s,r]of this)if(t.call(e,r,s,this))return s}indexOf(t,e=Ue(t)){for(const[s,r]of this)if(e(t,r))return s}has(t,e=Ue(t)){return this.some(((s,r)=>e(r,t)))}get(t,e=Ue(t)){return this.find(((s,r)=>e(t,r)))}optionalGet(t,e=Ue(t)){let s=!1;const r=this.find(((r,i)=>!!e(t,i)&&(s=!0,!0)));return s?Ne(r):De}reduce(t=((t,e)=>e),e,s=this){let r=e;for(const[e,i]of this)r=t.call(s,r,i,e,this);return r}mapKeys(t=((t,e)=>e),e=this){return new os(this,t,e)}mapValues(t=(t=>t),e=this){return new as(this,t,e)}mapEntries(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t)){if(1===t.length&&_e(t[0]))return this.mapKeys(t[0],e);if(t.length>1){if(_e(t[0])){if(_e(t[1])){return new hs(this,((s,r,i)=>[t[0].call(e,s,r,i),t[1].call(e,s,r,i)]),this)}return this.mapKeys(t[0],e)}if(_e(t[1]))return this.mapValues(t[1],e)}}else if(_e(t))return new hs(this,t,e);throw new TypeError("MapIterable.mapEntries expects a function or an array of functions")}map(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t))return this.mapEntries(t,e);if(_e(t))return new ps(this,t,e);throw new TypeError("MapIterable.map expects a function or an array of functions")}concat(t){return t?t instanceof es||t instanceof Map?this.concatMap(t):new us(this,ss.from(t)):this}concatMap(t){return t?new cs(this,es.from(t)):this}keys(){return new fs(this)}values(){return new ls(this)}entries(){return this}}class ss{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof ss?t:new rs(t)}filter(t=(()=>!0),e=this){return new ys(this,t,e)}forEach(t=(()=>{}),e=this){for(const s of this)t.call(e,s,s,this)}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(_e(t.add))for(const e of this)t.add(e);else if(_e(t.set))for(const e of this)t.set(e);return t}reduce(t=((t,e)=>e),e,s=this){let r=e;for(const e of this)r=t.call(s,r,e,e,this);return r}every(t=(()=>!0),e=this){for(const s of this)if(!t.call(e,s,s,this))return!1;return!0}some(t=(()=>!0),e=this){for(const s of this)if(t.call(e,s,this))return!0;return!1}has(t,e=Ue(t)){return this.some((s=>e(s,t)))}find(t=(()=>!0),e=this){for(const s of this)if(t.call(e,s,s,this))return s}map(t=(t=>t),e=this){return new ds(this,t,e)}concat(t=[]){return new us(this,ss.from(t))}values(){return this}keys(){return this}entries(){return es.from(this.map((t=>[t,t])))}}class rs extends ss{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}has(t,e=Ue(t)){return this.iterable instanceof Set||this.iterable instanceof ss?this.iterable.has(t,e):super.has(t,e)}*[Symbol.iterator](){yield*this.iterable}}class is extends es{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}*[Symbol.iterator](){yield*this.iterable}has(t){return this.optionalGet(t).has}optionalGet(t){return _e(this.iterable.optionalGet)?this.iterable.optionalGet(t):_e(this.iterable.has)?this.iterable.has(t)?(_e(this.iterable.get)&&Ne(this.iterable.get(t)),Ne(super.get(t))):De:super.optionalGet(t)}get(t){return this.optionalGet(t).value}}class ns extends is{constructor(t,e,s){super(t,s),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let[t,e]of this.iterable)this.filterPredicate.call(this.ctx,e,t,this)&&(yield[t,e])}optionalGet(t){const e=super.optionalGet(t);return e.has&&!this.filterPredicate.call(this.ctx,e.value,t,this)?De:e}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class os extends is{constructor(t,e,s){super(t,s),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[this.mapFunction.call(this.ctx,e,t,this),e]}}class as extends is{constructor(t,e,s){super(t,s),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[t,this.mapFunction.call(this.ctx,e,t,this)]}optionalGet(t){const e=super.optionalGet(t);return e.has?Ne(this.mapFunction.call(this.ctx,e.value,t,this)):e}}class hs extends is{constructor(t,e,s){super(t,s),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable){const[s,r]=this.mapFunction.call(this.ctx,e,t,this);yield[s,r]}}get(t){if(this.iterable.has(t)){const e=this.iterable.get(t);return this.mapFunction.call(this.ctx,e,t,this)[1]}}}class cs extends es{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}optionalGet(t){const e=this.iterable.optionalGet(t);return e.has?e:this.otherIterable.optionalGet(t)}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class us extends ss{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}has(t,e=Ue(t)){return this.iterable.has(t,e)||this.otherIterable.has(t,e)}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}}class ls extends rs{constructor(t){super(t)}*[Symbol.iterator](){for(let[,t]of this.iterable)yield t}has(t,e=Ue(t)){return Array.isArray(t),this.iterable.some((s=>e(t,s)))}}class fs extends rs{constructor(t){super(t)}*[Symbol.iterator](){for(let[t]of this.iterable)yield t}has(t){return this.iterable.optionalGet(t).has}}class ps extends rs{constructor(t,e,s){super(t,s),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield this.mapFunction.call(this.ctx,e,t,this)}has(t,e=Ue(t)){return this.some((s=>e(t,s)))}}class ds extends rs{constructor(t,e,s){super(t,s),this.mapFunction=e}*[Symbol.iterator](){for(let t of this.iterable)yield this.mapFunction.call(this.ctx,t,t,this)}has(t,e=Ue(t)){return this.some((s=>e(t,s)))}}class ys extends rs{constructor(t,e,s){super(t,s),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let t of this.iterable)this.filterPredicate.call(this.ctx,t,t,this)&&(yield t)}has(t,e=Ue(t)){return!!this.iterable.has(t,e)&&this.filterPredicate.call(this.ctx,t,t,this)}}const bs={HashMap:Ze,LinkedHashMap:$e,MapIterable:es,SetIterable:ss,Utils:{hash:He,isFunction:_e,isIterable:Ae,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},equalsAndHash:We,hashCodeFor:Ve,equalsFor:Ue,some:Ne,none:De,Option:qe}};t.HashMap=Ze,t.LinkedHashMap=$e,t.Mootable=bs,t.default=Ze,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
