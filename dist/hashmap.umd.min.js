!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t){var e={exports:{}};return t(e,e.exports),e.exports}var n,r,i=function(t){return t&&t.Math==Math&&t},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},u=function(t){try{return!!t()}catch(t){return!0}},c={}.toString,h=function(t){return c.call(t).slice(8,-1)},l="".split,f=u((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==h(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(p(t))},y=!u((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=o.document,v=b(g)&&b(g.createElement),m=function(t){return v?g.createElement(t):{}},k=!y&&!u((function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a})),S=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},O=function(t,e){if(!b(t))return t;var s,n;if(e&&"function"==typeof(s=t.toString)&&!b(n=s.call(t)))return n;if("function"==typeof(s=t.valueOf)&&!b(n=s.call(t)))return n;if(!e&&"function"==typeof(s=t.toString)&&!b(n=s.call(t)))return n;throw TypeError("Can't convert object to primitive value")},x=Object.defineProperty,w={f:y?x:function(t,e,s){if(S(t),e=O(e,!0),S(s),k)try{return x(t,e,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(t[e]=s.value),t}},R=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},j=y?function(t,e,s){return w.f(t,e,R(1,s))}:function(t,e,s){return t[e]=s,t},q=function(t,e){try{j(o,t,e)}catch(s){o[t]=e}return e},E="__core-js_shared__",T=o[E]||q(E,{}),z=s((function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.11.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),F=function(t){return Object(p(t))},C={}.hasOwnProperty,L=function(t,e){return C.call(F(t),e)},_=0,A=Math.random(),P=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++_+A).toString(36)},I="process"==h(o.process),M=o,H=function(t){return"function"==typeof t?t:void 0},N=function(t,e){return arguments.length<2?H(M[t])||H(o[t]):M[t]&&M[t][e]||o[t]&&o[t][e]},G=N("navigator","userAgent")||"",D=o.process,K=D&&D.versions,V=K&&K.v8;V?r=(n=V.split("."))[0]+n[1]:G&&(!(n=G.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=G.match(/Chrome\/(\d+)/))&&(r=n[1]);var U,W=r&&+r,B=!!Object.getOwnPropertySymbols&&!u((function(){return!Symbol.sham&&(I?38===W:W>37&&W<41)})),Y=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=z("wks"),Z=o.Symbol,J=Y?Z:Z&&Z.withoutSetter||P,Q=function(t){return L(X,t)&&(B||"string"==typeof X[t])||(B&&L(Z,t)?X[t]=Z[t]:X[t]=J("Symbol."+t)),X[t]},$=Math.ceil,tt=Math.floor,et=function(t){return isNaN(t=+t)?0:(t>0?tt:$)(t)},st=Math.min,nt=Math.max,rt=Math.min,it=function(t){return function(e,s,n){var r,i,o=d(e),a=(r=o.length)>0?st(et(r),9007199254740991):0,u=function(t,e){var s=et(t);return s<0?nt(s+e,0):rt(s,e)}(n,a);if(t&&s!=s){for(;a>u;)if((i=o[u++])!=i)return!0}else for(;a>u;u++)if((t||u in o)&&o[u]===s)return t||u||0;return!t&&-1}},ot={includes:it(!0),indexOf:it(!1)},at={},ut=ot.indexOf,ct=function(t,e){var s,n=d(t),r=0,i=[];for(s in n)!L(at,s)&&L(n,s)&&i.push(s);for(;e.length>r;)L(n,s=e[r++])&&(~ut(i,s)||i.push(s));return i},ht=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lt=Object.keys||function(t){return ct(t,ht)},ft=y?Object.defineProperties:function(t,e){S(t);for(var s,n=lt(e),r=n.length,i=0;r>i;)w.f(t,s=n[i++],e[s]);return t},pt=N("document","documentElement"),dt=z("keys"),yt=function(t){return dt[t]||(dt[t]=P(t))},bt=yt("IE_PROTO"),gt=function(){},vt=function(t){return"<script>"+t+"</"+"script>"},mt=function(){try{U=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;mt=U?function(t){t.write(vt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(U):((e=m("iframe")).style.display="none",pt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(vt("document.F=Object")),t.close(),t.F);for(var s=ht.length;s--;)delete mt.prototype[ht[s]];return mt()};at[bt]=!0;var kt=Object.create||function(t,e){var s;return null!==t?(gt.prototype=S(t),s=new gt,gt.prototype=null,s[bt]=t):s=mt(),void 0===e?s:ft(s,e)},St=Q("unscopables"),Ot=Array.prototype;null==Ot[St]&&w.f(Ot,St,{configurable:!0,value:kt(null)});var xt=function(t){Ot[St][t]=!0},wt=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(t){return wt.call(t)});var Rt,jt,qt,Et=T.inspectSource,Tt=o.WeakMap,zt="function"==typeof Tt&&/native code/.test(Et(Tt)),Ft="Object already initialized",Ct=o.WeakMap;if(zt){var Lt=T.state||(T.state=new Ct),_t=Lt.get,At=Lt.has,Pt=Lt.set;Rt=function(t,e){if(At.call(Lt,t))throw new TypeError(Ft);return e.facade=t,Pt.call(Lt,t,e),e},jt=function(t){return _t.call(Lt,t)||{}},qt=function(t){return At.call(Lt,t)}}else{var It=yt("state");at[It]=!0,Rt=function(t,e){if(L(t,It))throw new TypeError(Ft);return e.facade=t,j(t,It,e),e},jt=function(t){return L(t,It)?t[It]:{}},qt=function(t){return L(t,It)}}var Mt,Ht,Nt,Gt={set:Rt,get:jt,has:qt,enforce:function(t){return qt(t)?jt(t):Rt(t,{})},getterFor:function(t){return function(e){var s;if(!b(e)||(s=jt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return s}}},Dt={}.propertyIsEnumerable,Kt=Object.getOwnPropertyDescriptor,Vt={f:Kt&&!Dt.call({1:2},1)?function(t){var e=Kt(this,t);return!!e&&e.enumerable}:Dt},Ut=Object.getOwnPropertyDescriptor,Wt={f:y?Ut:function(t,e){if(t=d(t),e=O(e,!0),k)try{return Ut(t,e)}catch(t){}if(L(t,e))return R(!Vt.f.call(t,e),t[e])}},Bt=s((function(t){var e=Gt.get,s=Gt.enforce,n=String(String).split("String");(t.exports=function(t,e,r,i){var a,u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,h=!!i&&!!i.noTargetGet;"function"==typeof r&&("string"!=typeof e||L(r,"name")||j(r,"name",e),(a=s(r)).source||(a.source=n.join("string"==typeof e?e:""))),t!==o?(u?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=r:j(t,e,r)):c?t[e]=r:q(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Et(this)}))})),Yt=ht.concat("length","prototype"),Xt={f:Object.getOwnPropertyNames||function(t){return ct(t,Yt)}},Zt={f:Object.getOwnPropertySymbols},Jt=N("Reflect","ownKeys")||function(t){var e=Xt.f(S(t)),s=Zt.f;return s?e.concat(s(t)):e},Qt=function(t,e){for(var s=Jt(e),n=w.f,r=Wt.f,i=0;i<s.length;i++){var o=s[i];L(t,o)||n(t,o,r(e,o))}},$t=/#|\.prototype\./,te=function(t,e){var s=se[ee(t)];return s==re||s!=ne&&("function"==typeof e?u(e):!!e)},ee=te.normalize=function(t){return String(t).replace($t,".").toLowerCase()},se=te.data={},ne=te.NATIVE="N",re=te.POLYFILL="P",ie=te,oe=Wt.f,ae=!u((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ue=yt("IE_PROTO"),ce=Object.prototype,he=ae?Object.getPrototypeOf:function(t){return t=F(t),L(t,ue)?t[ue]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ce:null},le=Q("iterator"),fe=!1;[].keys&&("next"in(Nt=[].keys())?(Ht=he(he(Nt)))!==Object.prototype&&(Mt=Ht):fe=!0),(null==Mt||u((function(){var t={};return Mt[le].call(t)!==t})))&&(Mt={}),L(Mt,le)||j(Mt,le,(function(){return this}));var pe={IteratorPrototype:Mt,BUGGY_SAFARI_ITERATORS:fe},de=w.f,ye=Q("toStringTag"),be=function(t,e,s){t&&!L(t=s?t:t.prototype,ye)&&de(t,ye,{configurable:!0,value:e})},ge=pe.IteratorPrototype,ve=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,s={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(s,[]),e=s instanceof Array}catch(t){}return function(s,n){return S(s),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(s,n):s.__proto__=n,s}}():void 0),me=pe.IteratorPrototype,ke=pe.BUGGY_SAFARI_ITERATORS,Se=Q("iterator"),Oe="keys",xe="values",we="entries",Re=function(){return this},je="Array Iterator",qe=Gt.set,Ee=Gt.getterFor(je),Te=function(t,e,s,n,r,i,a){!function(t,e,s){var n=e+" Iterator";t.prototype=kt(ge,{next:R(1,s)}),be(t,n,!1)}(s,e,n);var u,c,h,l=function(t){if(t===r&&b)return b;if(!ke&&t in d)return d[t];switch(t){case Oe:case xe:case we:return function(){return new s(this,t)}}return function(){return new s(this)}},f=e+" Iterator",p=!1,d=t.prototype,y=d[Se]||d["@@iterator"]||r&&d[r],b=!ke&&y||l(r),g="Array"==e&&d.entries||y;if(g&&(u=he(g.call(new t)),me!==Object.prototype&&u.next&&(he(u)!==me&&(ve?ve(u,me):"function"!=typeof u[Se]&&j(u,Se,Re)),be(u,f,!0))),r==xe&&y&&y.name!==xe&&(p=!0,b=function(){return y.call(this)}),d[Se]!==b&&j(d,Se,b),r)if(c={values:l(xe),keys:i?b:l(Oe),entries:l(we)},a)for(h in c)(ke||p||!(h in d))&&Bt(d,h,c[h]);else!function(t,e){var s,n,r,i,a,u=t.target,c=t.global,h=t.stat;if(s=c?o:h?o[u]||q(u,{}):(o[u]||{}).prototype)for(n in e){if(i=e[n],r=t.noTargetGet?(a=oe(s,n))&&a.value:s[n],!ie(c?n:u+(h?".":"#")+n,t.forced)&&void 0!==r){if(typeof i==typeof r)continue;Qt(i,r)}(t.sham||r&&r.sham)&&j(i,"sham",!0),Bt(s,n,i,t)}}({target:e,proto:!0,forced:ke||p},c);return c}(Array,"Array",(function(t,e){qe(this,{type:je,target:d(t),index:0,kind:e})}),(function(){var t=Ee(this),e=t.target,s=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==s?{value:n,done:!1}:"values"==s?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");xt("keys"),xt("values"),xt("entries");var ze=Q("iterator"),Fe=Q("toStringTag"),Ce=Te.values;for(var Le in a){var _e=o[Le],Ae=_e&&_e.prototype;if(Ae){if(Ae[ze]!==Ce)try{j(Ae,ze,Ce)}catch(t){Ae[ze]=Ce}if(Ae[Fe]||j(Ae,Fe,Le),a[Le])for(var Pe in Te)if(Ae[Pe]!==Te[Pe])try{j(Ae,Pe,Te[Pe])}catch(t){Ae[Pe]=Te[Pe]}}}function Ie(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Me(t){return!(!t||!Ie(t[Symbol.iterator]))}const He=Object.is;function Ne(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Ge(t,e){return t===e}function De(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>4)&252645135)>>>24}class Ke{constructor(t,e){this.has=t,this.value=e,Object.freeze(this)}static get none(){return Ue}get size(){return this.has?1:0}static some(t){return Ve(t)}*[Symbol.iterator](){this.has&&(yield this.value)}}const Ve=t=>new Ke(!0,t),Ue=new Ke(!1,void 0);class We{constructor(t,e,s){this.size=0,this.contents=[],this.map=t,this.parent=e,this.hash=s}hashConflicts(t){return t!==this.hash}get(t,e){if(0!==this.size){const s=e.equals;for(const e of this.contents)if(e&&s(t,e[0]))return e[1]}}optionalGet(t,e){if(0!==this.size){const s=e.equals,n=this.contents.find((e=>s(t,e[0])));if(n)return Ve(n[1])}return Ue}set(t,e,s){const n=s.equals;for(const r of this.contents)if(n(t,r[0]))return void this.updateEntry(r,e,s);this.createEntry(t,e,s)}emplace(t,e,s){const n=s.equals;for(const r of this.contents)if(n(t,r[0])){const n="update"in e?e.update(r[1],t,this.map):e.insert(t,this.map);return this.updateEntry(r,n,s),n}const r=e.insert(t,this.map);return this.createEntry(t,r,s),r}createEntry(t,e){const s=[t,e];return s.parent=this,this.contents.push(s),this.size+=1,s}updateEntry(t,e){t[1]=e}deleteEntry(t){const e=this.contents.indexOf(t);if(-1!==e){this.deleteIndex(e);let t=this.parent;for(;t;)t.size-=1,t=t.parent}}deleteIndex(t){return this.size-=1,0===t?this.contents.shift():t===this.size?this.contents.pop():this.contents.splice(t,1)[0]}has(t,e){if(0!==this.size){const s=e.equals;return this.contents.some((e=>s(t,e[0])))}return!1}delete(t,e){const s=e.equals,n=this.contents.findIndex((e=>s(t,e[0])));return-1!==n&&(this.deleteIndex(n),!0)}*[Symbol.iterator](){for(const t of this.contents)yield t.slice()}*entriesRight(){for(let t=this.contents.length-1;t>=0;t--)yield this.contents[t].slice()}*keys(){for(const t of this.contents)yield t[0]}*values(){for(const t of this.contents)yield t[1]}*keysRight(){for(let t=this.contents.length-1;t>=0;t--)yield this.contents[t][0]}*valuesRight(){for(let t=this.contents.length-1;t>=0;t--)yield this.contents[t][1]}}const Be=127;class Ye{constructor(t){this.map=t,this.buckets=[],this.size=0}clear(){this.buckets=[],this.size=0}bucketFor(t){const e=t&Be;if(e<this.buckets.length)return this.buckets[e]}set(t,e,s){const n=s.hash,r=n&Be;let i=this.buckets[r];if(!i)return i=this.map.createContainer(this,n),i.createEntry(t,e,s),this.buckets[r]=i,void(this.size+=1);i.hashConflicts(n)&&(i=new Xe(this.map,this,4,7).replacing(i),this.buckets[r]=i),this.size-=i.size,i.set(t,e,s),this.size+=i.size}emplace(t,e,s){const n=s.hash,r=n&Be;let i=this.buckets[r];i?i.hashConflicts(n)&&(i=new Xe(this.map,this,4,7).replacing(i),this.buckets[r]=i):(i=this.map.createContainer(this,n),this.buckets[r]=i),this.size-=i.size;const o=i.emplace(t,e,s);return this.size+=i.size,o}delete(t,e){const s=e.hash&Be,n=this.buckets[s];if(n){if(n.delete(t,e))return this.size-=1,!0}return!1}get(t,e){const s=e.hash,n=this.bucketFor(s);if(n)return n.get(t,e)}optionalGet(t,e){const s=e.hash,n=this.bucketFor(s);return n?n.optionalGet(t,e):Ue}has(t,e){const s=e.hash,n=this.bucketFor(s);return!!n&&n.has(t,e)}*[Symbol.iterator](){for(const t of this.buckets)t&&(yield*t)}*entriesRight(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];e&&(yield*e.entriesRight())}}*keys(){for(const t of this.buckets)t&&(yield*t.keys())}*values(){for(const t of this.buckets)t&&(yield*t.values())}*keysRight(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];e&&(yield*e.keysRight())}}*valuesRight(){for(let t=this.buckets.length-1;t>=0;t--){const e=this.buckets[t];e&&(yield*e.valuesRight())}}}class Xe{constructor(t,e,s,n){this.map=t,this.parent=e,this.buckets=[],this.size=0,this.idxFlags=0,this.depth=s,this.shift=n}hashConflicts(){return!1}clear(){this.size=0,this.buckets=[],this.idxFlags=0}bucketFor(t){const e=this.idxFlags,s=1<<(t>>>this.shift&31),n=De(e&s-1);if(e&s)return this.buckets[n]}replacing(t){const e=1<<(t.hash>>>this.shift&31);return this.idxFlags|=e,this.buckets[0]=t,this.size=t.size,t.parent=this,this}set(t,e,s){const n=s.hash,r=this.idxFlags,i=1<<(n>>>this.shift&31),o=De(r&i-1);let a;r&i?(a=this.buckets[o],this.depth&&a.hashConflicts(n)&&(a=new Xe(this.map,this,this.depth-1,this.shift+5).replacing(a),this.buckets[o]=a),this.size-=a.size,a.set(t,e,s),this.size+=a.size):(a=this.map.createContainer(this,n),a.createEntry(t,e,s),this.buckets.splice(o,0,a),this.idxFlags|=i,this.size+=1)}emplace(t,e,s){const n=s.hash,r=this.idxFlags,i=1<<(n>>>this.shift&31),o=De(r&i-1);let a;r&i?(a=this.buckets[o],this.depth&&a.hashConflicts(n)&&(a=new Xe(this.map,this,this.depth-1,this.shift+5).replacing(a),this.buckets[o]=a)):(a=this.map.createContainer(this,n),this.buckets.splice(o,0,a),this.idxFlags|=i),this.size-=a.size;const u=a.emplace(t,e,s);return this.size+=a.size,u}delete(t,e){const s=e.hash,n=this.idxFlags,r=1<<(s>>>this.shift&31);if(n&r){const s=De(n&r-1),i=this.buckets[s];if(i.delete(t,e))return this.size-=1,0===i.size&&(0===s?this.buckets.shift():this.buckets.length===s+1?this.buckets.pop():this.buckets.splice(s,1),this.idxFlags^=r),!0}return!1}get(t,e){const s=e.hash,n=this.bucketFor(s);if(n)return n.get(t,e)}optionalGet(t,e){const s=e.hash,n=this.bucketFor(s);return n?n.optionalGet(t,e):Ue}has(t,e){const s=e.hash,n=this.bucketFor(s);return!!n&&n.has(t,e)}*[Symbol.iterator](){for(const t of this.buckets)yield*t}*entriesRight(){for(let t=this.buckets.length-1;t>=0;t--)yield*this.buckets[t].entriesRight()}*keys(){for(const t of this.buckets)yield*t.keys()}*values(){for(const t of this.buckets)yield*t.values()}*keysRight(){for(let t=this.buckets.length-1;t>=0;t--)yield*this.buckets[t].keysRight()}*valuesRight(){for(let t=this.buckets.length-1;t>=0;t--)yield*this.buckets[t].valuesRight()}}function Ze(t,e=0,s=0){const n=1&(e=e>0?Math.min(e,t.length):t.length),r=e-n;let i=s|=0,o=0,a=0;for(;a<r;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353,o=o<<15|o>>>17,o*=461845907,i^=o,i=i<<13|i>>>19,i*=5,i+=3864292196;return n&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,i^=o),i^=e,i^=i>>>16,i*=2246822507,i^=i>>>13,i*=3266489909,i^=i>>>16,0|i}function Je(t){switch(typeof t){case"undefined":return 0;case"boolean":return t?1:0;case"string":return Ze(t);case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?0|t:Ze(t.toString()):0;case"bigint":case"symbol":case"function":return Ze(t.toString());case"object":default:{if(null===t)return 0;if(t.hashCode)return Ie(t.hashCode)?Je(t.hashCode(t)):Je(t.hashCode);if(t instanceof Date)return t.getTime();if(t instanceof RegExp)return Ze(t.toString());if(t instanceof Ke)return t.has?31*Je(t.value):0;if(Object.prototype.hasOwnProperty.call(t,"_mootable_hashCode"))return Je(t._mootable_hashCode);const e=Qe++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),e}}}let Qe=0;function $e(t){switch(typeof t){case"object":if(t){if(t instanceof RegExp)return(t,e)=>e instanceof RegExp&&t.toString()===e.toString();if(t instanceof Date)return(t,e)=>e instanceof Date&&t.getTime()===e.getTime();if(t instanceof Ke){if(t.has){const e=$e(t.value);return(t,s)=>!!s.has&&e(t.value,s.value)}return(t,e)=>!e.has}if(Ie(t.equals))return(t,e)=>t.equals(e,t)}return Ge;case"number":case"bigint":return Ne;default:return Ge}}function ts(t,e){if(e){let s=e.hash,n=e.equals;return Ie(s)&&(s=s(t)),Number.isSafeInteger(s)||(s=Je(t)),Ie(n)||(n=$e(t)),{hash:s,equals:n}}const s={};switch(typeof t){case"undefined":return s.hash=0,s.equals=Ge,s;case"boolean":return s.hash=t?1:0,s.equals=Ge,s;case"string":return s.hash=Ze(t),s.equals=Ge,s;case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?(s.hash=0|t,s.equals=Ne,s):(s.hash=Ze(t.toString()),s.equals=Ne,s):(s.hash=0,s.equals=Ne,s);case"bigint":return s.hash=Ze(t.toString()),s.equals=Ne,s;case"symbol":case"function":return s.hash=Ze(t.toString()),s.equals=Ge,s;case"object":default:{if(null===t)return s.hash=0,s.equals=Ge,s;if(s.equals=$e(t),t.hashCode)return Ie(t.hashCode)?(s.hash=Je(t.hashCode(t)),s):(s.hash=Je(t.hashCode),s);if(t instanceof Date)return s.hash=t.getTime(),s;if(t instanceof RegExp)return s.hash=Ze(t.toString()),s;if(t instanceof Ke)return t.has?(s.hash=31*Je(t.value),s):(s.hash=0,s);if(Object.prototype.hasOwnProperty.call(t,"_mootable_hashCode"))return s.hash=Je(t._mootable_hashCode),s;const e=Qe++;return Object.defineProperty(t,"_mootable_hashCode",{value:e}),s.hash=e,s}}}class es{constructor(t){this.buckets=new Ye(this),t&&this.copy(t)}get size(){return this.buckets.size}get length(){return this.buckets.size}has(t,e){const s=this.equalsAndHash(t,e);return this.buckets.has(t,s)}get(t,e){const s=this.equalsAndHash(t,e);return this.buckets.get(t,s)}keyOf(t,e){const s=e&&Ie(e.equals)?e.equals:this.equalsFor(t);for(const e of this.entries())if(s(t,e[1]))return e[0]}lastKeyOf(t,e){const s=e&&Ie(e.equals)?e.equals:this.equalsFor(t);for(const e of this.entriesRight())if(s(t,e[1]))return e[0]}optionalKeyOf(t,e){const s=e&&Ie(e.equals)?e.equals:this.equalsFor(t);for(const e of this.entries())if(s(t,e[1]))return Ve(e[0]);return Ue}optionalLastKeyOf(t,e){const s=e&&Ie(e.equals)?e.equals:this.equalsFor(t);for(const e of this.entriesRight())if(s(t,e[1]))return Ve(e[0]);return Ue}optionalGet(t,e){const s=this.equalsAndHash(t,e);return this.buckets.optionalGet(t,s)}find(t=(()=>!0),e){for(const[s,n]of this.entries())if(t.call(e,n,s,this))return n}findLast(t=(()=>!0),e){for(const[s,n]of this.entriesRight())if(t.call(e,n,s,this))return n}optionalFind(t=(()=>!0),e){for(const[s,n]of this.entries())if(t.call(e,n,s,this))return Ve(n);return Ue}optionalFindLast(t=(()=>!0),e){for(const[s,n]of this.entriesRight())if(t.call(e,n,s,this))return Ve(n);return Ue}findKey(t=((t,e)=>e),e){for(const[s,n]of this.entries())if(t.call(e,n,s,this))return s}findLastKey(t=((t,e)=>e),e){for(const[s,n]of this.entriesRight())if(t.call(e,n,s,this))return s}optionalFindKey(t=((t,e)=>e),e){for(const[s,n]of this.entries())if(t.call(e,n,s,this))return Ve(s);return Ue}optionalFindLastKey(t=((t,e)=>e),e){for(const[s,n]of this.entriesRight())if(t.call(e,n,s,this))return Ve(s);return Ue}set(t,e,s){const n=this.equalsAndHash(t,s);return this.buckets.set(t,e,n),this}emplace(t,e,s){const n=this.equalsAndHash(t,s);return this.buckets.emplace(t,e,n)}copy(t){const e=this;if(Me(t)){for(const[s,n]of t)e.set(s,n);return this}if(Ie(t.entries)){for(const[s,n]of t.entries())e.set(s,n);return this}if(Ie(t.forEach))return t.forEach((function(t,s){e.set(s,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable, has an entries iterable function, or has a forEach function on it")}clone(){return new es(this)}delete(t,e){const s=this.equalsAndHash(t,e);return this.buckets.delete(t,s),this}clear(){return this.buckets.clear(),this}forEach(t,e){for(const s of this.entries())t.call(e,s[1],s[0],this);return this}forEachRight(t,e){for(const s of this.entriesRight())t.call(e,s[1],s[0],this);return this}every(t=(()=>!0),e,s){const n=s&&s.reverse?this.entriesRight():this.entries();for(const[s,r]of n)if(!t.call(e,r,s,this))return!1;return!0}some(t=(()=>!0),e,s){const n=s&&s.reverse?this.entriesRight():this.entries();for(const[s,r]of n)if(t.call(e,r,s,this))return!0;return!1}reduce(t,e,s){let n=e;if(void 0===e){let e=!0;for(const[r,i]of this.entries())e?(e=!1,n=i):n=t.call(s,n,i,r,this)}else for(const[e,r]of this.entries())n=t.call(s,n,r,e,this);return n}reduceRight(t,e,s){let n=e;if(void 0===e){let e=!0;for(const[r,i]of this.entriesRight())e?(e=!1,n=i):n=t.call(s,n,i,r,this)}else for(const[e,r]of this.entriesRight())n=t.call(s,n,r,e,this);return n}*[Symbol.iterator](){yield*this.entries()}*entries(){yield*this.buckets}*entriesRight(){yield*this.buckets.entriesRight()}*keys(){yield*this.buckets.keys()}*values(){yield*this.buckets.values()}*keysRight(){yield*this.buckets.keysRight()}*valuesRight(){yield*this.buckets.valuesRight()}createContainer(t,e){return new We(this,t,e)}}Object.defineProperty(es.prototype,"equalsFor",{value:$e,configurable:!0}),Object.defineProperty(es.prototype,"equalsAndHash",{value:ts,configurable:!0});class ss extends es{constructor(t){super(t),0===this.size&&(this.start=void 0,this.end=void 0)}clear(){return this.start=void 0,this.end=void 0,super.clear()}setLeft(t,e,s){const n=this.equalsAndHash(t,s);return n.addToStart=!0,this.buckets.set(t,e,n),this}emplaceLeft(t,e,s){const n=this.equalsAndHash(t,s);return n.addToStart=!0,this.buckets.emplace(t,e,n)}push(t,e,s){const n=this.equalsAndHash(t,s);return n.moveOnUpdate=!0,this.buckets.set(t,e,n),this}pushEmplace(t,e,s){const n=this.equalsAndHash(t,s);return n.moveOnUpdate=!0,this.buckets.emplace(t,e,n)}unshift(t,e,s){const n=this.equalsAndHash(t,s);return n.moveOnUpdate=!0,n.addToStart=!0,this.buckets.set(t,e,n),this}unshiftEmplace(t,e,s){const n=this.equalsAndHash(t,s);return n.moveOnUpdate=!0,n.addToStart=!0,this.buckets.emplace(t,e,n)}shift(){const t=this.start;if(t)return t.parent.deleteEntry(t),t.slice()}pop(){const t=this.end;if(t)return t.parent.deleteEntry(t),t.slice()}head(){const t=this.start;if(t)return t[1]}tail(){const t=this.end;if(t)return t[1]}optionalHead(){const t=this.start;return t?Ve(t[1]):Ue}optionalTail(){const t=this.end;return t?Ve(t[1]):Ue}headKey(){const t=this.start;if(t)return t[0]}tailKey(){const t=this.end;if(t)return t[0]}optionalHeadKey(){const t=this.start;return t?Ve(t[0]):Ue}optionalTailKey(){const t=this.end;return t?Ve(t[0]):Ue}reverse(){if(this.size>1){let t=this.start;do{const e=t.previous,s=t.next;t.previous=s,t.next=e,t=s}while(t);const e=this.start;this.start=this.end,this.end=e}return this}clone(){return new ss(this)}*[Symbol.iterator](){yield*this.entries()}*entries(){let t=this.start;for(;t;)yield t.slice(),t=t.next}*entriesRight(){let t=this.end;for(;t;)yield t.slice(),t=t.previous}*keys(){let t=this.start;for(;t;)yield t[0],t=t.next}*values(){let t=this.start;for(;t;)yield t[1],t=t.next}*keysRight(){let t=this.end;for(;t;)yield t[0],t=t.previous}*valuesRight(){let t=this.end;for(;t;)yield t[1],t=t.previous}createContainer(t,e){return new ns(this,t,e)}}class ns extends We{constructor(t,e,s){super(t,e,s)}createEntry(t,e,s){const n=super.createEntry(t,e,s),r=this.map;return void 0===r.start?r.end=r.start=n:s.addToStart?(r.start.previous=n,n.next=r.start,r.start=n):(r.end.next=n,n.previous=r.end,r.end=n),n}updateEntry(t,e,s){super.updateEntry(t,e,s),s.moveOnUpdate&&(s.addToStart?t.previous&&(t.next&&(t.next.previous=t.previous),t.previous.next=t.next,t===this.map.end&&(this.map.end=t.previous),t.previous=void 0,this.map.start.previous=t,t.next=this.map.start,this.map.start=t):t.next&&(t.previous&&(t.previous.next=t.next),t.next.previous=t.previous,t===this.map.start&&(this.map.start=t.next),t.next=void 0,this.map.end.next=t,t.previous=this.map.end,this.map.end=t))}deleteIndex(t){const e=super.deleteIndex(t),s=this.map;e.previous?e.previous.next=e.next:s.start=e.next,e.next?e.next.previous=e.previous:s.end=e.previous}}const rs={HashMap:es,LinkedHashMap:ss,hash:Ze,isFunction:Ie,isIterable:Me,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},equalsAndHash:ts,hashCodeFor:Je,equalsFor:$e,some:Ve,none:Ue,Option:Ke,sameValueZero:Ne,strictEquals:Ge,abstractEquals:function(t,e){return t==e},sameValue:He,hammingWeight:De};t.HashMap=es,t.LinkedHashMap=ss,t.Mootable=rs,t.default=ss,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
