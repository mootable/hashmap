!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Mootable={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var i,n,s=function(t){return t&&t.Math==Math&&t},o=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},h=function(t){try{return!!t()}catch(t){return!0}},u={}.toString,c=function(t){return u.call(t).slice(8,-1)},l="".split,f=h((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==c(t)?l.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(p(t))},y=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=o.document,m=b(g)&&b(g.createElement),v=function(t){return m?g.createElement(t):{}},w=!y&&!h((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),x=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},S=function(t,e){if(!b(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!b(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!b(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!b(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")},k=Object.defineProperty,O={f:y?k:function(t,e,r){if(x(t),e=S(e,!0),x(r),w)try{return k(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=y?function(t,e,r){return O.f(t,e,E(1,r))}:function(t,e,r){return t[e]=r,t},j=function(t,e){try{A(o,t,e)}catch(r){o[t]=e}return e},M="__core-js_shared__",T=o[M]||j(M,{}),G=r((function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),P={}.hasOwnProperty,I=function(t,e){return P.call(t,e)},L=0,_=Math.random(),F=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++L+_).toString(36)},z="process"==c(o.process),C=o,N=function(t){return"function"==typeof t?t:void 0},R=function(t,e){return arguments.length<2?N(C[t])||N(o[t]):C[t]&&C[t][e]||o[t]&&o[t][e]},q=R("navigator","userAgent")||"",D=o.process,V=D&&D.versions,H=V&&V.v8;H?n=(i=H.split("."))[0]+i[1]:q&&(!(i=q.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=q.match(/Chrome\/(\d+)/))&&(n=i[1]);var K,W=n&&+n,B=!!Object.getOwnPropertySymbols&&!h((function(){return!Symbol.sham&&(z?38===W:W>37&&W<41)})),U=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Y=G("wks"),$=o.Symbol,X=U?$:$&&$.withoutSetter||F,J=function(t){return I(Y,t)&&(B||"string"==typeof Y[t])||(B&&I($,t)?Y[t]=$[t]:Y[t]=X("Symbol."+t)),Y[t]},Q=Math.ceil,Z=Math.floor,tt=function(t){return isNaN(t=+t)?0:(t>0?Z:Q)(t)},et=Math.min,rt=Math.max,it=Math.min,nt=function(t){return function(e,r,i){var n,s,o=d(e),a=(n=o.length)>0?et(tt(n),9007199254740991):0,h=function(t,e){var r=tt(t);return r<0?rt(r+e,0):it(r,e)}(i,a);if(t&&r!=r){for(;a>h;)if((s=o[h++])!=s)return!0}else for(;a>h;h++)if((t||h in o)&&o[h]===r)return t||h||0;return!t&&-1}},st={includes:nt(!0),indexOf:nt(!1)},ot={},at=st.indexOf,ht=function(t,e){var r,i=d(t),n=0,s=[];for(r in i)!I(ot,r)&&I(i,r)&&s.push(r);for(;e.length>n;)I(i,r=e[n++])&&(~at(s,r)||s.push(r));return s},ut=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ct=Object.keys||function(t){return ht(t,ut)},lt=y?Object.defineProperties:function(t,e){x(t);for(var r,i=ct(e),n=i.length,s=0;n>s;)O.f(t,r=i[s++],e[r]);return t},ft=R("document","documentElement"),pt=G("keys"),dt=function(t){return pt[t]||(pt[t]=F(t))},yt=dt("IE_PROTO"),bt=function(){},gt=function(t){return"<script>"+t+"</"+"script>"},mt=function(){try{K=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;mt=K?function(t){t.write(gt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(K):((e=v("iframe")).style.display="none",ft.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(gt("document.F=Object")),t.close(),t.F);for(var r=ut.length;r--;)delete mt.prototype[ut[r]];return mt()};ot[yt]=!0;var vt=Object.create||function(t,e){var r;return null!==t?(bt.prototype=x(t),r=new bt,bt.prototype=null,r[yt]=t):r=mt(),void 0===e?r:lt(r,e)},wt=J("unscopables"),xt=Array.prototype;null==xt[wt]&&O.f(xt,wt,{configurable:!0,value:vt(null)});var St=function(t){xt[wt][t]=!0},kt=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(t){return kt.call(t)});var Ot,Et,At,jt=T.inspectSource,Mt=o.WeakMap,Tt="function"==typeof Mt&&/native code/.test(jt(Mt)),Gt=o.WeakMap;if(Tt){var Pt=T.state||(T.state=new Gt),It=Pt.get,Lt=Pt.has,_t=Pt.set;Ot=function(t,e){return e.facade=t,_t.call(Pt,t,e),e},Et=function(t){return It.call(Pt,t)||{}},At=function(t){return Lt.call(Pt,t)}}else{var Ft=dt("state");ot[Ft]=!0,Ot=function(t,e){return e.facade=t,A(t,Ft,e),e},Et=function(t){return I(t,Ft)?t[Ft]:{}},At=function(t){return I(t,Ft)}}var zt,Ct,Nt,Rt={set:Ot,get:Et,has:At,enforce:function(t){return At(t)?Et(t):Ot(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=Et(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},qt={}.propertyIsEnumerable,Dt=Object.getOwnPropertyDescriptor,Vt={f:Dt&&!qt.call({1:2},1)?function(t){var e=Dt(this,t);return!!e&&e.enumerable}:qt},Ht=Object.getOwnPropertyDescriptor,Kt={f:y?Ht:function(t,e){if(t=d(t),e=S(e,!0),w)try{return Ht(t,e)}catch(t){}if(I(t,e))return E(!Vt.f.call(t,e),t[e])}},Wt=r((function(t){var e=Rt.get,r=Rt.enforce,i=String(String).split("String");(t.exports=function(t,e,n,s){var a,h=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,c=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||I(n,"name")||A(n,"name",e),(a=r(n)).source||(a.source=i.join("string"==typeof e?e:""))),t!==o?(h?!c&&t[e]&&(u=!0):delete t[e],u?t[e]=n:A(t,e,n)):u?t[e]=n:j(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||jt(this)}))})),Bt=ut.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return ht(t,Bt)}},Yt={f:Object.getOwnPropertySymbols},$t=R("Reflect","ownKeys")||function(t){var e=Ut.f(x(t)),r=Yt.f;return r?e.concat(r(t)):e},Xt=function(t,e){for(var r=$t(e),i=O.f,n=Kt.f,s=0;s<r.length;s++){var o=r[s];I(t,o)||i(t,o,n(e,o))}},Jt=/#|\.prototype\./,Qt=function(t,e){var r=te[Zt(t)];return r==re||r!=ee&&("function"==typeof e?h(e):!!e)},Zt=Qt.normalize=function(t){return String(t).replace(Jt,".").toLowerCase()},te=Qt.data={},ee=Qt.NATIVE="N",re=Qt.POLYFILL="P",ie=Qt,ne=Kt.f,se=function(t,e){var r,i,n,s,a,h=t.target,u=t.global,c=t.stat;if(r=u?o:c?o[h]||j(h,{}):(o[h]||{}).prototype)for(i in e){if(s=e[i],n=t.noTargetGet?(a=ne(r,i))&&a.value:r[i],!ie(u?i:h+(c?".":"#")+i,t.forced)&&void 0!==n){if(typeof s==typeof n)continue;Xt(s,n)}(t.sham||n&&n.sham)&&A(s,"sham",!0),Wt(r,i,s,t)}},oe=!h((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ae=dt("IE_PROTO"),he=Object.prototype,ue=oe?Object.getPrototypeOf:function(t){return t=Object(p(t)),I(t,ae)?t[ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?he:null},ce=J("iterator"),le=!1;[].keys&&("next"in(Nt=[].keys())?(Ct=ue(ue(Nt)))!==Object.prototype&&(zt=Ct):le=!0),(null==zt||h((function(){var t={};return zt[ce].call(t)!==t})))&&(zt={}),I(zt,ce)||A(zt,ce,(function(){return this}));var fe={IteratorPrototype:zt,BUGGY_SAFARI_ITERATORS:le},pe=O.f,de=J("toStringTag"),ye=function(t,e,r){t&&!I(t=r?t:t.prototype,de)&&pe(t,de,{configurable:!0,value:e})},be=fe.IteratorPrototype,ge=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return x(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(i),e?t.call(r,i):r.__proto__=i,r}}():void 0),me=fe.IteratorPrototype,ve=fe.BUGGY_SAFARI_ITERATORS,we=J("iterator"),xe="keys",Se="values",ke="entries",Oe=function(){return this},Ee="Array Iterator",Ae=Rt.set,je=Rt.getterFor(Ee),Me=function(t,e,r,i,n,s,o){!function(t,e,r){var i=e+" Iterator";t.prototype=vt(be,{next:E(1,r)}),ye(t,i,!1)}(r,e,i);var a,h,u,c=function(t){if(t===n&&y)return y;if(!ve&&t in p)return p[t];switch(t){case xe:case Se:case ke:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",f=!1,p=t.prototype,d=p[we]||p["@@iterator"]||n&&p[n],y=!ve&&d||c(n),b="Array"==e&&p.entries||d;if(b&&(a=ue(b.call(new t)),me!==Object.prototype&&a.next&&(ue(a)!==me&&(ge?ge(a,me):"function"!=typeof a[we]&&A(a,we,Oe)),ye(a,l,!0))),n==Se&&d&&d.name!==Se&&(f=!0,y=function(){return d.call(this)}),p[we]!==y&&A(p,we,y),n)if(h={values:c(Se),keys:s?y:c(xe),entries:c(ke)},o)for(u in h)(ve||f||!(u in p))&&Wt(p,u,h[u]);else se({target:e,proto:!0,forced:ve||f},h);return h}(Array,"Array",(function(t,e){Ae(this,{type:Ee,target:d(t),index:0,kind:e})}),(function(){var t=je(this),e=t.target,r=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:i,done:!1}:"values"==r?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");St("keys"),St("values"),St("entries");var Te=J("iterator"),Ge=J("toStringTag"),Pe=Me.values;for(var Ie in a){var Le=o[Ie],_e=Le&&Le.prototype;if(_e){if(_e[Te]!==Pe)try{A(_e,Te,Pe)}catch(t){_e[Te]=Pe}if(_e[Ge]||A(_e,Ge,Ie),a[Ie])for(var Fe in Me)if(_e[Fe]!==Me[Fe])try{A(_e,Fe,Me[Fe])}catch(t){_e[Fe]=Me[Fe]}}}var ze=O.f,Ce=o.Symbol;if(y&&"function"==typeof Ce&&(!("description"in Ce.prototype)||void 0!==Ce().description)){var Ne={},Re=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Re?new Ce(t):void 0===t?Ce():Ce(t);return""===t&&(Ne[e]=!0),e};Xt(Re,Ce);var qe=Re.prototype=Ce.prototype;qe.constructor=Re;var De=qe.toString,Ve="Symbol(test)"==String(Ce("test")),He=/^Symbol\((.*)\)[^)]+$/;ze(qe,"description",{configurable:!0,get:function(){var t=b(this)?this.valueOf():this,e=De.call(t);if(I(Ne,t))return"";var r=Ve?e.slice(7,-1):e.replace(He,"$1");return""===r?void 0:r}}),se({global:!0,forced:!0},{Symbol:Re})}const Ke=Math.pow(2,32);function We(t,e=0,r=0){const i=1&(e=e&&e>0?Math.min(e,t.length):t.length),n=e-i;let s=r|=0,o=0,a=0;for(;a<n;)o=65535&t.charCodeAt(a++)|(65535&t.charCodeAt(a++))<<16,o*=3432918353*o|0,o=o<<15|o>>>17,o*=461845907,s^=o,s=s<<13|s>>>19,s=5*s+3864292196;return i&&(o^=65535&t.charCodeAt(a),o*=3432918353,o=o<<15|o>>>17,o*=461845907,s^=o),s^=e,s^=s>>>16,s*=2246822507,s^=s>>>13,s*=3266489909,s^=s>>>16,0|s}function Be(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Ue(t){return!(!t||!Be(t[Symbol.iterator]))}function Ye(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function $e(t){const e=typeof t;switch(e){case"undefined":return 0;case"boolean":return t?1:0;case"string":return We(t);case"number":return Number.isFinite(t)?Number.isSafeInteger(t)?0|t:We(t.toString()):0;case"bigint":case"symbol":case"function":return We(t.toString());case"object":default:{if(null===t)return 0;if(t.hashCode)return Be(t.hashCode)?t.hashCode(t):$e(t.hashCode);if(t instanceof RegExp||t instanceof Date)return We(t.toString());if(t.hasOwnProperty("_mootable_hashCode"))return $e(t._mootable_hashCode);const r=We(e,0,Math.floor(Math.random()*Ke));return Object.defineProperty(t,"_mootable_hashCode",{value:r}),r}}}function Xe(t){if("object"==typeof t){if(t instanceof RegExp)return(t,e)=>e instanceof RegExp&&t.toString()===e.toString();if(t instanceof Date)return(t,e)=>e instanceof Date&&t.getTime()===e.getTime()}return t&&Be(t.equals)&&t.equals(t,t)?(t,e)=>t.equals(e,t):Ye}function Je(t,e=$e(t),r=Xe(t)){return{hash:e,equals:r}}class Qe{constructor(t,e){this.has=t,this.value=e}static get none(){return tr}get size(){return this.has?1:0}static some(t){return new Qe(!0,t)}*[Symbol.iterator](){this.has&&(yield this.value)}}const Ze=Qe.some,tr=new Qe(!1,void 0);class er{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof er?t:new nr(t)}filter(t=(()=>!0),e=this){return new sr(this,t,e)}forEach(t=(()=>{}),e=this){for(const[r,i]of this)t.call(e,i,r,this);return this}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Be(t.set))for(const[e,r]of this)t.set(e,r);else if(Be(t.add))for(const e of this)t.add(e);else for(const[e,r]of this)t[e]=r;return t}every(t=(()=>!0),e=this){for(const[r,i]of this)if(!t.call(e,i,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const[r,i]of this)if(t.call(e,i,r,this))return!0;return!1}find(t=(()=>!0),e=this){for(const[r,i]of this)if(t.call(e,i,r,this))return i}findIndex(t=((t,e)=>e),e=this){for(const[r,i]of this)if(t.call(e,i,r,this))return r}indexOf(t,e=Xe(t)){for(const[r,i]of this)if(e(t,i))return r}has(t,e=Xe(t)){return this.some(((r,i)=>e(i,t)))}get(t,e=Xe(t)){return this.find(((r,i)=>e(t,i)))}optionalGet(t,e=Xe(t)){let r=!1;const i=this.find(((i,n)=>!!e(t,n)&&(r=!0,!0)));return r?Ze(i):tr}reduce(t=((t,e)=>e),e,r=this){let i=e;for(const[e,n]of this)i=t.call(r,i,n,e,this);return i}mapKeys(t=((t,e)=>e),e=this){return new or(this,t,e)}mapValues(t=(t=>t),e=this){return new ar(this,t,e)}mapEntries(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t)){if(1===t.length&&Be(t[0]))return this.mapKeys(t[0],e);if(t.length>1){if(Be(t[0])){if(Be(t[1])){return new hr(this,((r,i,n)=>[t[0].call(e,r,i,n),t[1].call(e,r,i,n)]),this)}return this.mapKeys(t[0],e)}if(Be(t[1]))return this.mapValues(t[1],e)}}else if(Be(t))return new hr(this,t,e);throw new TypeError("MapIterable.mapEntries expects a function or an array of functions")}map(t=((t,e)=>[e,t]),e=this){if(Array.isArray(t))return this.mapEntries(t,e);if(Be(t))return new pr(this,t,e);throw new TypeError("MapIterable.map expects a function or an array of functions")}concat(t){return t?t instanceof er||t instanceof Map?this.concatMap(t):new cr(this,rr.from(t)):this}concatMap(t){return t?new ur(this,er.from(t)):this}keys(){return new fr(this)}values(){return new lr(this)}entries(){return this}}class rr{get size(){let t=0;for(const e of this)t++;return t}static from(t){return t instanceof rr?t:new ir(t)}filter(t=(()=>!0),e=this){return new yr(this,t,e)}forEach(t=(()=>{}),e=this){for(const r of this)t.call(e,r,r,this)}collect(t=[]){if(Array.isArray(t))return t.length?t.concat(Array.from(this)):Array.from(this);if(Be(t.add))for(const e of this)t.add(e);else if(Be(t.set))for(const e of this)t.set(e);return t}reduce(t=((t,e)=>e),e,r=this){let i=e;for(const e of this)i=t.call(r,i,e,e,this);return i}every(t=(()=>!0),e=this){for(const r of this)if(!t.call(e,r,r,this))return!1;return!0}some(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,this))return!0;return!1}has(t,e=Xe(t)){return this.some((r=>e(r,t)))}find(t=(()=>!0),e=this){for(const r of this)if(t.call(e,r,r,this))return r}map(t=(t=>t),e=this){return new dr(this,t,e)}concat(t=[]){return new cr(this,rr.from(t))}values(){return this}keys(){return this}entries(){return er.from(this.map((t=>[t,t])))}}class ir extends rr{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}has(t,e=Xe(t)){return this.iterable instanceof Set||this.iterable instanceof rr?this.iterable.has(t,e):super.has(t,e)}*[Symbol.iterator](){yield*this.iterable}}class nr extends er{constructor(t,e){super(),this.iterable=t,this.ctx=e||t}get size(){return this.iterable.length?this.iterable.length:this.iterable.size?this.iterable.size:super.size}*[Symbol.iterator](){yield*this.iterable}has(t){return this.optionalGet(t).has}optionalGet(t){return Be(this.iterable.optionalGet)?this.iterable.optionalGet(t):Be(this.iterable.has)?this.iterable.has(t)?(Be(this.iterable.get)&&Ze(this.iterable.get(t)),Ze(super.get(t))):tr:super.optionalGet(t)}get(t){return this.optionalGet(t).value}}class sr extends nr{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let[t,e]of this.iterable)this.filterPredicate.call(this.ctx,e,t,this)&&(yield[t,e])}optionalGet(t){const e=super.optionalGet(t);return e.has&&!this.filterPredicate.call(this.ctx,e.value,t,this)?tr:e}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class or extends nr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[this.mapFunction.call(this.ctx,e,t,this),e]}}class ar extends nr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield[t,this.mapFunction.call(this.ctx,e,t,this)]}optionalGet(t){const e=super.optionalGet(t);return e.has?Ze(this.mapFunction.call(this.ctx,e.value,t,this)):e}}class hr extends nr{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable){const[r,i]=this.mapFunction.call(this.ctx,e,t,this);yield[r,i]}}get(t){if(this.iterable.has(t)){const e=this.iterable.get(t);return this.mapFunction.call(this.ctx,e,t,this)[1]}}}class ur extends er{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}optionalGet(t){const e=this.iterable.optionalGet(t);return e.has?e:this.otherIterable.optionalGet(t)}has(t){return this.optionalGet(t).has}get(t){return this.optionalGet(t).value}}class cr extends rr{constructor(t,e){super(),this.iterable=t,this.otherIterable=e}get size(){return this.iterable.size+this.otherIterable.size}has(t,e=Xe(t)){return this.iterable.has(t,e)||this.otherIterable.has(t,e)}*[Symbol.iterator](){yield*this.iterable,yield*this.otherIterable}}class lr extends ir{constructor(t){super(t)}*[Symbol.iterator](){for(let[,t]of this.iterable)yield t}has(t,e=Xe(t)){return Array.isArray(t),this.iterable.some((r=>e(t,r)))}}class fr extends ir{constructor(t){super(t)}*[Symbol.iterator](){for(let[t]of this.iterable)yield t}has(t){return this.iterable.optionalGet(t).has}}class pr extends ir{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let[t,e]of this.iterable)yield this.mapFunction.call(this.ctx,e,t,this)}has(t,e=Xe(t)){return this.some((r=>e(t,r)))}}class dr extends ir{constructor(t,e,r){super(t,r),this.mapFunction=e}*[Symbol.iterator](){for(let t of this.iterable)yield this.mapFunction.call(this.ctx,t,t,this)}has(t,e=Xe(t)){return this.some((r=>e(t,r)))}}class yr extends ir{constructor(t,e,r){super(t,r),this.filterPredicate=e}get size(){let t=0;for(const e of this)t++;return t}*[Symbol.iterator](){for(let t of this.iterable)this.filterPredicate.call(this.ctx,t,t,this)&&(yield t)}has(t,e=Xe(t)){return!!this.iterable.has(t,e)&&this.filterPredicate.call(this.ctx,t,t,this)}}class br{constructor(t,e){this.key=t,this.value=e}overwrite(t){t.value=this.value}delete(){}}class gr extends er{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6}){super();let{depth:e,widthAs2sExponent:r,copy:i}=t;r=Math.max(1,Math.min(16,r));const n=(32/r>>0)-1;e=Math.max(0,Math.min(e&&e>0?e-1:n,n));const s=1<<r,o=s-1;this.options=Object.freeze({widthAs2sExponent:r,width:s,mask:o,depth:e}),this.clear(),(t.forEach||i&&i.forEach)&&this.copy(t.forEach?t:i)}get size(){return this.length}has(t,e=Je(t)){return!!this.buckets&&this.buckets.has(t,e.equals,e.hash)}get(t,e=Je(t)){if(this.buckets)return this.buckets.get(t,e.equals,e.hash)}optionalGet(t,e=Je(t)){return this.buckets?this.buckets.optionalGet(t,e.equals,e.hash):tr}set(t,e,r=Je(t)){return this.addEntry(new br(t,e),r),this}addEntry(t,e){return this.buckets?(this.buckets=this.buckets.set(t,e.equals,e.hash),this.length=this.buckets.length):(this.buckets=new wr(t,e.hash,Object.assign({},this.options),this.options.depth),this.length=1),t}copy(t){const e=this;if(Ue(t)){for(const[r,i]of t)e.set(r,i);return this}if(Be(t.entries)){for(const[r,i]of t.entries())e.set(r,i);return this}if(Be(t.forEach))return t.forEach((function(t,r){e.set(r,t)})),this;throw new TypeError("HashMap.copy expects an object which is iterable or has a forEach function on it")}clone(){return new gr({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}delete(t,e=Je(t)){return this.buckets&&(this.buckets=this.buckets.delete(t,e.equals,e.hash),this.buckets?this.length=this.buckets.length:this.length=0),this}clear(){return this.buckets=void 0,this.length=0,this}*[Symbol.iterator](){if(this.buckets)for(const t of this.buckets)yield t}}class mr{constructor(t){this.entry=t,this.length=1}get key(){return this.entry.key}get value(){return this.entry.value}get(t,e){if(e(t,this.key))return this.entry.value}optionalGet(t,e){return e(t,this.key)?Ze(this.entry.value):tr}set(t,e){return e(t.key,this.key)?(t.overwrite(this.entry),this):new vr(t,this)}has(t,e){return e(t,this.key)}delete(t,e){if(!e(t,this.key))return this;this.entry.delete()}forEach(t,e){return t.call(e,this.value,this.key),this}*[Symbol.iterator](){0!==this.length&&(yield[this.key,this.value])}}class vr extends mr{constructor(t,e){super(t),this.next=e,this.length=e.length+1}get(t,e){let r=this;do{if(e(t,r.key))return r.value;r=r.next}while(r)}optionalGet(t,e){let r=this;do{if(e(t,r.key))return Ze(r.value);r=r.next}while(r);return tr}set(t,e){let r=this;for(;r;){if(e(t.key,r.key))return t.overwrite(this.entry),this;r=r.next}return new vr(t,this)}has(t,e){let r=this;do{if(e(t,r.key))return!0;r=r.next}while(r);return!1}delete(t,e){if(e(t,this.key))return this.entry.delete(),this.next&&(this.next.length=this.length-1),this.next;let r=this.next,i=this;for(;r;){if(e(t,r.key)){r.entry.delete();const t=r.next;return t?(r.entry=t.entry,r.next=t.next):i.next=void 0,this.length--,this}i=r,r=r.next}return this}*[Symbol.iterator](){let t=this;for(;t;)yield[t.key,t.value],t=t.next}}class wr extends mr{constructor(t,e,r,i){super(t),this.hash=e,this.options=r,this.depth=i}set(t,e,r){if(r===this.hash&&e(t.key,this.key))return t.overwrite(this.entry),this;const i=new xr(this.options,this.depth);return i.set(this.entry,(()=>!1),this.hash),i.set(t,(()=>!1),r),i}get(t,e,r){if(r===this.hash&&e(t,this.key))return this.value}optionalGet(t,e,r){return r===this.hash&&e(t,this.key)?Ze(this.value):tr}has(t,e,r){return r===this.hash&&e(t,this.key)}delete(t,e,r){if(r!==this.hash||!e(t,this.key))return this;this.entry.delete()}}class xr{constructor(t,e){this.options=t,this.length=0,this.depth=e,this.buckets=new Array(this.options.width)}get(t,e,r){const i=this.buckets[r&this.options.mask];if(i)return i.get(t,e,r>>>this.options.widthAs2sExponent)}optionalGet(t,e,r){const i=this.buckets[r&this.options.mask];return i?i.optionalGet(t,e,r>>>this.options.widthAs2sExponent):tr}set(t,e,r){const i=r&this.options.mask;let n=this.buckets[i];if(n){const s=n.length;this.buckets[i]=n.set(t,e,r>>>this.options.widthAs2sExponent),this.buckets[i].length!==s&&this.length++}else this.depth?(this.buckets[i]=new wr(t,r>>>this.options.widthAs2sExponent,this.options,this.depth-1),this.length++):(this.buckets[i]=new mr(t),this.length++);return this}has(t,e,r){const i=this.buckets[r&this.options.mask];return!!i&&i.has(t,e,r>>>this.options.widthAs2sExponent)}delete(t,e,r){const i=r&this.options.mask;let n=this.buckets[i];return n&&(n=n.delete(t,e,r>>>this.options.widthAs2sExponent),n&&0!==n.length||(this.buckets[i]=void 0,this.length--)),this}*[Symbol.iterator](){for(const t of this.buckets)if(t)for(const e of t)yield e}}class Sr extends br{constructor(t,e){super(t,e),this.previous=void 0,this.next=void 0}overwrite(t){t.value=this.value,this.deleted=!0}delete(){this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous),this.deleted=!0}}class kr extends gr{constructor(t={copy:void 0,depth:void 0,widthAs2sExponent:6}){super(t),this.start=void 0,this.end=void 0}set(t,e,r=Je(t)){const i=this.addEntry(new Sr(t,e),r);return this.end?i.deleted||(this.end.next=i,i.previous=this.end,this.end=i):this.end=this.start=i,this}delete(t,e=Je(t)){return super.delete(t,e),this.start&&this.start.deleted&&(this.start=this.start.next),this.end&&this.end.deleted&&(this.end=this.end.previous),this}clone(){return new kr({copy:this,depth:this.options.depth,widthAs2sExponent:this.options.widthAs2sExponent})}*[Symbol.iterator](){let t=this.start;for(;t;)yield[t.key,t.value],t=t.next}}const Or={HashMap:gr,LinkedHashMap:kr,MapIterable:er,SetIterable:rr,Utils:{hash:We,isFunction:Be,isIterable:Ue,isString:function(t){return!(!t||!("string"==typeof t||t instanceof String))},hashEquals:Je,hashCodeFor:$e,equalsFor:Xe,some:Ze,none:tr,Option:Qe}};t.HashMap=gr,t.LinkedHashMap=kr,t.Mootable=Or,t.default=gr,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=hashmap.umd.min.js.map
